#### Test (Fail) 100139766 Build Logs


```


```

```
Already up-to-date.

From https://github.com/thaliproject/Thali_CordovaPlugin
   fc21a80..c49686b  iOS_aaladev_1374 -> origin/iOS_aaladev_1374
   a047ce7..0cd32b0  mlesnic_1594 -> origin/mlesnic_1594

```

```
Your branch is up-to-date with 'origin/master'.
Branch iOS set up to track remote branch iOS from origin.
Already up-to-date.

Already on 'master'
Switched to a new branch 'iOS'
Note: checking out 'c49686b'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at c49686b... fixed retry logick for conneect to peer

```

```

start build.sh

-- Environment:
Cordova version: 6.4.0
Node version: v6.9.1
JXcore version: v0.3.1.8
JXcore engine: Google V8 v3.14.5.9
xcodebuild version: Xcode 7.3.1


start setUpDesktop.sh

start preparing TestServer
thali-test-server@0.0.1 /Users/thali/Github/Thali_CordovaPlugin/test/TestServer
â”œâ”€â”€ bluebird@3.4.6 
â”œâ”€â”¬ express@4.13.3 
â”‚ â”œâ”€â”¬ accepts@1.2.13 
â”‚ â”‚ â”œâ”€â”¬ mime-types@2.1.13 
â”‚ â”‚ â”‚ â””â”€â”€ mime-db@1.25.0 
â”‚ â”‚ â””â”€â”€ negotiator@0.5.3 
â”‚ â”œâ”€â”€ array-flatten@1.1.1 
â”‚ â”œâ”€â”€ content-disposition@0.5.0 
â”‚ â”œâ”€â”€ content-type@1.0.2 
â”‚ â”œâ”€â”€ cookie@0.1.3 
â”‚ â”œâ”€â”€ cookie-signature@1.0.6 
â”‚ â”œâ”€â”¬ debug@2.2.0 
â”‚ â”‚ â””â”€â”€ ms@0.7.1 
â”‚ â”œâ”€â”€ depd@1.0.1 
â”‚ â”œâ”€â”€ escape-html@1.0.2 
â”‚ â”œâ”€â”€ etag@1.7.0 
â”‚ â”œâ”€â”¬ finalhandler@0.4.0 
â”‚ â”‚ â””â”€â”€ unpipe@1.0.0 
â”‚ â”œâ”€â”€ fresh@0.3.0 
â”‚ â”œâ”€â”€ merge-descriptors@1.0.0 
â”‚ â”œâ”€â”€ methods@1.1.2 
â”‚ â”œâ”€â”¬ on-finished@2.3.0 
â”‚ â”‚ â””â”€â”€ ee-first@1.1.1 
â”‚ â”œâ”€â”€ parseurl@1.3.1 
â”‚ â”œâ”€â”€ path-to-regexp@0.1.7 
â”‚ â”œâ”€â”¬ proxy-addr@1.0.10 
â”‚ â”‚ â”œâ”€â”€ forwarded@0.1.0 
â”‚ â”‚ â””â”€â”€ ipaddr.js@1.0.5 
â”‚ â”œâ”€â”€ qs@4.0.0 
â”‚ â”œâ”€â”€ range-parser@1.0.3 
â”‚ â”œâ”€â”¬ send@0.13.0 
â”‚ â”‚ â”œâ”€â”€ destroy@1.0.3 
â”‚ â”‚ â”œâ”€â”¬ http-errors@1.3.1 
â”‚ â”‚ â”‚ â””â”€â”€ inherits@2.0.3 
â”‚ â”‚ â”œâ”€â”€ mime@1.3.4 
â”‚ â”‚ â””â”€â”€ statuses@1.2.1 
â”‚ â”œâ”€â”¬ serve-static@1.10.3 
â”‚ â”‚ â”œâ”€â”€ escape-html@1.0.3 
â”‚ â”‚ â””â”€â”¬ send@0.13.2 
â”‚ â”‚   â”œâ”€â”€ depd@1.1.0 
â”‚ â”‚   â””â”€â”€ destroy@1.0.4 
â”‚ â”œâ”€â”¬ type-is@1.6.14 
â”‚ â”‚ â””â”€â”€ media-typer@0.3.0 
â”‚ â”œâ”€â”€ utils-merge@1.0.0 
â”‚ â””â”€â”€ vary@1.0.1 
â”œâ”€â”¬ fs-extra-promise@0.2.0 
â”‚ â”œâ”€â”€ bluebird@2.11.0 
â”‚ â””â”€â”¬ fs-extra@0.21.0 
â”‚   â”œâ”€â”€ graceful-fs@4.1.11 
â”‚   â”œâ”€â”€ jsonfile@2.4.0 
â”‚   â””â”€â”¬ rimraf@2.5.4 
â”‚     â””â”€â”¬ glob@7.1.1 
â”‚       â”œâ”€â”€ fs.realpath@1.0.0 
â”‚       â”œâ”€â”¬ inflight@1.0.6 
â”‚       â”‚ â””â”€â”€ wrappy@1.0.2 
â”‚       â”œâ”€â”¬ minimatch@3.0.3 
â”‚       â”‚ â””â”€â”¬ brace-expansion@1.1.6 
â”‚       â”‚   â”œâ”€â”€ balanced-match@0.4.2 
â”‚       â”‚   â””â”€â”€ concat-map@0.0.1 
â”‚       â”œâ”€â”€ once@1.4.0 
â”‚       â””â”€â”€ path-is-absolute@1.0.1 
â”œâ”€â”€ node-uuid@1.4.7 
â”œâ”€â”€ object-assign@4.1.0 
â”œâ”€â”¬ socket.io@1.4.8 
â”‚ â”œâ”€â”¬ engine.io@1.6.11 
â”‚ â”‚ â”œâ”€â”¬ accepts@1.1.4 
â”‚ â”‚ â”‚ â”œâ”€â”¬ mime-types@2.0.14 
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ mime-db@1.12.0 
â”‚ â”‚ â”‚ â””â”€â”€ negotiator@0.4.9 
â”‚ â”‚ â”œâ”€â”€ base64id@0.1.0 
â”‚ â”‚ â”œâ”€â”¬ engine.io-parser@1.2.4 
â”‚ â”‚ â”‚ â”œâ”€â”€ after@0.8.1 
â”‚ â”‚ â”‚ â”œâ”€â”€ arraybuffer.slice@0.0.6 
â”‚ â”‚ â”‚ â”œâ”€â”€ base64-arraybuffer@0.1.2 
â”‚ â”‚ â”‚ â”œâ”€â”€ blob@0.0.4 
â”‚ â”‚ â”‚ â”œâ”€â”€ has-binary@0.1.6 
â”‚ â”‚ â”‚ â””â”€â”€ utf8@2.1.0 
â”‚ â”‚ â””â”€â”¬ ws@1.1.0 
â”‚ â”‚   â”œâ”€â”€ options@0.0.6 
â”‚ â”‚   â””â”€â”€ ultron@1.0.2 
â”‚ â”œâ”€â”¬ has-binary@0.1.7 
â”‚ â”‚ â””â”€â”€ isarray@0.0.1 
â”‚ â”œâ”€â”¬ socket.io-adapter@0.4.0 
â”‚ â”‚ â””â”€â”¬ socket.io-parser@2.2.2 
â”‚ â”‚   â”œâ”€â”€ debug@0.7.4 
â”‚ â”‚   â””â”€â”€ json3@3.2.6 
â”‚ â”œâ”€â”¬ socket.io-client@1.4.8 
â”‚ â”‚ â”œâ”€â”€ backo2@1.0.2 
â”‚ â”‚ â”œâ”€â”€ component-bind@1.0.0 
â”‚ â”‚ â”œâ”€â”€ component-emitter@1.2.0 
â”‚ â”‚ â”œâ”€â”¬ engine.io-client@1.6.11 
â”‚ â”‚ â”‚ â”œâ”€â”€ component-inherit@0.0.3 
â”‚ â”‚ â”‚ â”œâ”€â”€ has-cors@1.1.0 
â”‚ â”‚ â”‚ â”œâ”€â”€ parsejson@0.0.1 
â”‚ â”‚ â”‚ â”œâ”€â”€ parseqs@0.0.2 
â”‚ â”‚ â”‚ â”œâ”€â”€ ws@1.0.1 
â”‚ â”‚ â”‚ â”œâ”€â”€ xmlhttprequest-ssl@1.5.1 
â”‚ â”‚ â”‚ â””â”€â”€ yeast@0.1.2 
â”‚ â”‚ â”œâ”€â”€ indexof@0.0.1 
â”‚ â”‚ â”œâ”€â”€ object-component@0.0.3 
â”‚ â”‚ â”œâ”€â”¬ parseuri@0.0.4 
â”‚ â”‚ â”‚ â””â”€â”¬ better-assert@1.0.2 
â”‚ â”‚ â”‚   â””â”€â”€ callsite@1.0.0 
â”‚ â”‚ â””â”€â”€ to-array@0.1.4 
â”‚ â””â”€â”¬ socket.io-parser@2.2.6 
â”‚   â”œâ”€â”€ benchmark@1.0.0 
â”‚   â”œâ”€â”€ component-emitter@1.1.2 
â”‚   â””â”€â”€ json3@3.3.2 
â””â”€â”¬ winston@2.2.0 
  â”œâ”€â”€ async@1.0.0 
  â”œâ”€â”€ colors@1.0.3 
  â”œâ”€â”€ cycle@1.0.3 
  â”œâ”€â”€ eyes@0.1.8 
  â”œâ”€â”€ isstream@0.1.2 
  â”œâ”€â”€ pkginfo@0.3.1 
  â””â”€â”€ stack-trace@0.0.9 

end preparing TestServer


start installing Thali root
[33mPreparing NPM for JXcore (v0.3.1.8) for the first run[39m
[33mDownloading NPM for JXcore[39m
...
[33mextracting /Users/thali/.jx/npm.tar.gz[39m
NPM for JX is ready.
executing... please wait.

> thali@2.1.0 postinstall /Users/thali/Github/Thali_CordovaPlugin/thali
> "/usr/local/bin/jx" installCordovaPlugin.js

We believe we are in a clone of the GitHub Repo so we will not install Cordova dependencies

> thali@2.1.0 prepublish /Users/thali/Github/Thali_CordovaPlugin/thali
> "/usr/local/bin/jx" install/prePublishThaliCordovaPlugin.js

thali@2.1.0
â”‚ /Users/thali/Github/Thali_CordovaPlugin/thali
â”‚ Thali Cordova Plugin
â”‚ git+https://github.com/thaliproject/Thali_CordovaPlugin.git
â”‚ https://github.com/thaliproject/Thali_CordovaPlugin/tree/story_00#readme
â”œâ”€â”€ bluebird@3.4.6 
â”‚   Full featured Promises/A+ implementation with exceptionally good performance
â”‚   git://github.com/petkaantonov/bluebird.git
â”‚   https://github.com/petkaantonov/bluebird
â”œâ”€â”€ body-parser@1.13.3 
â”‚   Node.js body parsing middleware
â”‚   git+https://github.com/expressjs/body-parser.git
â”‚   https://github.com/expressjs/body-parser
â”œâ”€â”€ eslint@3.11.1 
â”‚   An AST-based pattern checker for JavaScript.
â”‚   git+https://github.com/eslint/eslint.git
â”‚   http://eslint.org
â”œâ”€â”€ express@4.13.3 
â”‚   Fast, unopinionated, minimalist web framework
â”‚   git+https://github.com/strongloop/express.git
â”‚   http://expressjs.com/
â”œâ”€â”€ forever-agent@0.6.1  (git+https://github.com/thaliproject/forever-agent.git#f1078b5095dfe00ad0d80779eba75e563b54608b)
â”‚   HTTP Agent that keeps socket connections alive between keep-alive requests. Formerly part of mikeal/request, now a standalone module.
â”‚   git+https://github.com/mikeal/forever-agent.git
â”‚   https://github.com/mikeal/forever-agent#readme
â”‚   git+https://github.com/thaliproject/forever-agent.git#f1078b5095dfe00ad0d80779eba75e563b54608b
â”œâ”€â”€ ip@1.0.1 
â”‚   IP address utilities for node.js
â”‚   git+ssh://git@github.com/indutny/node-ip.git
â”‚   https://github.com/indutny/node-ip
â”œâ”€â”€ javascript-state-machine@2.3.5 
â”‚   A simple finite state machine library
â”‚   git://github.com/jakesgordon/javascript-state-machine.git
â”‚   https://github.com/jakesgordon/javascript-state-machine
â”œâ”€â”€ jsdoc@3.3.3 
â”‚   An API documentation generator for JavaScript.
â”‚   git+https://github.com/jsdoc3/jsdoc.git
â”‚   https://github.com/jsdoc3/jsdoc#readme
â”œâ”€â”€ lie@3.1.0 
â”‚   A basic but performant promise implementation
â”‚   git+https://github.com/calvinmetcalf/lie.git
â”‚   https://github.com/calvinmetcalf/lie#readme
â”œâ”€â”€ long@3.0.3 
â”‚   A Long class for representing a 64-bit two's-complement integer value.
â”‚   git+https://github.com/dcodeIO/long.js.git
â”‚   https://github.com/dcodeIO/long.js#readme
â”œâ”€â”€ multiplex@6.7.0 
â”‚   A binary stream multiplexer. Stream multiple streams of binary data over a single binary stream.
â”‚   git+https://github.com/maxogden/multiplex.git
â”‚   https://github.com/maxogden/multiplex
â”œâ”€â”€ node-ssdp@2.6.5  (git+https://github.com/thaliproject/node-ssdp.git#8feabedb80d054d354ea1fc6bd55045df65fd18f)
â”‚   A node.js SSDP client and server library.
â”‚   git+ssh://git@github.com/diversario/node-ssdp.git
â”‚   https://github.com/diversario/node-ssdp#readme
â”‚   git+https://github.com/thaliproject/node-ssdp.git#8feabedb80d054d354ea1fc6bd55045df65fd18f
â”œâ”€â”€ object-assign@4.1.0 
â”‚   ES2015 Object.assign() ponyfill
â”‚   git+https://github.com/sindresorhus/object-assign.git
â”‚   https://github.com/sindresorhus/object-assign#readme
â”œâ”€â”€ request@2.64.0 
â”‚   Simplified HTTP request client.
â”‚   git+https://github.com/request/request.git
â”‚   https://github.com/request/request#readme
â”œâ”€â”€ salti@0.2.1  (git+https://github.com/thaliproject/salti.git#5182ec528e6c121aa16ab3ee8eb4a1e45f3d3822)
â”‚   Simple Authentication and Authorization for Thali IoT
â”‚   git+https://github.com/thaliproject/salti.git
â”‚   https://github.com/thaliproject/salti#readme
â”‚   git+https://github.com/thaliproject/salti.git#master
â”œâ”€â”€ urlsafe-base64@1.0.0 
â”‚   URL Safe Base64 encoding
â”‚   git+ssh://git@github.com/RGBboy/urlsafe-base64.git
â”‚   https://github.com/RGBboy/urlsafe-base64
â”œâ”€â”€ uuid@2.0.2 
â”‚   Rigorous implementation of RFC4122 (v1 and v4) UUIDs.
â”‚   git+https://github.com/shtylman/node-uuid.git
â”‚   https://github.com/shtylman/node-uuid#readme
â””â”€â”€ winston@2.2.0 
    A multi-transport async logging library for Node.js
    git+https://github.com/winstonjs/winston.git
    https://github.com/winstonjs/winston#readme


> thali@2.1.0 postinstall /Users/thali/Github/Thali_CordovaPlugin/thali
> node installCordovaPlugin.js

We believe we are in a clone of the GitHub Repo so we will not install Cordova dependencies

> thali@2.1.0 prepublish /Users/thali/Github/Thali_CordovaPlugin/thali
> node install/prePublishThaliCordovaPlugin.js

/usr/local/lib/node_modules/thali -> /Users/thali/Github/Thali_CordovaPlugin/thali
end installing Thali root


start installing Thali install
install@0.0.1 /Users/thali/Github/Thali_CordovaPlugin/thali/install
â”œâ”€â”€ bluebird@3.4.6 
â”œâ”€â”¬ child-process-promise@1.1.0 
â”‚ â””â”€â”€ q@1.4.1 
â”œâ”€â”€ end-with@1.0.2 
â”œâ”€â”€ findit@2.0.0 
â”œâ”€â”¬ fs-extra-promise@0.2.0 
â”‚ â”œâ”€â”€ bluebird@2.11.0 
â”‚ â””â”€â”¬ fs-extra@0.21.0 
â”‚   â”œâ”€â”€ graceful-fs@4.1.11 
â”‚   â”œâ”€â”€ jsonfile@2.4.0 
â”‚   â””â”€â”¬ rimraf@2.5.4 
â”‚     â””â”€â”¬ glob@7.1.1 
â”‚       â”œâ”€â”€ fs.realpath@1.0.0 
â”‚       â”œâ”€â”¬ inflight@1.0.6 
â”‚       â”‚ â””â”€â”€ wrappy@1.0.2 
â”‚       â”œâ”€â”¬ minimatch@3.0.3 
â”‚       â”‚ â””â”€â”¬ brace-expansion@1.1.6 
â”‚       â”‚   â”œâ”€â”€ balanced-match@0.4.2 
â”‚       â”‚   â””â”€â”€ concat-map@0.0.1 
â”‚       â”œâ”€â”€ once@1.4.0 
â”‚       â””â”€â”€ path-is-absolute@1.0.1 
â”œâ”€â”¬ jxc@1.0.14 
â”‚ â””â”€â”¬ jxtools@0.0.4  (git+https://github.com/ktrzeciaknubisa/jxtools.git#644cf31ea259cb65a97e5c3ed5ea1236dba298a3)
â”‚   â”œâ”€â”€ adm-zip@0.4.7 
â”‚   â””â”€â”€ progress@1.1.8 
â”œâ”€â”¬ lie@3.1.0 
â”‚ â””â”€â”€ immediate@3.0.6 
â”œâ”€â”€ node-uuid@1.4.7 
â”œâ”€â”¬ randomstring@1.1.5 
â”‚ â””â”€â”€ array-uniq@1.0.2 
â”œâ”€â”¬ request@2.74.0 
â”‚ â”œâ”€â”€ aws-sign2@0.6.0 
â”‚ â”œâ”€â”€ aws4@1.5.0 
â”‚ â”œâ”€â”¬ bl@1.1.2 
â”‚ â”‚ â””â”€â”¬ readable-stream@2.0.6 
â”‚ â”‚   â”œâ”€â”€ isarray@1.0.0 
â”‚ â”‚   â”œâ”€â”€ process-nextick-args@1.0.7 
â”‚ â”‚   â””â”€â”€ util-deprecate@1.0.2 
â”‚ â”œâ”€â”€ caseless@0.11.0 
â”‚ â”œâ”€â”¬ combined-stream@1.0.5 
â”‚ â”‚ â””â”€â”€ delayed-stream@1.0.0 
â”‚ â”œâ”€â”€ extend@3.0.0 
â”‚ â”œâ”€â”€ forever-agent@0.6.1 
â”‚ â”œâ”€â”¬ form-data@1.0.1 
â”‚ â”‚ â””â”€â”¬ async@2.1.4 
â”‚ â”‚   â””â”€â”€ lodash@4.17.4 
â”‚ â”œâ”€â”¬ har-validator@2.0.6 
â”‚ â”‚ â”œâ”€â”¬ chalk@1.1.3 
â”‚ â”‚ â”‚ â”œâ”€â”€ ansi-styles@2.2.1 
â”‚ â”‚ â”‚ â”œâ”€â”€ escape-string-regexp@1.0.5 
â”‚ â”‚ â”‚ â”œâ”€â”¬ has-ansi@2.0.0 
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ ansi-regex@2.0.0 
â”‚ â”‚ â”‚ â”œâ”€â”€ strip-ansi@3.0.1 
â”‚ â”‚ â”‚ â””â”€â”€ supports-color@2.0.0 
â”‚ â”‚ â”œâ”€â”¬ commander@2.9.0 
â”‚ â”‚ â”‚ â””â”€â”€ graceful-readlink@1.0.1 
â”‚ â”‚ â”œâ”€â”¬ is-my-json-valid@2.15.0 
â”‚ â”‚ â”‚ â”œâ”€â”€ generate-function@2.0.0 
â”‚ â”‚ â”‚ â”œâ”€â”¬ generate-object-property@1.2.0 
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ is-property@1.0.2 
â”‚ â”‚ â”‚ â”œâ”€â”€ jsonpointer@4.0.1 
â”‚ â”‚ â”‚ â””â”€â”€ xtend@4.0.1 
â”‚ â”‚ â””â”€â”¬ pinkie-promise@2.0.1 
â”‚ â”‚   â””â”€â”€ pinkie@2.0.4 
â”‚ â”œâ”€â”¬ hawk@3.1.3 
â”‚ â”‚ â”œâ”€â”€ boom@2.10.1 
â”‚ â”‚ â”œâ”€â”€ cryptiles@2.0.5 
â”‚ â”‚ â”œâ”€â”€ hoek@2.16.3 
â”‚ â”‚ â””â”€â”€ sntp@1.0.9 
â”‚ â”œâ”€â”¬ http-signature@1.1.1 
â”‚ â”‚ â”œâ”€â”€ assert-plus@0.2.0 
â”‚ â”‚ â”œâ”€â”¬ jsprim@1.3.1 
â”‚ â”‚ â”‚ â”œâ”€â”€ extsprintf@1.0.2 
â”‚ â”‚ â”‚ â”œâ”€â”€ json-schema@0.2.3 
â”‚ â”‚ â”‚ â””â”€â”€ verror@1.3.6 
â”‚ â”‚ â””â”€â”¬ sshpk@1.10.1 
â”‚ â”‚   â”œâ”€â”€ asn1@0.2.3 
â”‚ â”‚   â”œâ”€â”€ assert-plus@1.0.0 
â”‚ â”‚   â”œâ”€â”¬ dashdash@1.14.1 
â”‚ â”‚   â”‚ â””â”€â”€ assert-plus@1.0.0 
â”‚ â”‚   â””â”€â”¬ getpass@0.1.6 
â”‚ â”‚     â””â”€â”€ assert-plus@1.0.0 
â”‚ â”œâ”€â”€ is-typedarray@1.0.0 
â”‚ â”œâ”€â”€ isstream@0.1.2 
â”‚ â”œâ”€â”€ json-stringify-safe@5.0.1 
â”‚ â”œâ”€â”¬ mime-types@2.1.13 
â”‚ â”‚ â””â”€â”€ mime-db@1.25.0 
â”‚ â”œâ”€â”€ oauth-sign@0.8.2 
â”‚ â”œâ”€â”€ qs@6.2.1 
â”‚ â”œâ”€â”€ stringstream@0.0.5 
â”‚ â”œâ”€â”¬ tough-cookie@2.3.2 
â”‚ â”‚ â””â”€â”€ punycode@1.4.1 
â”‚ â””â”€â”€ tunnel-agent@0.4.3 
â”œâ”€â”¬ unzip@0.1.11 
â”‚ â”œâ”€â”¬ binary@0.3.0 
â”‚ â”‚ â”œâ”€â”€ buffers@0.1.1 
â”‚ â”‚ â””â”€â”¬ chainsaw@0.1.0 
â”‚ â”‚   â””â”€â”€ traverse@0.3.9 
â”‚ â”œâ”€â”¬ fstream@0.1.31 
â”‚ â”‚ â”œâ”€â”¬ graceful-fs@3.0.11 
â”‚ â”‚ â”‚ â””â”€â”€ natives@1.1.0 
â”‚ â”‚ â”œâ”€â”€ inherits@2.0.3 
â”‚ â”‚ â””â”€â”¬ mkdirp@0.5.1 
â”‚ â”‚   â””â”€â”€ minimist@0.0.8 
â”‚ â”œâ”€â”¬ match-stream@0.0.2 
â”‚ â”‚ â””â”€â”¬ readable-stream@1.0.34 
â”‚ â”‚   â””â”€â”€ isarray@0.0.1 
â”‚ â”œâ”€â”¬ pullstream@0.4.1 
â”‚ â”‚ â”œâ”€â”€ over@0.0.5 
â”‚ â”‚ â”œâ”€â”¬ readable-stream@1.0.34 
â”‚ â”‚ â”‚ â””â”€â”€ isarray@0.0.1 
â”‚ â”‚ â””â”€â”¬ slice-stream@1.0.0 
â”‚ â”‚   â””â”€â”¬ readable-stream@1.0.34 
â”‚ â”‚     â””â”€â”€ isarray@0.0.1 
â”‚ â”œâ”€â”¬ readable-stream@1.0.34 
â”‚ â”‚ â”œâ”€â”€ core-util-is@1.0.2 
â”‚ â”‚ â”œâ”€â”€ isarray@0.0.1 
â”‚ â”‚ â””â”€â”€ string_decoder@0.10.31 
â”‚ â””â”€â”€ setimmediate@1.0.5 
â””â”€â”¬ xcode@0.8.9 
  â”œâ”€â”€ pegjs@0.9.0 
  â””â”€â”¬ simple-plist@0.1.4 
    â”œâ”€â”¬ bplist-creator@0.0.4 
    â”‚ â””â”€â”€ stream-buffers@0.2.6 
    â”œâ”€â”€ bplist-parser@0.0.6 
    â””â”€â”¬ plist@1.2.0 
      â”œâ”€â”€ base64-js@0.0.8 
      â”œâ”€â”¬ xmlbuilder@4.0.0 
      â”‚ â””â”€â”€ lodash@3.10.1 
      â””â”€â”€ xmldom@0.1.27 

Environment validated
end installing Thali install


start preparing 'test/www/jxcore'
/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/thali -> /usr/local/lib/node_modules/thali -> /Users/thali/Github/Thali_CordovaPlugin/thali

> leveldown@1.5.0 install /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/leveldown
> "/usr/local/bin/jx" /Users/thali/.jx/npm/node_modules/node-gyp/bin/node-gyp.js rebuild

Target arch x64
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/db/builder.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/db/db_impl.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/db/db_iter.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/db/filename.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/db/dbformat.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/db/log_reader.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/db/log_writer.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/db/memtable.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/db/repair.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/db/table_cache.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/db/version_edit.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/db/version_set.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/db/write_batch.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/helpers/memenv/memenv.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/table/block.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/table/block_builder.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/table/filter_block.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/table/format.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/table/iterator.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/table/merger.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/table/table.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/table/table_builder.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/table/two_level_iterator.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/util/arena.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/util/bloom.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/util/cache.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/util/coding.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/util/comparator.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/util/crc32c.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/util/env.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/util/filter_policy.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/util/hash.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/util/logging.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/util/options.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/util/status.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/port/port_posix.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.19/util/env_posix.o
  LIBTOOL-STATIC Release/leveldb.a
  CXX(target) Release/obj.target/snappy/deps/snappy/snappy-1.1.1/snappy-sinksource.o
  CXX(target) Release/obj.target/snappy/deps/snappy/snappy-1.1.1/snappy-stubs-internal.o
  CXX(target) Release/obj.target/snappy/deps/snappy/snappy-1.1.1/snappy.o
  LIBTOOL-STATIC Release/snappy.a
  CXX(target) Release/obj.target/leveldown/src/batch.o
  CXX(target) Release/obj.target/leveldown/src/batch_async.o
  CXX(target) Release/obj.target/leveldown/src/database.o
  CXX(target) Release/obj.target/leveldown/src/database_async.o
  CXX(target) Release/obj.target/leveldown/src/iterator.o
  CXX(target) Release/obj.target/leveldown/src/iterator_async.o
  CXX(target) Release/obj.target/leveldown/src/leveldown.o
  CXX(target) Release/obj.target/leveldown/src/leveldown_async.o
  SOLINK_MODULE(target) Release/leveldown.node

> leveldown-mobile@1.1.1 install /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/leveldown-mobile
> "/usr/local/bin/jx" /Users/thali/.jx/npm/node_modules/node-gyp/bin/node-gyp.js rebuild

Target arch x64
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/db/builder.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/db/db_impl.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/db/db_iter.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/db/filename.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/db/dbformat.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/db/log_reader.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/db/log_writer.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/db/memtable.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/db/repair.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/db/table_cache.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/db/version_edit.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/db/version_set.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/db/write_batch.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/helpers/memenv/memenv.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/table/block.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/table/block_builder.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/table/filter_block.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/table/format.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/table/iterator.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/table/merger.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/table/table.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/table/table_builder.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/table/two_level_iterator.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/util/arena.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/util/bloom.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/util/cache.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/util/coding.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/util/comparator.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/util/crc32c.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/util/env.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/util/filter_policy.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/util/hash.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/util/logging.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/util/options.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/util/status.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/port/port_posix.o
  CXX(target) Release/obj.target/leveldb/deps/leveldb/leveldb-1.17.0/util/env_posix.o
  LIBTOOL-STATIC Release/leveldb.a
  CXX(target) Release/obj.target/snappy/deps/snappy/snappy-1.1.1/snappy-sinksource.o
  CXX(target) Release/obj.target/snappy/deps/snappy/snappy-1.1.1/snappy-stubs-internal.o
  CXX(target) Release/obj.target/snappy/deps/snappy/snappy-1.1.1/snappy.o
  LIBTOOL-STATIC Release/snappy.a
  CXX(target) Release/obj.target/leveldown/src/batch.o
  CXX(target) Release/obj.target/leveldown/src/batch_async.o
  CXX(target) Release/obj.target/leveldown/src/database.o
  CXX(target) Release/obj.target/leveldown/src/database_async.o
  CXX(target) Release/obj.target/leveldown/src/iterator.o
  CXX(target) Release/obj.target/leveldown/src/iterator_async.o
  CXX(target) Release/obj.target/leveldown/src/leveldown.o
  CXX(target) Release/obj.target/leveldown/src/leveldown_async.o
  SOLINK_MODULE(target) Release/leveldown.node
thali-cordova-plugin-jxcore@1.0.0
â”‚ /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore
â”‚ Thali Cordova Plugin JXCore
â”œâ”€â”€ balanced-match@0.2.0 
â”‚   Match balanced character pairs, like "{" and "}"
â”‚   git://github.com/juliangruber/balanced-match.git
â”‚   https://github.com/juliangruber/balanced-match
â”œâ”€â”€ bluebird@3.4.6 
â”‚   Full featured Promises/A+ implementation with exceptionally good performance
â”‚   git://github.com/petkaantonov/bluebird.git
â”‚   https://github.com/petkaantonov/bluebird
â”œâ”€â”€ bn.js@4.10.0 
â”‚   Big number implementation in pure javascript
â”‚   git+ssh://git@github.com/indutny/bn.js.git
â”‚   https://github.com/indutny/bn.js
â”œâ”€â”€ body-parser@1.13.3 
â”‚   Node.js body parsing middleware
â”‚   git+https://github.com/expressjs/body-parser.git
â”‚   https://github.com/expressjs/body-parser
â”œâ”€â”€ child-process-promise@1.1.0 
â”‚   Simple wrapper around the "child_process" module that makes use of promises
â”‚   git+https://github.com/patrick-steele-idem/child-process-promise.git
â”‚   https://github.com/patrick-steele-idem/child-process-promise
â”œâ”€â”€ concat-map@0.0.1 
â”‚   concatenative mapdashery
â”‚   git://github.com/substack/node-concat-map.git
â”‚   https://github.com/substack/node-concat-map
â”œâ”€â”€ express@4.13.3 
â”‚   Fast, unopinionated, minimalist web framework
â”‚   git+https://github.com/strongloop/express.git
â”‚   http://expressjs.com/
â”œâ”€â”€ express-pouchdb@1.0.6-thali 
â”‚   Express submodule with a CouchDB style REST interface to PouchDB.
â”‚   git://github.com/pouchdb/express-pouchdb.git
â”‚   https://github.com/pouchdb/express-pouchdb
â”œâ”€â”€ forever-agent@0.6.1  (git+https://github.com/thaliproject/forever-agent.git#f1078b5095dfe00ad0d80779eba75e563b54608b)
â”‚   HTTP Agent that keeps socket connections alive between keep-alive requests. Formerly part of mikeal/request, now a standalone module.
â”‚   git+https://github.com/mikeal/forever-agent.git
â”‚   https://github.com/mikeal/forever-agent#readme
â”‚   git+https://github.com/thaliproject/forever-agent.git#f1078b5095dfe00ad0d80779eba75e563b54608b
â”œâ”€â”€ fs-extra-promise@0.4.0
â”‚   Node file system library and fs-extra module promisified with bluebird
â”‚   git+https://github.com/overlookmotel/fs-extra-promise.git
â”‚   https://github.com/overlookmotel/fs-extra-promise#readme
â”œâ”€â”€ inherits@2.0.1 
â”‚   Browser-friendly inheritance fully compatible with standard node.js inherits()
â”‚   git://github.com/isaacs/inherits.git
â”‚   https://github.com/isaacs/inherits#readme
â”œâ”€â”€ is-property@1.0.2 
â”‚   Tests if a JSON property can be accessed using . syntax
â”‚   git://github.com/mikolalysenko/is-property.git
â”‚   https://github.com/mikolalysenko/is-property
â”œâ”€â”€ js-extend@1.0.1 
â”‚   A simple extend function based on underscore
â”‚   git://github.com/vmattos/js-extend.git
â”‚   https://github.com/vmattos/js-extend
â”œâ”€â”€ leveldown-mobile@1.1.1 
â”‚   A Node.js LevelDB binding for Android, iOS and Windows UWP, primary backend for LevelUP
â”‚   git+https://github.com/level/leveldown-mobile.git
â”‚   https://github.com/level/leveldown-mobile
â”œâ”€â”€ lie@3.0.4 
â”‚   A basic but performant promise implementation
â”‚   git+https://github.com/calvinmetcalf/lie.git
â”‚   https://github.com/calvinmetcalf/lie#readme
â”œâ”€â”€ long@3.0.3 
â”‚   A Long class for representing a 64-bit two's-complement integer value.
â”‚   git+https://github.com/dcodeIO/long.js.git
â”‚   https://github.com/dcodeIO/long.js#readme
â”œâ”€â”€ minimist@1.2.0 
â”‚   parse argument options
â”‚   git://github.com/substack/minimist.git
â”‚   https://github.com/substack/minimist
â”œâ”€â”€ multiplex@6.7.0 
â”‚   A binary stream multiplexer. Stream multiple streams of binary data over a single binary stream.
â”‚   git+https://github.com/maxogden/multiplex.git
â”‚   https://github.com/maxogden/multiplex
â”œâ”€â”€ nock@2.12.0 
â”‚   HTTP Server mocking for Node.js
â”‚   git+ssh://git@github.com/pgte/nock.git
â”‚   https://github.com/pgte/nock
â”œâ”€â”€ node-ssdp@2.6.5  (git+https://github.com/thaliproject/node-ssdp.git#caf1a75aa54fb47a9e51b72bf4c902c366536cbd)
â”‚   A node.js SSDP client and server library.
â”‚   git+ssh://git@github.com/diversario/node-ssdp.git
â”‚   https://github.com/diversario/node-ssdp#readme
â”‚   git+https://github.com/thaliproject/node-ssdp.git#caf1a75aa54fb47a9e51b72bf4c902c366536cbd
â”œâ”€â”€ node-uuid@1.4.7 
â”‚   Rigorous implementation of RFC4122 (v1 and v4) UUIDs.
â”‚   git+https://github.com/broofa/node-uuid.git
â”‚   https://github.com/broofa/node-uuid
â”œâ”€â”€ object-assign@4.1.0 
â”‚   ES2015 Object.assign() ponyfill
â”‚   git+https://github.com/sindresorhus/object-assign.git
â”‚   https://github.com/sindresorhus/object-assign#readme
â”œâ”€â”€ pouchdb@6.2.0-prerelease-thali 
â”‚   PouchDB is a pocket-sized database
â”‚   git+https://github.com/pouchdb/pouchdb.git
â”‚   https://github.com/pouchdb/pouchdb#readme
â”œâ”€â”€ pouchdb-size@1.2.2 
â”‚   Adds disk_size to info()'s output for your leveldown backed PouchDB's.
â”‚   git+https://github.com/marten-de-vries/pouchdb-size.git
â”‚   https://github.com/marten-de-vries/pouchdb-size#readme
â”œâ”€â”€ proxyquire@1.7.4 
â”‚   Proxies nodejs require in order to allow overriding dependencies during testing.
â”‚   git+https://github.com/thlorenz/proxyquire.git
â”‚   https://github.com/thlorenz/proxyquire#readme
â”œâ”€â”€ randomstring@1.1.5 
â”‚   A module for generating random strings
â”‚   git://github.com/klughammer/node-randomstring.git
â”‚   https://github.com/klughammer/node-randomstring
â”œâ”€â”€ request@2.64.0 
â”‚   Simplified HTTP request client.
â”‚   git+https://github.com/request/request.git
â”‚   https://github.com/request/request#readme
â”œâ”€â”€ request-promise@0.4.3 
â”‚   The world-famous HTTP client 'Request' now Promises/A+ compliant. Powered by Bluebird.
â”‚   git+https://github.com/request/request-promise.git
â”‚   https://github.com/request/request-promise
â”œâ”€â”€ salti@0.2.1  (git+https://github.com/thaliproject/salti.git#5182ec528e6c121aa16ab3ee8eb4a1e45f3d3822)
â”‚   Simple Authentication and Authorization for Thali IoT
â”‚   git+https://github.com/thaliproject/salti.git
â”‚   https://github.com/thaliproject/salti#readme
â”‚   git+https://github.com/thaliproject/salti.git#master
â”œâ”€â”€ sinon@1.17.3 
â”‚   JavaScript test spies, stubs and mocks.
â”‚   git+ssh://git@github.com/cjohansen/Sinon.JS.git
â”‚   http://sinonjs.org/
â”œâ”€â”€ socket.io-client@1.4.8 
â”‚   [![Build Status](https://secure.travis-ci.org/socketio/socket.io-client.svg)](http://travis-ci.org/socketio/socket.io-client) [![Dependency Status](https://david-dm.org/socketio/socket.io-client.svg)](https://david-dm.org/socketio/socket.io-client) [![dev
â”‚   git+https://github.com/Automattic/socket.io-client.git
â”‚   https://github.com/Automattic/socket.io-client#readme
â”œâ”€â”€ stacky@1.3.1 
â”‚   Stacky parses stack traces from various sources, and formats them in readable ways.
â”‚   git+https://github.com/PolymerLabs/stacky.git
â”‚   https://github.com/PolymerLabs/stacky
â”œâ”€â”€ supertest@1.1.0 
â”‚   Super-agent driven library for testing HTTP servers
â”‚   git+https://github.com/visionmedia/supertest.git
â”‚   https://github.com/visionmedia/supertest#readme
â”œâ”€â”€ supertest-as-promised@2.0.2 
â”‚   Supercharge supertest with a promise interface
â”‚   git://github.com/WhoopInc/supertest-as-promised.git
â”‚   https://github.com/WhoopInc/supertest-as-promised
â”œâ”€â”€ tape@4.0.0 
â”‚   tap-producing test harness for node and browsers
â”‚   git://github.com/substack/tape.git
â”‚   https://github.com/substack/tape
â”œâ”€â”€ tape-catch@1.0.4 
â”‚   a wrapper around tape that catches and reports exceptions
â”‚   git+https://github.com/michaelrhodes/tape-catch.git
â”‚   https://github.com/michaelrhodes/tape-catch
â”œâ”€â”€ thali@2.1.0 -> /Users/thali/Github/Thali_CordovaPlugin/thali
â”‚   Thali Cordova Plugin
â”‚   git+https://github.com/thaliproject/Thali_CordovaPlugin.git
â”‚   https://github.com/thaliproject/Thali_CordovaPlugin/tree/story_00#readme
â”œâ”€â”€ tmp@0.0.28 
â”‚   Temporary file and directory creator
â”‚   git://github.com/raszi/node-tmp.git
â”‚   http://github.com/raszi/node-tmp
â”œâ”€â”€ urlsafe-base64@1.0.0 
â”‚   URL Safe Base64 encoding
â”‚   git+ssh://git@github.com/RGBboy/urlsafe-base64.git
â”‚   https://github.com/RGBboy/urlsafe-base64
â”œâ”€â”€ uuid@2.0.0 
â”‚   Rigorous implementation of RFC4122 (v1 and v4) UUIDs.
â”‚   git+https://github.com/shtylman/node-uuid.git
â”‚   https://github.com/shtylman/node-uuid
â””â”€â”€ uuid-validate@0.0.2 
    Javascript validator for UUID versions 1 through 5
    git+https://github.com/MCProHosting/uuid-validate.git
    https://github.com/MCProHosting/uuid-validate

end prepating 'test/www/jxcore'

end setUpDesktop.sh


run desktop tests
2017-01-04 16:08:59 - INFO runTests: 'Starting tests. Network type: WIFI. Platform: android'
2017-01-04 16:08:59 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testMakeIntoCloseAllServer.js'
2017-01-04 16:08:59 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPouchDBCheckpointPlugin.js'
2017-01-04 16:08:59 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPouchDBGenerator.js'
2017-01-04 16:08:59 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPromiseQueue.js'
2017-01-04 16:08:59 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testTests.js'
2017-01-04 16:08:59 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testUsn.js'
2017-01-04 16:08:59 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testNativeMethod.js'
2017-01-04 16:08:59 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNative.js'
2017-01-04 16:08:59 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeAndroid.js'
2017-01-04 16:08:59 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeiOS.js'
2017-01-04 16:08:59 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeDiscoveryCoordinated.js'
2017-01-04 16:08:59 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testCreateNativeListener.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testCreatePeerListener.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliTcpServersManager.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeWrapper.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliWifiInfrastructure.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobile.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerAction.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerDictionary.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolDefault.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolInterface.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolOneAtATime.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotification.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationAction.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationBeacons.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationClient.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationLocal.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationServer.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPullReplicationFromNotification.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPullReplicationFromNotificationCoordinated.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationPeerAction.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationPeerActionCoordinated.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationUtilities.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliSendNotificationBasedOnReplication.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testLocalSeqManager.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testLocalSeqManagerCoordinated.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliManager.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliManagerCoordinated.js'
2017-01-04 16:09:00 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testSSDPServer.js'
2017-01-04 16:09:00 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:00 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:00 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:00 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:01 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:01 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
TAP version 13
# setup
# closeAll can close even when connections open
2017-01-04 16:09:01 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 1 not possible to connect to the server anymore
# teardown
# setup
# closeAll with promise
2017-01-04 16:09:01 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 2 not possible to connect to the server anymore
# teardown
# setup
# closeAll properly throws when closing a non open server with eatNotRunning set to false
2017-01-04 16:09:01 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 3 Got the right error
# teardown
# setup
# closeAll works even with a server that is not listening yet witheatNotRunning set to true
2017-01-04 16:09:01 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# teardown
# setup
# Call of onCheckpointReached handler on a single db change
# teardown
# setup
# Call of multiple onCheckpointReached handlers on a single db change
# teardown
# setup
# Call of onCheckpointReached handler on multiple db changes that are in the checkpoints plugin delay interval
ok 4 the checkpointReached handler should be called once. Called 1 time(s)
# teardown
# setup
# Call of onCheckpointReached handler on multiple db changes that are out of the checkpoints plugin delay interval
# teardown
# setup
# test defaultDirectory
ok 5 should be equal
ok 6 should be equal
ok 7 should be equal
# teardown
# setup
# test defaultAdapter
ok 8 should be equal
ok 9 should be equal
ok 10 should be equal
ok 11 should be equal
ok 12 should be equal
ok 13 should be equal
ok 14 should be equal
ok 15 should be equal
# teardown
# setup
# enqueue and run in order
ok 16 firstPromise setTimeout
ok 17 firstPromise result
ok 18 firstPromise testValue
ok 19 secondPromise setTimeout
ok 20 secondPromise result
ok 21 secondPromise testValue
ok 22 thirdPromise in promise
ok 23 thirdPromise result
ok 24 thirdPromise testValue
# teardown
# setup
# enqueueAtTop and run backwards
ok 25 thirdPromise - first to run
ok 26 thirdPromise - in resolve
ok 27 secondPromise - second to run
ok 28 secondPromise - in catch
ok 29 firstPromise - third to run
ok 30 firstPromise - in then
ok 31 testing promises
# teardown
# setup
# mix enqueue and enqueueAtTop
ok 32 fourth
ok 33 fourth
ok 34 second
ok 35 secondPromise - in then
ok 36 first
ok 37 firstPromise - in catch
ok 38 third
ok 39 thirdPromise - in then
ok 40 testingPromises
# teardown
# setup
# queues handled independently
ok 41 all short operations completed before the long resolves
# teardown
# setup
# basic
ok 42 sane
# teardown
# setup
# another
ok 43 sane
# teardown
# setup
# Correctly parses/stringifies USN
ok 44 correctly parses USN string
ok 45 throws if usn has invalid prefix
ok 46 throws if usn has invalid identifier format
ok 47 throws if usn has invalid generation
ok 48 correctly stringifies peer
# teardown
# setup
# onPeerLost calls jxcore
2017-01-04 16:09:04 - DEBUG SimpleThaliTape: 'test was skipped, name: 'onPeerLost calls jxcore''
# teardown
# setup
# onPeerDiscovered calls jxcore
2017-01-04 16:09:04 - DEBUG SimpleThaliTape: 'test was skipped, name: 'onPeerDiscovered calls jxcore''
2017-01-04 16:09:04 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:04 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:04 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:04 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:04 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:04 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
# setup
# cannot call connect when start listening for advertisements is not active
2017-01-04 16:09:04 - DEBUG SimpleThaliTape: 'test was skipped, name: 'cannot call connect when start listening for advertisements is not active''
2017-01-04 16:09:04 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:04 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:04 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:04 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:04 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:04 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 49 Should be able to call stopListeningForAdvertisements in teardown
ok 50 Should be able to call stopAdvertisingAndListening in teardown
# setup
# calling createNativeListener directly rejects
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 49904'
ok 51 Should throw
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
# setup
# emits incomingConnectionState
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 49906'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 52 initial connection state should be CONNECTED
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 53 final connection state should be DISCONNECTED
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
# setup
# emits routerPortConnectionFailed
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 49909'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - error Error: connect ECONNREFUSED'
ok 54 tried to connect to right port
ok 55 failed due to refused connection
ok 56 routerPortConnectionFailed is emitted
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# setup
# native server connections all up
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 49913'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - created'
ok 57 Send/recvd #1 should be equal length
ok 58 Send/recvd #1 should be same
ok 59 Send/recvd #2 should be equal length
ok 60 Send/recvd #2 should be same
ok 61 Should be exactly 2 client sockets
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# setup
# native server - closing incoming stream cleans outgoing socket
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 49918'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - finished'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
ok 62 socket shouldn't close until after stream
ok 63 incoming remains open
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
# setup
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# native server - closing incoming connection cleans outgoing socket
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 49922'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 64 we should not have gotten an error
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 65 socket shouldn't close until after incoming
ok 66 incoming is cleaned up
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
# setup
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# native server - closing outgoing socket cleans associated mux stream
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 49926'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - finished'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
ok 67 stream was closed
ok 68 incoming should survive
ok 69 mux should have no streams
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
# setup
# native server - closing the whole server cleans everything up
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 49930'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 70 we should not have gotten an error
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 71 Buffers are identical
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 72 native server is nulled out
ok 73 native server should be closed
ok 74 incoming has been removed
ok 75 Incoming should be done
ok 76 The mux object should be closed
ok 77 The mux stream should be closed
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# setup
# native server - we can get a ton of connections and data through and still clean up the server completely
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 49934'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 1'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 2'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 3'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 4'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 5'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 6'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 7'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 8'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 9'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 2 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 3 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 0 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 1 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 2 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 3 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 0 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 1 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 2 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 3 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 0 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 1 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 2 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 3 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 0 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 1 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 2 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 3 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 0 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 1 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 2 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 3 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 0 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 1 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 2 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 3 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 0 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 1 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 2 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 3 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 0 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 1 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 2 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 3 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 0 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 1 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 2 - created'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 3 - created'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 2 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 3 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 1 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 2 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 3 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 1 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 1 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 2 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 3 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 2 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 1 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 2 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 3 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 3 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 1 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 2 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 3 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 4 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 1 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 2 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 3 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 5 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 1 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 2 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 3 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 6 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 1 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 2 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 3 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 7 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 1 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 2 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 3 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 8 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 1 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 2 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 3 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 9 - close'
ok 78 native server is nulled out
ok 79 native server should be closed
ok 80 incoming has been removed
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 9 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 8 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 7 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 6 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 5 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 4 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 3 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 2 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 1 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 9 - 3 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 9 - 2 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 9 - 1 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 9 - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 8 - 3 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 8 - 2 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 8 - 1 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 8 - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 7 - 3 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 7 - 2 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 7 - 1 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 7 - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 6 - 3 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 6 - 2 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 6 - 1 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 6 - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 5 - 3 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 5 - 2 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 5 - 1 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 5 - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 4 - 3 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 4 - 2 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 4 - 1 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 4 - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 3 - 3 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 3 - 2 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 3 - 1 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 3 - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 2 - 3 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 2 - 2 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 2 - 1 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 2 - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 1 - 3 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 1 - 2 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 1 - 1 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 1 - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 3 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 2 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# native server - simulate mux failure, make sure everything is cleaned up
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 49986'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 81 we should not have gotten an error
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 82 Buffers are identical
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 83 server should be fine
ok 84 server should be open
ok 85 incoming has been removed
ok 86 The mux object should be closed
ok 87 The mux stream should be closed
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
# setup
# native server - timing out the incoming connection cleans everything up
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 49990'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 88 we should not have gotten an error
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 89 Buffers are identical
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - incoming socket timeout'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 90 server should be fine
ok 91 server should be open
ok 92 incoming has been removed
ok 93 The mux object should be closed
ok 94 The mux stream should be closed
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
# setup
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# calling createPeerListener without calling start produces error
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 49995'
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# calling createPeerListener after calling stop produces error
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 49998'
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# can call createPeerListener
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50001'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'creating new server for peerId'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peerId listening on 50002'
ok 95 port must be in range
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# calling createPeerListener twice with same peerIdentifier should return the same port
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50005'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50006'
ok 96 port values should be the same
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - closing connection to native listener closes everything and triggers new listener
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50009'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'creating new server for peer2'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer2 listening on 50010'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Issuing callNative for peer2'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'callNative for peer2 connected'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer2'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 97 Data should be of same length and content
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'We are emitting failedConnection with error "Error: Outgoing closed, recreating connection" and peerIdentifier "peer2"'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Will try to recreate server for peer2'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'creating new server for peer2'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer2 listening on 50015'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'We are emitting listenerRecreatedAfterFailure with peerIdentifier peer2 and portNumber 50015'
ok 98 same peer ID
ok 99 different ports
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# createPeerListener - closing mux closes listener and triggers a new listener
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50018'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'creating new server for peer2'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer2 listening on 50019'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Issuing callNative for peer2'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'callNative for peer2 connected'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer2'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 100 Data should be of same length and content
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'We are emitting failedConnection with error "Error: Outgoing closed, recreating connection" and peerIdentifier "peer2"'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Will try to recreate server for peer2'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'creating new server for peer2'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer2 listening on 50024'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'We are emitting listenerRecreatedAfterFailure with peerIdentifier peer2 and portNumber 50024'
ok 101 same peer ID
ok 102 different ports
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# peerListener - no native server
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
ok 103 Can call startUpdateAdvertisingAndListening without error
ok 104 Can call startListeningForAdvertisements without error
2017-01-04 16:09:04 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50027'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50028'
ok 105 peerPort should not be nativePort
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Issuing callNative for peer1'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'callNative for peer1 connected'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer1'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'We are emitting failedConnection with error "Error: Cannot Connect To Peer" and peerIdentifier "peer1"'
ok 106 Should not get event until connection is made
ok 107 reason should be as expected
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Will try to recreate server for peer1'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50031'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'We are emitting listenerRecreatedAfterFailure with peerIdentifier peer1 and portNumber 50031'
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# peerListener - with native server
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
ok 108 Can call startUpdateAdvertisingAndListening without error
ok 109 Can call startListeningForAdvertisements without error
2017-01-04 16:09:04 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50034'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50035'
ok 110 peerPort != nativePort
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Issuing callNative for peer1'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'callNative for peer1 connected'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer1'
ok 111 Should not get unexpected connection
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# peerListener - with native server and data transfer
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50040'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50041'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Issuing callNative for peer1'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'callNative for peer1 connected'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer1'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 112 Data should be of same length and content
ok 113 Data should be of same length and content
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:04 - WARN createPeerListener: 'outgoing - mux <-> outgoing TCP/IP client connection to Android - peer1 -  error Error: read ECONNRESET'
# setup
2017-01-04 16:09:04 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# createPeerListener is idempotent
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
ok 114 Can call startUpdateAdvertisingAndListening without error
ok 115 Can call startListeningForAdvertisements without error
2017-01-04 16:09:04 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50047'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50048'
ok 116 Second call to existing peerListener returns existing port
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - ask for new peer when we are at maximum and make sure we remove the right existing listener
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50051'
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - ask for a new peer when we are not at maximum peers and make sure we do not remove any existing listeners
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50054'
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - test timeout
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50057'
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - multiple connections out
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50060'
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - multiple bi-directional connections
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50063'
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - multiple parallel calls
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50066'
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - we shouldn't create a dead pipe
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
ok 117 Can call startUpdateAdvertisingAndListening without error
ok 118 Can call startListeningForAdvertisements without error
2017-01-04 16:09:04 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50069'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50070'
ok 119 peerPort != nativePort
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Issuing callNative for peer1'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'callNative for peer1 connected'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer1'
ok 120 Should not get unexpected connection
2017-01-04 16:09:04 - DEBUG thaliTcpServersManager: 'Terminate outgoing connection called on peerID peer1 with port 50070'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createPeerListener: 'incoming (TCP) - Node TCP/IP client - is already closed'
ok 121 passed
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# can create servers manager
ok 122 serversManager must not be null
ok 123 serversManager must be an object
# teardown
# setup
# calling stop without start causes error
ok 124 We need to call start first
# teardown
# setup
# can start/stop servers manager
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50073'
ok 125 port must be in range
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
# setup
# starting twice resolves with listening port
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50074'
ok 126 second start should return same port
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
# setup
# terminateIncomingConnection will terminate a connection
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'listening 50076'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 127 we should be connected
2017-01-04 16:09:04 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 128 now we are disconnected
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG createNativeListener: 'Native Server - close'
# setup
# terminate an Outgoing connection
2017-01-04 16:09:04 - DEBUG thaliTcpServersManager: 'Terminate outgoing connection called on peerID foo with port 32'
ok 129 Passed bogus id
2017-01-04 16:09:04 - DEBUG thaliTcpServersManager: 'Terminate outgoing connection called on peerID foo with port 901'
ok 130 Passed good id but bogus port
2017-01-04 16:09:04 - DEBUG thaliTcpServersManager: 'Terminate outgoing connection called on peerID foo with port 900'
ok 131 Passed right context
ok 132 Right server
ok 133 No error should be set
ok 134 Retry should be false
ok 135 We called close server
# teardown
# setup
ok 136 should be in started state
# After #startListeningForAdvertisements call wifiPeerAvailabilityChanged events should be emitted
2017-01-04 16:09:04 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:04 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:04 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"44dcc8f4-d95b-469c-bc24-b519111a8230","generation":0,"hostAddress":"b575dc30","portNumber":8080}'
ok 137 peer identifier should match
ok 138 generation should be 0
ok 139 host address should match
ok 140 port should match
2017-01-04 16:09:04 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"44dcc8f4-d95b-469c-bc24-b519111a8230","generation":0,"portNumber":null,"hostAddress":null}'
ok 141 generation should be 0
ok 142 host address should be null
ok 143 port should should be null
# teardown
ok 144 should not be in started state
# setup
ok 145 should be in started state
# #startUpdateAdvertisingAndListening correctly updates USN
2017-01-04 16:09:04 - DEBUG thaliWifiInfrastructure: 'listening 50078'
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 146 first invocation sets 0 generation
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 147 second invocation doesnâ€™t change UUID but increments generation
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 148 third invocation doesnâ€™t change UUID but increments generation
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 149 should not be in started state
# setup
ok 150 should be in started state
# #startUpdateAdvertisingAndListening generates new peerIdentifier after #stopAdvertisingAndListening has been called
2017-01-04 16:09:04 - DEBUG thaliWifiInfrastructure: 'listening 50079'
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG thaliWifiInfrastructure: 'listening 50080'
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 151 new UUID after advertising is stopped
# teardown
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 152 should not be in started state
# setup
ok 153 should be in started state
# #startUpdateAdvertisingAndListening sends correct requests
2017-01-04 16:09:04 - DEBUG thaliWifiInfrastructure: 'listening 50081'
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 154 advertise-alive fired with expected usn
ok 155 advertise-bye fired with expected usn
# teardown
ok 156 should not be in started state
# setup
ok 157 should be in started state
# messages with invalid location or USN should be ignored
2017-01-04 16:09:04 - WARN thaliWifiInfrastructure: 'Failed to parse a valid port number from location: http://foo.bar:90000'
ok 158 should not have emitted with invalid port
2017-01-04 16:09:04 - WARN thaliWifiInfrastructure: 'Invalid USN (expected "data:" prefix): foobar'
ok 159 should not have emitted with invalid USN
# teardown
ok 160 should not be in started state
# setup
ok 161 should be in started state
# Delayed own message are still ignored after advertisement has been toggled on and off several times
2017-01-04 16:09:04 - DEBUG thaliWifiInfrastructure: 'listening 50082'
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:04 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:04 - DEBUG thaliWifiInfrastructure: 'listening 50083'
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:04 - WARN nodeSSDPServerLogger: '{ [Error: addMembership ENOMEM] code: 'ENOMEM', errno: 'ENOMEM', syscall: 'addMembership' } 'Not enough free memory to add multicast group membership. Scheduling a retry.''
2017-01-04 16:09:04 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:05 - DEBUG thaliWifiInfrastructure: 'listening 50084'
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:05 - DEBUG thaliWifiInfrastructure: 'listening 50085'
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 162 all captured messages are not handled
# teardown
2017-01-04 16:09:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 163 should not be in started state
# setup
ok 164 should be in started state
# verify that Thali-specific messages are filtered correctly
ok 165 messages with irrelevant NT should be ignored
ok 166 relevant messages should not be ignored
# teardown
ok 167 should not be in started state
# setup
ok 168 should be in started state
# #startListeningForAdvertisements should fail if start not called
ok 169 specific error should be returned
# teardown
ok 170 should not be in started state
# setup
ok 171 should be in started state
# #startUpdateAdvertisingAndListening should fail if start not called
ok 172 specific error should be returned
# teardown
ok 173 should not be in started state
# setup
ok 174 should be in started state
# #start should fail if called twice in a row
ok 175 specific error should be received
# teardown
ok 176 should not be in started state
# setup
ok 177 should be in started state
# should not be started after stop is called
ok 178 should not be started
ok 179 should not be listening
ok 180 should not target listening
ok 181 should not be advertising
ok 182 should not target advertising
# teardown
ok 183 should not be in started state
# setup
ok 184 should be in started state
# #startUpdateAdvertisingAndListening should fail invalid router has been passed
2017-01-04 16:09:05 - ERROR thaliWifiInfrastructure: 'Unable to use the given router: TypeError: Router.use() requires middleware function but got a string'
ok 185 specific error should be received
# teardown
ok 186 should not be in started state
# setup
ok 187 should be in started state
# #startUpdateAdvertisingAndListening should fail if router server starting fails
2017-01-04 16:09:05 - ERROR thaliWifiInfrastructure: 'Router server emitted an error: Error: listen EADDRINUSE'
ok 188 specific error expected
# teardown
ok 189 should not be in started state
# setup
ok 190 should be in started state
# #startUpdateAdvertisingAndListening should start hosting given router object
2017-01-04 16:09:05 - DEBUG thaliWifiInfrastructure: 'listening 50087'
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 191 server should respond with code 200
# teardown
2017-01-04 16:09:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 192 should not be in started state
# setup
ok 193 should be in started state
# #startUpdateAdvertisingAndListening bad psk should be rejected object
2017-01-04 16:09:05 - DEBUG thaliWifiInfrastructure: 'listening 50089'
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 194 Connection should be rejected
# teardown
2017-01-04 16:09:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 195 should not be in started state
# setup
ok 196 should be in started state
# #stop can be called multiple times in a row
ok 197 should be in stopped state
ok 198 should still be in stopped state
# teardown
ok 199 should not be in started state
# setup
ok 200 should be in started state
# #startListeningForAdvertisements can be called multiple times in a row
2017-01-04 16:09:05 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:05 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 201 should be in listening state
ok 202 should still be in listening state
# teardown
ok 203 should not be in started state
# setup
ok 204 should be in started state
# #stopListeningForAdvertisements can be called multiple times in a row
ok 205 should not be in listening state
ok 206 should still not be in listening state
# teardown
ok 207 should not be in started state
# setup
ok 208 should be in started state
# #stopAdvertisingAndListening can be called multiple times in a row
ok 209 should not be in advertising state
ok 210 should still not be in advertising state
# teardown
ok 211 should not be in started state
# setup
ok 212 should be in started state
# functions are run from a queue in the right order
2017-01-04 16:09:05 - DEBUG thaliWifiInfrastructure: 'listening 50091'
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 213 call order must match
# teardown
ok 214 should not be in started state
# setup
ok 215 should be in started state
# does not get peer changes from self
2017-01-04 16:09:05 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:05 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:05 - DEBUG thaliWifiInfrastructure: 'listening 50092'
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:05 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:06 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:06 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:06 - INFO nodeSSDPServerLogger: 'Socket bound'
# teardown
2017-01-04 16:09:07 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 216 should not be in started state
# setup
ok 217 should be in started state
# Make sure we turn on and off the Android multicast locks
2017-01-04 16:09:07 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:07 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 218 We have locked
ok 219 We have not unlocked
ok 220 No new locks
ok 221 We unlocked
# teardown
ok 222 should not be in started state
# setup
ok 223 should be in started state
# Make sure we do not use Android locks when we are not on Android
2017-01-04 16:09:07 - DEBUG SimpleThaliTape: 'test was skipped, name: 'Make sure we do not use Android locks when we are not on Android''
# teardown
ok 224 should not be in started state
# setup
ok 225 should be in started state
# network changes are ignored while stopping
2017-01-04 16:09:07 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:07 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:07 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"off","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":null,"ssidName":null}'
2017-01-04 16:09:07 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:07 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:07 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
ok 226 should not be called
# teardown
ok 227 should not be in started state
# setup
ok 228 should be in started state
# #startListeningForAdvertisements returns error if wifi is off and fires event when on
2017-01-04 16:09:07 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"off","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":null,"ssidName":null}'
2017-01-04 16:09:07 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
ok 229 wifi should be off
ok 230 specific error expected
2017-01-04 16:09:07 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:07 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:07 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
ok 231 discoveryActive should be true
2017-01-04 16:09:07 - INFO nodeSSDPClientLogger: 'Socket bound'
# teardown
ok 232 should not be in started state
# setup
ok 233 should be in started state
# #startUpdateAdvertisingAndListening returns error if wifi is off and fires event when on
2017-01-04 16:09:07 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"off","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":null,"ssidName":null}'
2017-01-04 16:09:07 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
ok 234 wifi should be off
ok 235 specific error expected
2017-01-04 16:09:07 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:07 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:07 - DEBUG thaliWifiInfrastructure: 'listening 50093'
2017-01-04 16:09:07 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:07 - INFO nodeSSDPServerLogger: 'UDP socket bound'
ok 236 advertisingActive should be true
2017-01-04 16:09:07 - INFO nodeSSDPServerLogger: 'Socket bound'
# teardown
2017-01-04 16:09:07 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 237 should not be in started state
# setup
ok 238 should be in started state
# when wifi is enabled discovery is activated and peers become available
2017-01-04 16:09:07 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"off","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":null,"ssidName":null}'
2017-01-04 16:09:07 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
ok 239 wifi should be off
ok 240 specific error expected
2017-01-04 16:09:07 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:07 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:07 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:07 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:08 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"5dafc023-39ce-424e-9097-652e0dcc5924","generation":0,"hostAddress":"b575dc30","portNumber":8080}'
ok 241 peer identifier should match
ok 242 host address should match
ok 243 port should match
# teardown
ok 244 should not be in started state
# setup
# #startListeningForAdvertisements should fail if start not called
ok 245 specific error should be returned
# teardown
ok 246 error should be null
ok 247 error should be null
# setup
# #startUpdateAdvertisingAndListening should fail if start not called
ok 248 specific error should be returned
# teardown
ok 249 error should be null
ok 250 error should be null
# setup
# should be able to call #stopListeningForAdvertisements many times
ok 251 error should be null
ok 252 error should be null
ok 253 error should be null
ok 254 error should be null
# teardown
ok 255 error should be null
ok 256 error should be null
# setup
# should be able to call #startListeningForAdvertisements many times
2017-01-04 16:09:08 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:08 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 257 error should be null
ok 258 error should be null
ok 259 error should be null
ok 260 error should be null
# teardown
2017-01-04 16:09:08 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 261 error should be null
ok 262 error should be null
# setup
# should be able to call #startUpdateAdvertisingAndListening many times
2017-01-04 16:09:08 - DEBUG thaliWifiInfrastructure: 'listening 50094'
2017-01-04 16:09:08 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:08 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:08 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 263 error should be null
ok 264 error should be null
2017-01-04 16:09:08 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:08 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:08 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 265 error should be null
ok 266 error should be null
# teardown
2017-01-04 16:09:08 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:08 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 267 error should be null
ok 268 error should be null
# setup
# should be able to call #stopAdvertisingAndListening many times
ok 269 error should be null
ok 270 error should be null
ok 271 error should be null
ok 272 error should be null
# teardown
ok 273 error should be null
ok 274 error should be null
# setup
# #start - Causing native or wifi to fail will cause a promise reject 
2017-01-04 16:09:08 - ERROR thaliMobileNativeWrapper: 'Unable to use the given router: TypeError: Router.use() requires middleware function but got a Null'
ok 275 This should not cause wifi to fail
ok 276 native router should be bad
# teardown
ok 277 error should be null
ok 278 error should be null
# setup
# #start should fail if called twice in a row
ok 279 first call should succeed
ok 280 first call should succeed
ok 281 specific error should be returned
# teardown
ok 282 error should be null
ok 283 error should be null
# setup
# #stop should clear watchers and change peers
2017-01-04 16:09:08 - DEBUG thaliMobileNativeWrapper: 'listening 50095'
2017-01-04 16:09:08 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:08 - DEBUG createNativeListener: 'listening 50096'
2017-01-04 16:09:08 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:08 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:09:08 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:08 - DEBUG thaliMobileNativeWrapper: 'Received peer availability changed event with {"peerIdentifier":"urn:uuid:7b0ecfd5-025a-4362-a9f7-06993fa7e779","peerAvailable":true}'
2017-01-04 16:09:08 - DEBUG createPeerListener: 'creating new server for urn:uuid:7b0ecfd5-025a-4362-a9f7-06993fa7e779'
2017-01-04 16:09:08 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for urn:uuid:7b0ecfd5-025a-4362-a9f7-06993fa7e779 listening on 50097'
2017-01-04 16:09:08 - DEBUG thaliMobileNativeWrapper: 'handlePeerAvailabilityChanged - Emitting {"peerIdentifier":"urn:uuid:7b0ecfd5-025a-4362-a9f7-06993fa7e779","peerAvailable":true,"portNumber":50097}'
2017-01-04 16:09:08 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"urn:uuid:7b0ecfd5-025a-4362-a9f7-06993fa7e779","connectionType":"AndroidBluetooth","peerAvailable":true,"newAddressPort":false}'
ok 284 Watchers have one entry for our connection type
ok 285 Peer availabilities has one entry for our connection type
2017-01-04 16:09:08 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"urn:uuid:7b0ecfd5-025a-4362-a9f7-06993fa7e779","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:09:08 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:08 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:08 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:08 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:08 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:08 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 286 No watchers
ok 287 No peers
ok 288 No watchers
ok 289 No peers
ok 290 No watchers
ok 291 No peers
# teardown
ok 292 error should be null
ok 293 error should be null
# setup
# #start subscribes to the WiFi infrastructure events and #stop unsubscribes from them (in WiFi-only mode)
2017-01-04 16:09:08 - DEBUG SimpleThaliTape: 'test was skipped, name: '#start subscribes to the WiFi infrastructure events and #stop unsubscribes from them (in WiFi-only mode)''
# teardown
ok 294 error should be null
ok 295 error should be null
# setup
# does not emit duplicate discoveryAdvertisingStateUpdate
2017-01-04 16:09:08 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:08 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:08 - DEBUG thaliWifiInfrastructure: 'listening 50098'
2017-01-04 16:09:08 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:08 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:08 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 296 called only once
ok 297 discovery state matches
ok 298 advertising state matches
# teardown
2017-01-04 16:09:08 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:08 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:08 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:08 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 299 error should be null
ok 300 error should be null
# setup
# does not send duplicate availability changes
2017-01-04 16:09:08 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"29e9eb07-4a96-4595-b776-1252e0f7a001","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 301 should be called once
ok 302 should not have been called more than once
# teardown
2017-01-04 16:09:08 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"29e9eb07-4a96-4595-b776-1252e0f7a001","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 303 error should be null
ok 304 error should be null
# setup
# can get the network status
ok 305 network status should have certain non-empty properties
# teardown
ok 306 error should be null
ok 307 error should be null
# setup
# wifi peer is marked unavailable if announcements stop
2017-01-04 16:09:08 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:08 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:08 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"696a2249-a110-422c-8a7b-8ef09cec98f3","generation":0,"hostAddress":"62e314db","portNumber":8080}'
2017-01-04 16:09:08 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"696a2249-a110-422c-8a7b-8ef09cec98f3","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 308 peer should be available
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"696a2249-a110-422c-8a7b-8ef09cec98f3","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 309 peer should become unavailable
# teardown
2017-01-04 16:09:09 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 310 error should be null
ok 311 error should be null
# setup
# native peer should be removed if no availability updates were received during availability timeout
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"118490cd-f991-4ad3-b732-1869df65ddb4","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 312 peer is available
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"118490cd-f991-4ad3-b732-1869df65ddb4","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 313 peer is not availabel because it was too silent
# teardown
ok 314 error should be null
ok 315 error should be null
# setup
# peerAvailabilityChanged - peer added/removed to/from cache (native)
ok 316 we have not added peer to the cache yet
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"0c6a1a0c-e0dc-4277-b4a8-727d462cb620","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 317 peer should be available
ok 318 cache contains native peer
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"0c6a1a0c-e0dc-4277-b4a8-727d462cb620","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":0,"newAddressPort":null}'
ok 319 peer should be unavailable
ok 320 peer has been removed from cache
# teardown
ok 321 error should be null
ok 322 error should be null
# setup
# peerAvailabilityChanged - peer added/removed to/from cache (wifi)
ok 323 we have not added peer to the cache yet
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"f2ae499b-fc6b-4713-b9ec-1ff489ec4566","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 324 peer should be available
ok 325 cache contains wifi peer
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"f2ae499b-fc6b-4713-b9ec-1ff489ec4566","connectionType":"tcp","peerAvailable":false,"generation":0,"newAddressPort":null}'
ok 326 peer should be unavailable
ok 327 peer has been removed from cache
# teardown
ok 328 error should be null
ok 329 error should be null
# setup
# peerAvailabilityChanged - peer with the same id, conn type, host, port and generation is ignored
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"2e584d9e-6176-489d-baad-8626c01b36b5","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 330 first peer is available
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"dff961e1-d57c-4a17-8117-934b1d2316e0","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 331 second peer is available
ok 332 first and second peers are different
# teardown
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"2e584d9e-6176-489d-baad-8626c01b36b5","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"dff961e1-d57c-4a17-8117-934b1d2316e0","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 333 error should be null
ok 334 error should be null
# setup
# native available - new peer is cached
ok 335 should not be in cache at start
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"1a8392c6-369d-4e44-9f60-56d06bd497c7","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 336 peer is available
# teardown
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"1a8392c6-369d-4e44-9f60-56d06bd497c7","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 337 error should be null
ok 338 error should be null
# setup
# native available - peer with same port and different generation is cached (BLUETOOTH)
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"19832a21-6f18-47e6-964a-25fef18eaea7","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":2,"newAddressPort":false}'
ok 339 peer should be available
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"19832a21-6f18-47e6-964a-25fef18eaea7","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":3,"newAddressPort":false}'
ok 340 peer should be available
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"19832a21-6f18-47e6-964a-25fef18eaea7","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":1,"newAddressPort":false}'
ok 341 peer should be available
# teardown
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"19832a21-6f18-47e6-964a-25fef18eaea7","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 342 error should be null
ok 343 error should be null
# setup
# native available - peer with the same port and generation but with enough time for generation to wrap around is cached (BLUETOOTH)
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"d2b4cb8a-7299-4bea-ab7f-1b8faba5e6fa","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":2,"newAddressPort":false}'
ok 344 peer should be available
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"d2b4cb8a-7299-4bea-ab7f-1b8faba5e6fa","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":2,"newAddressPort":false}'
ok 345 peer should be available
# teardown
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"d2b4cb8a-7299-4bea-ab7f-1b8faba5e6fa","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 346 error should be null
ok 347 error should be null
# setup
# native available - peer with greater generation is cached (MPCF)
2017-01-04 16:09:09 - DEBUG SimpleThaliTape: 'test was skipped, name: 'native available - peer with greater generation is cached (MPCF)''
# teardown
ok 348 error should be null
ok 349 error should be null
# setup
# native available - peer with same or older generation is ignored (MPCF)
2017-01-04 16:09:09 - DEBUG SimpleThaliTape: 'test was skipped, name: 'native available - peer with same or older generation is ignored (MPCF)''
# teardown
ok 350 error should be null
ok 351 error should be null
# setup
# native unavailable - new peer is ignored
ok 352 NOT IMPLEMENTED # SKIP
# teardown
ok 353 error should be null
ok 354 error should be null
# setup
# native unavailable - cached peer is removed
ok 355 NOT IMPLEMENTED # SKIP
# teardown
ok 356 error should be null
ok 357 error should be null
# setup
# networkChanged - fires peerAvailabilityChanged event for wifi peers
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"c305479e-f58d-435d-903e-41e3f90bd0ca","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 358 first peer is expected to be available
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"4f43e4b0-d14c-47e9-8436-4226dc14db8e","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 359 second peer is expected to be available
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"4f43e4b0-d14c-47e9-8436-4226dc14db8e","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 360 peer became unavailable
ok 361 it was wifi peer
# teardown
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"c305479e-f58d-435d-903e-41e3f90bd0ca","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 362 error should be null
ok 363 error should be null
# setup
# networkChanged - fires peerAvailabilityChanged event for native peers (BLUETOOTH)
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"0fd108d5-f4fd-4d67-8299-a2416368c6b9","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 364 first peer is expected to be available
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"22439f8e-59e9-42ed-a22c-002cb0bfe280","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 365 second peer is expected to be available
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"0fd108d5-f4fd-4d67-8299-a2416368c6b9","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 366 peer became unavailable
ok 367 it was a native peer
# teardown
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"22439f8e-59e9-42ed-a22c-002cb0bfe280","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 368 error should be null
ok 369 error should be null
# setup
# networkChanged - fires peerAvailabilityChanged event for native peers (MPCF)
2017-01-04 16:09:09 - DEBUG SimpleThaliTape: 'test was skipped, name: 'networkChanged - fires peerAvailabilityChanged event for native peers (MPCF)''
# teardown
ok 370 error should be null
ok 371 error should be null
# setup
# multiconnect failure - new peer is ignored (MPCF)
2017-01-04 16:09:09 - DEBUG SimpleThaliTape: 'test was skipped, name: 'multiconnect failure - new peer is ignored (MPCF)''
# teardown
ok 372 error should be null
ok 373 error should be null
# setup
# multiconnect failure - cached peer fires peerAvailabilityChanged (MPCF)
2017-01-04 16:09:09 - DEBUG SimpleThaliTape: 'test was skipped, name: 'multiconnect failure - cached peer fires peerAvailabilityChanged (MPCF)''
# teardown
ok 374 error should be null
ok 375 error should be null
# setup
# newAddressPort field (TCP_NATIVE)
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"44b9b513-6364-4a5f-b71c-cce6275ebcd9","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 376 peer discovered first time does not have new address
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"44b9b513-6364-4a5f-b71c-cce6275ebcd9","connectionType":"tcp","peerAvailable":true,"generation":20,"newAddressPort":false}'
ok 377 address has not been changed
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"44b9b513-6364-4a5f-b71c-cce6275ebcd9","connectionType":"tcp","peerAvailable":true,"generation":20,"newAddressPort":true}'
ok 378 new port handled correctly
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"44b9b513-6364-4a5f-b71c-cce6275ebcd9","connectionType":"tcp","peerAvailable":true,"generation":20,"newAddressPort":true}'
ok 379 new host handled correctly
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"44b9b513-6364-4a5f-b71c-cce6275ebcd9","connectionType":"tcp","peerAvailable":false,"generation":20,"newAddressPort":null}'
ok 380 newAddressPort is null for unavailable peers
# teardown
ok 381 error should be null
ok 382 error should be null
# setup
# newAddressPort field (BLUETOOTH)
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"0dbe652e-1dd1-43e6-8702-3ed690980876","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 383 peer discovered first time does not have new address
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"0dbe652e-1dd1-43e6-8702-3ed690980876","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":20,"newAddressPort":false}'
ok 384 address has not been changed
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"0dbe652e-1dd1-43e6-8702-3ed690980876","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":20,"newAddressPort":true}'
ok 385 new port handled correctly
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"0dbe652e-1dd1-43e6-8702-3ed690980876","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":20,"newAddressPort":null}'
ok 386 newAddressPort is null for unavailable peers
# teardown
ok 387 error should be null
ok 388 error should be null
# setup
# newAddressPort field (MPCF)
2017-01-04 16:09:09 - DEBUG SimpleThaliTape: 'test was skipped, name: 'newAddressPort field (MPCF)''
# teardown
ok 389 error should be null
ok 390 error should be null
# setup
# newAddressPort after listenerRecreatedAfterFailure event (BLUETOOTH)
ok 391 NOT IMPLEMENTED # SKIP
# teardown
ok 392 error should be null
ok 393 error should be null
# setup
# #getPeerHostInfo - error when peer has not been discovered yet
ok 394 should be equal
# teardown
ok 395 error should be null
ok 396 error should be null
# setup
# #getPeerHostInfo - returns discovered cached native peer (BLUETOOTH)
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"foo","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 397 contains expected properties
ok 398 the same hostAddress
ok 399 the same portNumber
# teardown
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"foo","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 400 error should be null
ok 401 error should be null
# setup
# #getPeerHostInfo - returns discovered cached native peer and calls `_multiConnect` to retrieve the port (MPCF)
2017-01-04 16:09:09 - DEBUG SimpleThaliTape: 'test was skipped, name: '#getPeerHostInfo - returns discovered cached native peer and calls `_multiConnect` to retrieve the port (MPCF)''
# teardown
ok 402 error should be null
ok 403 error should be null
# setup
# #getPeerHostInfo - returns discovered cached wifi peer
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"foo","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 404 contains expected properties
ok 405 the same hostAddress
ok 406 the same portNumber
# teardown
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"foo","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 407 error should be null
ok 408 error should be null
# setup
# #disconnect fails on wifi peers
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"629c4d2c-7f42-4cf8-aacf-53d19817b571","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 409 Got specific error message
# teardown
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"629c4d2c-7f42-4cf8-aacf-53d19817b571","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 410 error should be null
ok 411 error should be null
# setup
# #disconnect delegates native peers to the native wrapper
2017-01-04 16:09:09 - DEBUG SimpleThaliTape: 'test was skipped, name: '#disconnect delegates native peers to the native wrapper''
# teardown
ok 412 error should be null
ok 413 error should be null
# setup
# network changes emitted correctly
2017-01-04 16:09:09 - DEBUG SimpleThaliTape: 'test was skipped, name: 'network changes emitted correctly''
# teardown
ok 414 error should be null
ok 415 error should be null
# setup
# network changes not emitted in started state
2017-01-04 16:09:09 - DEBUG SimpleThaliTape: 'test was skipped, name: 'network changes not emitted in started state''
# teardown
ok 416 error should be null
ok 417 error should be null
# setup
# network changes not emitted in stopped state
2017-01-04 16:09:09 - DEBUG SimpleThaliTape: 'test was skipped, name: 'network changes not emitted in stopped state''
# teardown
ok 418 error should be null
ok 419 error should be null
# setup
# calls correct starts when network changes
2017-01-04 16:09:09 - DEBUG SimpleThaliTape: 'test was skipped, name: 'calls correct starts when network changes''
# teardown
ok 420 error should be null
ok 421 error should be null
# setup
# We properly fire peer unavailable and then available when connection fails
2017-01-04 16:09:09 - DEBUG thaliMobileNativeWrapper: 'listening 50099'
2017-01-04 16:09:09 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:09 - DEBUG createNativeListener: 'listening 50100'
2017-01-04 16:09:09 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:09 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:09:09 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:09 - DEBUG thaliMobileNativeWrapper: 'Received peer availability changed event with {"peerIdentifier":"bc7e5557-3db5-4685-9c65-67f370e0d5d1","generation":0,"peerAvailable":true}'
2017-01-04 16:09:09 - DEBUG createPeerListener: 'creating new server for bc7e5557-3db5-4685-9c65-67f370e0d5d1'
2017-01-04 16:09:09 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for bc7e5557-3db5-4685-9c65-67f370e0d5d1 listening on 50101'
2017-01-04 16:09:09 - DEBUG thaliMobileNativeWrapper: 'handlePeerAvailabilityChanged - Emitting {"peerIdentifier":"bc7e5557-3db5-4685-9c65-67f370e0d5d1","peerAvailable":true,"generation":0,"portNumber":50101}'
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"bc7e5557-3db5-4685-9c65-67f370e0d5d1","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 422 peerIds match
ok 423 peer is available
ok 424 newAddressPort is false
2017-01-04 16:09:09 - DEBUG createPeerListener: 'Issuing callNative for bc7e5557-3db5-4685-9c65-67f370e0d5d1'
ok 425 We should have connected
2017-01-04 16:09:09 - WARN createPeerListener: 'callNative for bc7e5557-3db5-4685-9c65-67f370e0d5d1 failed with Connection could not be established'
2017-01-04 16:09:09 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:09 - DEBUG createPeerListener: 'We are emitting failedConnection with error "Error: Connection could not be established" and peerIdentifier "bc7e5557-3db5-4685-9c65-67f370e0d5d1"'
2017-01-04 16:09:09 - DEBUG thaliMobileNativeWrapper: 'Received peer availability changed event with {"peerIdentifier":"bc7e5557-3db5-4685-9c65-67f370e0d5d1","peerAvailable":false,"portNumber":null,"recreated":true}'
ok 426 Failed on right peer
ok 427 Marked as recreated
2017-01-04 16:09:09 - DEBUG createPeerListener: 'Will try to recreate server for bc7e5557-3db5-4685-9c65-67f370e0d5d1'
2017-01-04 16:09:09 - DEBUG thaliMobileNativeWrapper: 'handlePeerUnavailable - Emitting {"peerIdentifier":"bc7e5557-3db5-4685-9c65-67f370e0d5d1","peerAvailable":false,"generation":null,"portNumber":null,"recreated":true}'
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handleRecreatedPeer {"peerIdentifier":"bc7e5557-3db5-4685-9c65-67f370e0d5d1","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 428 still same peer IDs
ok 429 peer should not be available
2017-01-04 16:09:09 - DEBUG createPeerListener: 'creating new server for bc7e5557-3db5-4685-9c65-67f370e0d5d1'
2017-01-04 16:09:09 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for bc7e5557-3db5-4685-9c65-67f370e0d5d1 listening on 50103'
2017-01-04 16:09:09 - DEBUG createPeerListener: 'We are emitting listenerRecreatedAfterFailure with peerIdentifier bc7e5557-3db5-4685-9c65-67f370e0d5d1 and portNumber 50103'
2017-01-04 16:09:09 - DEBUG thaliMobileNativeWrapper: 'listenerRecreatedAfterFailureHandler - We are emitting nonTCPPeerAvailabilityChangedEvent with peerIdentifier bc7e5557-3db5-4685-9c65-67f370e0d5d1, generation 0, and portNumber 50103'
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handleRecreatedPeer {"peerIdentifier":"bc7e5557-3db5-4685-9c65-67f370e0d5d1","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 430 peerIds match again
ok 431 peer is available again
ok 432 newAddressPort is false
ok 433 We got the error we expected
# teardown
2017-01-04 16:09:09 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"bc7e5557-3db5-4685-9c65-67f370e0d5d1","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:09:09 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:09 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:09 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:09 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:09 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:09 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 434 error should be null
ok 435 error should be null
# setup
# If a peer is not available (and hence is not in the thaliMobile cache) but we already started trying to connect make sure recreate does not happen
2017-01-04 16:09:09 - DEBUG SimpleThaliTape: 'test was skipped, name: 'If a peer is not available (and hence is not in the thaliMobile cache) but we already started trying to connect make sure recreate does not happen''
# teardown
ok 436 error should be null
ok 437 error should be null
# setup
# does not fire duplicate events after peer listener recreation
2017-01-04 16:09:09 - DEBUG SimpleThaliTape: 'test was skipped, name: 'does not fire duplicate events after peer listener recreation''
# teardown
ok 438 error should be null
ok 439 error should be null
# setup
# #testThaliPeerAction - test getters
ok 440 getPeerIdentifier
ok 441 getConnectionType
ok 442 getActionType
ok 443 getActionState
ok 444 getPskIdentity
ok 445 getPskKey
# teardown
# setup
# #testThaliPeerAction - start and kill
ok 446 initial state
ok 447 after start
2017-01-04 16:09:09 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 448 after kill
# teardown
# setup
# #testThaliPeerAction - double start
ok 449 should be equal
# teardown
# setup
# #testThaliPeerAction - start after kill
2017-01-04 16:09:09 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 450 clean kill
ok 451 should be equal
# teardown
# setup
# #testThaliPeerAction - make sure ids are unique
ok 452 should not be equal
# teardown
# setup
# #testThaliPeerAction - check that forever agent can be destroyed
ok 453 forever agent should have it's own destroy method
ok 454 agent's destroy should be called
ok 455 agent's destroy should not be called again
ok 456 agent is destroyed
# teardown
# setup
# Test PeerDictionary basic functionality
ok 457 Entry counter must be 1
ok 458 Entry exists
ok 459 Size must be 1
ok 460 Entry counter must be 2
ok 461 Entry exists
ok 462 Size must be 2
ok 463 Entry counter must be 1
ok 464 Entry exists
ok 465 Size must be 3
ok 466 Entry counter must be 2
ok 467 Entry exists
ok 468 Size must be 4
ok 469 Entry 1_1 should not be found
ok 470 Entry 1_1 does not exist
ok 471 Size must be 3
ok 472 Entry 1_2 should not be found
ok 473 Entry 1_2 does not exist
ok 474 Size must be 2
ok 475 should be equal
ok 476 Entry 2_1 should not be found
ok 477 Entry 2_2 should not be found
ok 478 Entry 2_1 does not exist
ok 479 Entry 2_2 does not exist
ok 480 Size must be 0
# teardown
# setup
# Test PeerDictionary with multiple entries.
ok 481 Size must be100
ok 482 Entries between 20 and MAXSIZE + 20 should exist
ok 483 WAITING state entry should not be removed
# teardown
# setup
# RESOLVED entries are removed before WAITING state entry.
ok 484 Entries between 6 and MAXSIZE + 4 should exist
ok 485 Size should be MAXSIZE
ok 486 Size should be MAXSIZE+6
# teardown
# setup
# WAITING entries are removed before CONTROLLED_BY_POOL state entry.
ok 487 WAITING state entry should not be removed
ok 488 Waiting entries between 6 and MAXSIZE + 4 should exist
ok 489 Size should be MAXSIZE
ok 490 entryCounter should be MAXSIZE+6
# teardown
# setup
# When CONTROLLED_BY_POOL entry is removed and kill is called.
ok 491 Kill should be called once
ok 492 Size should be MAXSIZE
# teardown
# setup
# #ThaliPeerPoolDefault - single action
ok 493 is an agent
ok 494 enqueue is fine
ok 495 Everything should be off the queue
# teardown
# setup
# #ThaliPeerPoolDefault - multiple actions
ok 496 is an agent
ok 497 first enqueue is fine
ok 498 is an agent
ok 499 second enqueue is fine
ok 500 everybody, even identical peers, get their own pool, although eventually we should make identical peers have a common pool.
ok 501 Queue is empty
# teardown
# setup
# #ThaliPeerPoolDefault - PSK Pool works
ok 502 is an agent
ok 503 good enqueue
ok 504 Identity should match
2017-01-04 16:09:10 - DEBUG testUtils: 'Got response data'
2017-01-04 16:09:10 - DEBUG testUtils: 'Got end'
ok 505 Got expected response
ok 506 Got psk call back
# teardown
2017-01-04 16:09:10 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #ThaliPeerPoolDefault - stop
ok 507 is an agent
ok 508 enqueue worked
ok 509 is an agent
ok 510 enqueue 2 worked
ok 511 enqueue is not available when stopped
ok 512 start action is killed
ok 513 killed action is still killed
ok 514 enqueued action when stopped is killed
ok 515 inQueue is empty
# teardown
# setup
# #ThaliPeerPoolInterface - make sure that start verifies queue length
ok 516 good start
ok 517 good enqueue
ok 518 queue is not empty
# teardown
# setup
# #ThaliPeerPoolInterface - bad enqueues
ok 519 null arg
ok 520 wrong arg type
ok 521 wrong arg type
# teardown
# setup
# #ThaliPeerPoolInterface - do not allow same object type
ok 522 good enqueue
ok 523 already enqueued
# teardown
# setup
# #ThaliPeerPoolInterface - make sure we catch kill and dequeue
ok 524 good enqueue
ok 525 2nd good enqueue
ok 526 we are in the pool
ok 527 We are out of the pool
ok 528 Action was killed
ok 529 The original kill was called too
ok 530 second item is still in queue
# teardown
# setup
# #ThaliPeerPoolInterface - make sure our changes to the action leave kill as idempotent
ok 531 good enqueue
ok 532 first kill
ok 533 second NOOP kill
# teardown
# setup
# #ThaliPeerPoolInterface - make sure that stop removes all actions
ok 534 1st good enqueue
ok 535 2nd good enqueue
ok 536 1st action is in the pool
ok 537 2nd action is in the pool
ok 538 1st action is out of the pool
ok 539 2st action is out of the pool
ok 540 pool is empty
# teardown
# setup
# We reject unrecognized connection type
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Start was called'
ok 541 Got right error
ok 542 Start should not be called
ok 543 Kill should have been called at least once
# teardown
# setup
# We reject unrecognized action type
2017-01-04 16:09:10 - DEBUG SimpleThaliTape: 'test was skipped, name: 'We reject unrecognized action type''
# teardown
# setup
# One action on bluetooth
2017-01-04 16:09:10 - DEBUG SimpleThaliTape: 'test was skipped, name: 'One action on bluetooth''
# teardown
# setup
# Two notification actions
2017-01-04 16:09:10 - DEBUG SimpleThaliTape: 'test was skipped, name: 'Two notification actions''
# teardown
# setup
# replicateThroughProblems
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Action Started success'
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - success'
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Got a replication response with no error!'
ok 544 should have gotten null
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Action Started noActivityTimeOut'
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'action returned with error from startError: No activity time out - noActivityTimeOut'
ok 545 Should have stopped nicely
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Action Started failureButNotAvailable'
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'action returned with error from startError: eeeek! - failureButNotAvailable'
ok 546 Still looking for null
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Action Started failureButAvailable'
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'action returned with error from startError: eeeek! - failureButAvailable'
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Replication action failed badly so we are going to retry'
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Action Started clone!'
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - clone!'
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Got a replication response with no error!'
ok 547 Yup, another null
ok 548 We cloned!
# teardown
# setup
# Replication goes first
2017-01-04 16:09:10 - DEBUG SimpleThaliTape: 'test was skipped, name: 'Replication goes first''
# teardown
# setup
# wifi allows many parallel non-replication actions
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Start was called'
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 586, Action Type: foo, Connection Type: tcp, Peer Identifier: 1'
ok 549 is an agent
ok 550 First null
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 587, Action Type: foo, Connection Type: tcp, Peer Identifier: 2'
ok 551 is an agent
ok 552 Second null
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 587, Action Type: foo, Connection Type: tcp, Peer Identifier: 2'
truetruefalsetrue
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 586, Action Type: foo, Connection Type: tcp, Peer Identifier: 1'
truetruetruetrue
# teardown
# setup
# wifi allows no more than 2 simultaneous replication actions for same peerID
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Start was called'
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 588, Action Type: ReplicationAction, Connection Type: tcp, Peer Identifier: 1'
ok 553 is an agent
ok 554 First null
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 589, Action Type: ReplicationAction, Connection Type: tcp, Peer Identifier: 1'
ok 555 is an agent
ok 556 second null
ok 557 third null
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 588, Action Type: ReplicationAction, Connection Type: tcp, Peer Identifier: 1'
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 589, Action Type: ReplicationAction, Connection Type: tcp, Peer Identifier: 1'
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Got a replication response with no error!'
2017-01-04 16:09:10 - DEBUG thaliPeerPoolOneAtATime: 'Got a replication response with no error!'
# teardown
# setup
# Test BEACONS_RETRIEVED_AND_PARSED locally
ok 558 peerIdentifier should match
ok 559 generation should match
ok 560 Response should be BEACONS_RETRIEVED_AND_PARSED
ok 561 good beacon
ok 562 good preAmble
ok 563 public keys match!
ok 564 must return null after successful call
ok 565 Once start returns the action should be in KILLED state
# teardown
2017-01-04 16:09:10 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test HTTP_BAD_RESPONSE locally
ok 566 Response should be HTTP_BAD_RESPONSE
ok 567 must return null after successful call
# teardown
2017-01-04 16:09:10 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test NETWORK_PROBLEM locally
ok 568 Response should be NETWORK_PROBLEM
ok 569 reject reason should be: Could not establish TCP connection
# teardown
2017-01-04 16:09:10 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Action fails when getPeerHostInfo fails
ok 570 Resolution should be BAD_PEER
ok 571 correct error message
# teardown
2017-01-04 16:09:10 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Call the start two times
ok 572 Call start once
ok 573 Response should be BEACONS_RETRIEVED_AND_PARSED
ok 574 must return null after successful call.
# teardown
2017-01-04 16:09:10 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Call the kill before calling the start
ok 575 Should be Killed
ok 576 Start after killed
# teardown
2017-01-04 16:09:10 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Call the kill immediately after the start
ok 577 Should be KILLED
ok 578 must return null after successful kill
# teardown
2017-01-04 16:09:10 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Call the kill while waiting a response from the server
ok 579 Should be KILLED
ok 580 must return null after successful kill
# teardown
2017-01-04 16:09:12 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test to exceed the max content size locally
ok 581 HTTP_BAD_RESPONSE should be response when content size is exceeded
ok 582 must return null after successful call
# teardown
2017-01-04 16:09:12 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Close the server socket while the client is waiting a response from the server. Local test.
2017-01-04 16:09:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 583 Should be NETWORK_PROBLEM caused closing server socket
ok 584 Should be Could not establish TCP connection
# teardown
# setup
# Close the client socket while the client is waiting a response from the server. Local test.
ok 585 Should be NETWORK_PROBLEM caused closing client socket
ok 586 Should be Could not establish TCP connection
# teardown
2017-01-04 16:09:16 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #generatePreambleAndBeacons bad args
ok 587 publicKeysToNotify cannot be null
ok 588 ecdh for local device cannot be null
ok 589 milliseconds cannot be less than 0
ok 590 milliseconds cannot be 0
ok 591 milliseconds cannot be greater than one_day
# teardown
# setup
# #generatePreambleAndBeacons empty keys to notify
ok 592 should be equal
# teardown
# setup
# #generatePreambleAndBeacons multiple keys to notify
ok 593 should be equal
ok 594 should be equal
ok 595 (unnamed assert)
ok 596 should be equal
# teardown
# setup
# #parseBeacons invalid ECDH public key in beaconStreamWithPreAmble
ok 597 should throw
# teardown
# setup
# #parseBeacons invalid expiration in beaconStreamWithPreAmble
ok 598 Preamble expiration must be a 64 bit integer
# teardown
# setup
# #parseBeacons expiration out of range lower
ok 599 Expiration out of range
# teardown
# setup
# #parseBeacons expiration out of range lower
ok 600 Expiration out of range
# teardown
# setup
# #parseBeacons no beacons returns null
ok 601 should be equal
# teardown
# setup
# #parseBeacons invalid size for encryptedBeaconKeyId in  beaconStreamWithPreAmble
ok 602 Malformed encrypted beacon key ID
# teardown
# setup
# #parseBeacons addressBookCallback fails decrypt
ok 603 should be equal
# teardown
# setup
# #parseBeacons addressBookCallback returns no matches
ok 604 should be equal
ok 605 should be equal
# teardown
# setup
# #parseBeacons addressBookCallback returns spurious match
ok 606 should be equal
ok 607 should be equal
# teardown
# setup
# #parseBeacons addressBookCallback returns public key
ok 608 right number of calls to address book
ok 609 good preAmble
ok 610 good unencryptedKeyId
ok 611 good beacon
# teardown
# setup
# validate generatePskIdentityField
ok 612 decoded buffers match
# teardown
# setup
# validate generatePskSecret
ok 613 secrets match
# teardown
# setup
# validate generatePskSecrets
ok 614 Matching numbers
ok 615 We have an entry!
ok 616 keys match
ok 617 secrets match
ok 618 We have an entry!
ok 619 keys match
ok 620 secrets match
ok 621 We have an entry!
ok 622 keys match
ok 623 secrets match
# teardown
# setup
# validate generateBeaconStreamAndSecrets
ok 624 Streams have same length
ok 625 matching size
ok 626 keys match
ok 627 secrets match
# teardown
# setup
# Add two Peers.
ok 628 should be equal
ok 629 peerDictionalty contains 2 peers
ok 630 bluetooth peer's notification has correct connection type
ok 631 tcp peer's notification has correct connection type
2017-01-04 16:09:16 - DEBUG thaliPeerPoolDefault: 'Got err   peer not available'
2017-01-04 16:09:16 - DEBUG thaliPeerPoolDefault: 'Got err   peer not available'
# teardown
2017-01-04 16:09:16 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# TCP_NATIVE peer loses DNS
ok 632 notification peer dictionary contains exactly 1 peer
2017-01-04 16:09:16 - WARN thaliNotificationClient: 'peer is not available'
ok 633 notification peer dictionary does not contain any peers
2017-01-04 16:09:16 - DEBUG thaliPeerPoolDefault: 'Got err   peer not available'
# teardown
2017-01-04 16:09:16 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Received beacons with no values for us
ok 634 entry exists
ok 635 entry is resolved
# teardown
2017-01-04 16:09:16 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Notification action killed with a superseded
ok 636 Action should be KILLED
ok 637 Peer state should be RESOLVED
# teardown
2017-01-04 16:09:16 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Resolves an action locally
ok 638 hostAddress must match
ok 639 portNumber must match
ok 640 suggestedTCPTimeout must match
ok 641 connectionType must match
ok 642 peerIDs must match
# teardown
2017-01-04 16:09:16 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Resolves an action locally using ThaliPeerPoolDefault
ok 643 hostAddress must match
ok 644 portNumber must match
ok 645 suggestedTCPTimeout must match
ok 646 connectionType must match
ok 647 peerIds must match
# teardown
2017-01-04 16:09:16 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Action fails because of a bad hostname.
2017-01-04 16:09:16 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 648 action should be resolved with NETWORK_PROBLEM error
2017-01-04 16:09:16 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 649 action should be resolved with NETWORK_PROBLEM error
2017-01-04 16:09:17 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 650 action should be resolved with NETWORK_PROBLEM error
2017-01-04 16:09:17 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 651 action should be resolved with NETWORK_PROBLEM error
ok 652 correct number of requests
ok 653 correct number of failures
ok 654 correct final peer state
# teardown
2017-01-04 16:09:17 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# hostaddress is removed when the action is running. 
2017-01-04 16:09:19 - WARN thaliNotificationClient: 'peer is not available'
2017-01-04 16:09:19 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 655 peerDictionary should become empty
# teardown
2017-01-04 16:09:19 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# notificationClient does not retry action with BAD_PEER resolution
2017-01-04 16:09:19 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 656 failed with expected error
ok 657 peer state should be RESOLVED
# teardown
2017-01-04 16:09:19 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# notification client correctly handles peer availability changes of the same peer
2017-01-04 16:09:19 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 658 First action failed
ok 659 second action killed
# teardown
2017-01-04 16:09:20 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Client to server request locally
ok 660 secrets are equal
ok 661 Public key matches with the server key
ok 662 hostAddress must match
ok 663 portNumber must match
ok 664 suggestedTCPTimeout must match
ok 665 connectionType must match
# teardown
2017-01-04 16:09:20 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test ThaliPskMapCache clean and expiration
ok 666 ThaliPskMapCache should not exceed MAX_NOTIFICATIONSERVER_PSK_MAP_CACHE_SIZE
ok 667 ThaliPskMapCache should not exceed MAX_NOTIFICATIONSERVER_PSK_MAP_CACHE_SIZE-1
ok 668 All entries should be expired after 1 second
# teardown
2017-01-04 16:09:21 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test ThaliPskMapCache getSecret and getPublic
ok 669 All keys need to be available in the cache
ok 670 All entries should be expired after 1 second
# teardown
2017-01-04 16:09:22 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test ThaliPskMapCache multiple entries
ok 671 Size of the cache should be 2
ok 672 Cache doesn't contain dictionary1
ok 673 Size of the cache should be 1
ok 674 Cache doesn't contain beaconStreamAndSecretDictionary2
# teardown
2017-01-04 16:09:24 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Start and stop ThaliNotificationServer
ok 675 ThaliMobile.StartUpdateAdvertisingAndListening should be called once
ok 676 ThaliMobile.StopAdvertisingAndListeningshould be called once
# teardown
2017-01-04 16:09:24 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Pass an empty array to ThaliNotificationServer.start
ok 677 StartUpdateAdvertisingAndListening should not be called
ok 678 ThaliMobile.StopAdvertisingAndListening should be called once
ok 679 no error
ok 680 should be 204
# teardown
2017-01-04 16:09:24 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Pass a string to ThaliNotificationServer.start
ok 681 StartUpdateAdvertisingAndListening should not be called
# teardown
2017-01-04 16:09:24 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Pass an empty parameter to ThaliNotificationServer.start
ok 682 StartUpdateAdvertisingAndListening should not be called
# teardown
2017-01-04 16:09:24 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make an HTTP request to /NotificationBeacons
ok 683 no error
ok 684 should be 200
ok 685 should be equal
ok 686 should be equal
ok 687 (unnamed assert)
ok 688 no error
ok 689 should be 204
# teardown
2017-01-04 16:09:24 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make an HTTP request to /NotificationBeacons (no keys)
ok 690 error should be null
ok 691 should be 204
# teardown
2017-01-04 16:09:24 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make an HTTP request to /NotificationBeaconsbefore calling start
ok 692 should be 404
# teardown
2017-01-04 16:09:24 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make sure peerDictionaryKey is reasonable
ok 693 equal keys
ok 694 not equal connection type
ok 695 same connection type, different buffer
# teardown
# setup
# Make sure start works
2017-01-04 16:09:24 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
ok 696 First start and on called correctly
# teardown
# setup
# Make sure stop works
ok 697 second cleared dictionary
2017-01-04 16:09:24 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
ok 698 First start and on called correctly
ok 699 First stop and removeListener called correctly
ok 700 first action kill called
ok 701 second action kill called
ok 702 first cleared dictionary
ok 703 first cleared pool
ok 704 second cleared dictionary
ok 705 second cleared pool
# teardown
# setup
# Simple peer event
2017-01-04 16:09:24 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
ok 706 listener has been set
ok 707 peer dictionary has expected number of entries
ok 708 Dictionary and pool have same action
ok 709 ads match
ok 710 PouchDB matches
ok 711 DB Names match
ok 712 public keys match
ok 713 peer dictionary has expected number of entries
ok 714 Dictionary and pool have same action
ok 715 ads match
ok 716 PouchDB matches
ok 717 DB Names match
ok 718 public keys match
2017-01-04 16:09:24 - DEBUG thaliReplicationPeerAction: 'We called _complete with  and it caused us to complete'
ok 719 start called once
ok 720 One entry left
ok 721 Dictionary and pool have same action
ok 722 Start never called
ok 723 Kill called once
ok 724 no entries left
ok 725 Third action is dead
ok 726 peer dictionary has expected number of entries
ok 727 Dictionary and pool have same action
ok 728 ads match
ok 729 PouchDB matches
ok 730 DB Names match
ok 731 public keys match
# teardown
# setup
# Server is not there
2017-01-04 16:09:24 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:24 - DEBUG thaliReplicationPeerAction: 'Got error on replication -  500 connect ECONNREFUSED'
2017-01-04 16:09:24 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: connect ECONNREFUSED  and it caused us to complete'
ok 732 right error
# teardown
2017-01-04 16:09:24 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Server accepts & closes connection
2017-01-04 16:09:24 - DEBUG thaliReplicationPeerAction: 'Got error on replication -  500 socket hang up'
2017-01-04 16:09:24 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: socket hang up  and it caused us to complete'
ok 733 right error
# teardown
2017-01-04 16:09:24 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Server always returns 500
2017-01-04 16:09:24 - DEBUG thaliReplicationPeerAction: 'Got error on replication -  500 changes rejected'
2017-01-04 16:09:24 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: changes rejected  and it caused us to complete'
ok 734 Got error as expected
# teardown
2017-01-04 16:09:24 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Server always returns 401
2017-01-04 16:09:24 - DEBUG thaliReplicationPeerAction: 'Got error on replication -  401 changes rejected'
2017-01-04 16:09:24 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: changes rejected  and it caused us to complete'
ok 735 Got error as expected
# teardown
2017-01-04 16:09:24 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Server always returns 403
2017-01-04 16:09:24 - DEBUG thaliReplicationPeerAction: 'Got error on replication -  403 changes rejected'
2017-01-04 16:09:24 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: changes rejected  and it caused us to complete'
ok 736 Got error as expected
# teardown
2017-01-04 16:09:24 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make sure docs replicate
2017-01-04 16:09:25 - DEBUG thaliReplicationPeerAction: 'Replication resumed'
2017-01-04 16:09:25 - DEBUG thaliReplicationPeerAction: 'Got paused with -  '
2017-01-04 16:09:28 - DEBUG thaliReplicationPeerAction: 'We called _complete with  but we are already killed and so we ignored it'
ok 737 should be equal
ok 738 All tests passed!
# teardown
2017-01-04 16:09:28 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Do nothing and make sure we time out
2017-01-04 16:09:28 - DEBUG thaliReplicationPeerAction: 'Got paused with -  '
2017-01-04 16:09:30 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: No activity time out  and it caused us to complete'
2017-01-04 16:09:30 - DEBUG thaliReplicationPeerAction: 'We called _complete with  but this is a second call and so we ignored it'
ok 739 action should be killed
ok 740 Error should be timed out
ok 741 No doc found
# teardown
2017-01-04 16:09:30 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Do something and make sure we time out
2017-01-04 16:09:30 - DEBUG thaliReplicationPeerAction: 'Replication resumed'
2017-01-04 16:09:30 - DEBUG thaliReplicationPeerAction: 'Got paused with -  '
ok 742 should be equal
2017-01-04 16:09:32 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: No activity time out  and it caused us to complete'
2017-01-04 16:09:32 - DEBUG thaliReplicationPeerAction: 'We called _complete with  but this is a second call and so we ignored it'
ok 743 action should be killed
ok 744 Error should be timed out
# teardown
2017-01-04 16:09:32 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Start replicating and then catch error when server goes
ok 745 socket hung up
# teardown
2017-01-04 16:09:32 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make sure clone works
ok 746 same getPeerAdvertisesDataForUs
ok 747 Same pouchdB
ok 748 same dbName
ok 749 Same public key
# teardown
# setup
# compareBufferArrays
ok 750 should throw
ok 751 should throw
ok 752 (unnamed assert)
ok 753 (unnamed assert)
ok 754 (unnamed assert)
ok 755 (unnamed assert)
ok 756 (unnamed assert)
# teardown
# setup
# Call start twice and get error
ok 757 should throw
# teardown
# setup
# Start and make sure it runs
# teardown
# setup
# Make sure getTimeWhenRun is right after start
ok 758 (unnamed assert)
# teardown
# setup
# Make sure getTimeWhenRun is -1 after function is called
ok 759 should be equal
# teardown
# setup
# Make sure getTimeWhenRun is -2 when start has not been called and null if stop is called without running
ok 760 should be equal
ok 761 should be equal
ok 762 should throw
# teardown
# setup
# Test TransientState
ok 763 should throw
ok 764 should throw
ok 765 should be equal
ok 766 should be equal
ok 767 should be equal
ok 768 should be equal
ok 769 (unnamed assert)
ok 770 (unnamed assert)
# teardown
# setup
# No peers and empty database
ok 771 verify failed
ok 772 constructor called once
ok 773 constructor called with right args
ok 774 match start arg
ok 775 start called once
ok 776 stop called once
ok 777 stop after start
# teardown
# setup
# One peer and empty DB
ok 778 verify failed
ok 779 constructor called once
ok 780 constructor called with right args
ok 781 match start arg
ok 782 start called once
ok 783 stop called once
ok 784 stop after start
2017-01-04 16:09:32 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# One peer with _Local set behind current seq
ok 785 verify failed
ok 786 constructor called once
ok 787 constructor called with right args
ok 788 match start arg
ok 789 start called once
ok 790 stop called once
ok 791 stop after start
2017-01-04 16:09:32 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# One peer with _Local set equal to current seq
ok 792 verify failed
ok 793 constructor called once
ok 794 constructor called with right args
ok 795 match start arg
ok 796 start called once
ok 797 stop called once
ok 798 stop after start
2017-01-04 16:09:32 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# One peer with _Local set ahead of current seq (and no this should not happen)
ok 799 verify failed
ok 800 constructor called once
ok 801 constructor called with right args
ok 802 match start arg
ok 803 start called once
ok 804 stop called once
ok 805 stop after start
2017-01-04 16:09:32 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# Three peers, one not in DB, one behind and one ahead
ok 806 verify failed
ok 807 constructor called once
ok 808 constructor called with right args
ok 809 match start arg
ok 810 start called once
ok 811 stop called once
ok 812 stop after start
2017-01-04 16:09:32 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# More than maximum peers, make sure we only send maximum allowed
ok 813 verify failed
ok 814 constructor called once
ok 815 constructor called with right args
ok 816 match start arg
ok 817 start called once
ok 818 stop called once
ok 819 stop after start
2017-01-04 16:09:33 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# two peers with empty DB, update the doc
2017-01-04 16:09:33 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
ok 820 verify failed
ok 821 constructor called once
ok 822 constructor called with right args
ok 823 last start before stop
ok 824 empty first start
ok 825 full second start
ok 826 only 2 timers
2017-01-04 16:09:33 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# add doc and make sure tokens refresh when they expire
2017-01-04 16:09:33 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
2017-01-04 16:09:33 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
ok 827 verify failed
ok 828 constructor called once
ok 829 constructor called with right args
ok 830 start before stop
ok 831 We got at least 3 calls to start
ok 832 at least 3
ok 833 default 1
ok 834 1 run
ok 835 default 2
ok 836 2 run
ok 837 default 3
2017-01-04 16:09:33 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# start and stop and start and stop
ok 838 start out null
ok 839 back to null
2017-01-04 16:09:33 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
ok 840 still null
ok 841 verify failed
ok 842 constructor called once
ok 843 constructor called with right args
ok 844 first start before first stop
ok 845 first stop before second start
ok 846 second start before second stop
2017-01-04 16:09:33 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# two identical starts in a row
ok 847 verify failed
ok 848 constructor called once
ok 849 constructor called with right args
ok 850 (unnamed assert)
2017-01-04 16:09:33 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# two different starts in a row
2017-01-04 16:09:33 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
ok 851 verify failed
ok 852 constructor called once
ok 853 constructor called with right args
ok 854 (unnamed assert)
ok 855 (unnamed assert)
# teardown
# setup
# two stops and a start and two stops
ok 856 verify failed
ok 857 constructor called once
ok 858 constructor called with right args
ok 859 start before stop
2017-01-04 16:09:33 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# we properly enqueue requests so no then needed
2017-01-04 16:09:33 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
ok 860 verify failed
ok 861 constructor called once
ok 862 constructor called with right args
ok 863 start before stop
# teardown
# setup
# test calculateSeqPointKeyId
ok 864 should be equal
ok 865 should be equal
# teardown
# setup
# #_doImmediateSeqUpdate - server is not there
2017-01-04 16:09:33 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:33 - DEBUG localSeqManager: 'Got an error trying to update seq {"code":"ECONNREFUSED","errno":"ECONNREFUSED","syscall":"connect","status":500}'
ok 866 Got right error
# teardown
2017-01-04 16:09:33 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - server accepts & closes connection
2017-01-04 16:09:33 - DEBUG localSeqManager: 'Got an error trying to update seq {"code":"ECONNRESET","status":500}'
ok 867 Got socket hang up
# teardown
2017-01-04 16:09:33 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - server always returns 500
2017-01-04 16:09:33 - DEBUG localSeqManager: 'Got an error trying to update seq []'
ok 868 Got 500 as expected
# teardown
2017-01-04 16:09:33 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - create new seq doc
ok 869 should be equal
ok 870 revs are equal
# teardown
2017-01-04 16:09:33 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - doc exists, need to get rev and update
ok 871 should be equal
ok 872 revs are equal
# teardown
2017-01-04 16:09:33 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - update seq three times
ok 873 should be equal
ok 874 revs are equal
ok 875 should be equal
ok 876 revs are equal
ok 877 should be equal
ok 878 revs are equal
# teardown
2017-01-04 16:09:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - rev got changed under us
2017-01-04 16:09:34 - DEBUG localSeqManager: 'Got an error trying to update seq {"error":"conflict","reason":"Document update conflict","name":"conflict","status":409,"message":"Document update conflict"}'
ok 879 Our rev is old so we should fail
# teardown
2017-01-04 16:09:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - fail if stop is called
ok 880 confirm stop caused failure
# teardown
2017-01-04 16:09:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - stop after get but before put fails right
2017-01-04 16:09:34 - DEBUG localSeqManager: 'Got an error trying to update seq {"onPut":true}'
ok 881 stop caused us to fail
ok 882 We specifically failed on a stop before put
# teardown
2017-01-04 16:09:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - fail if stop is called
ok 883 failed due to stop
ok 884 failed due to stop
# teardown
2017-01-04 16:09:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - set seq for first time
ok 885 should be equal
# teardown
2017-01-04 16:09:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - Fail on bad seq value
2017-01-04 16:09:34 - DEBUG localSeqManager: 'Got a bad seq, submitted seq 9, _nextSeqValueToSend: 10'
ok 886 Expected bad seq error
# teardown
2017-01-04 16:09:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - do we cancel timer properly on an immediate?
ok 887 Different promises
ok 888 Timer was cancelled
ok 889 should be equal
# teardown
2017-01-04 16:09:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - do we wait for blocked update
ok 890 One go and one blocked
ok 891 All blocked
ok 892 Still blocked
ok 893 should be equal
# teardown
2017-01-04 16:09:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - test that we wait long enough
ok 894 We waited long enough
ok 895 should be equal
# teardown
2017-01-04 16:09:42 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - test that we pick up new sequences while we wait
ok 896 Should have gotten same timer promise
ok 897 Still same timer promise
ok 898 We waited long enough
ok 899 should be equal
# teardown
2017-01-04 16:09:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# test thali manager spies
2017-01-04 16:09:50 - DEBUG thaliManager: 'creating ThaliSendNotificationBasedOnReplication instance'
2017-01-04 16:09:50 - DEBUG thaliManager: 'creating ThaliPullReplicationFromNotification instance'
2017-01-04 16:09:50 - DEBUG thaliManager: 'creating express pouchdb instance'
ok 900 expressPouchDB was called once
ok 901 expressPouchDB was called with 2 arguments
ok 902 expressPouchDB was called with 'PouchDB' as 1-st argument
ok 903 expressPouchDB was called with 'expressPouchDB options' as 2-st argument
ok 904 PouchDB was called once
ok 905 PouchDB was called with 1 arguments
ok 906 PouchDB was called with 'dbName' as 1-st argument
ok 907 ThaliSendNotificationBasedOnReplication was called once
ok 908 ThaliSendNotificationBasedOnReplication was called with 4 arguments
ok 909 ThaliSendNotificationBasedOnReplication was called with 'express.Router instance' as 1-st argument
ok 910 ThaliSendNotificationBasedOnReplication was called with 'ecdhForLocalDevice' as 2-st argument
ok 911 ThaliSendNotificationBasedOnReplication was called with 'thaliConfig.BEACON_MILLISECONDS_TO_EXPIRE' as 3-st argument
ok 912 ThaliSendNotificationBasedOnReplication was called with 'PouchDB instance' as 4-st argument
ok 913 ThaliPullReplicationFromNotification was called once
ok 914 ThaliPullReplicationFromNotification was called with 4 arguments
ok 915 ThaliPullReplicationFromNotification was called with 'PouchDB' as 1-st argument
ok 916 ThaliPullReplicationFromNotification was called with 'dbName' as 2-st argument
ok 917 ThaliPullReplicationFromNotification was called with 'ThaliPeerPoolInterface instance' as 3-st argument
ok 918 ThaliPullReplicationFromNotification was called with 'ecdhForLocalDevice' as 4-st argument
ok 919 Salti was called once
ok 920 Salti was called with 4 arguments
ok 921 Salti was called with 'dbName' as 1-st argument
ok 922 Salti was called with 'acl' as 2-st argument
ok 923 Salti was called with 'thaliIdCallback' as 3-st argument
ok 924 Salti was called with 'options' as 4-st argument
2017-01-04 16:09:50 - DEBUG thaliManager: 'starting thaliPullReplicationFromNotification'
2017-01-04 16:09:50 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
2017-01-04 16:09:50 - DEBUG thaliManager: 'starting ThaliMobile'
2017-01-04 16:09:50 - DEBUG thaliManager: 'start listening for advertisements'
2017-01-04 16:09:50 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:50 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:50 - DEBUG thaliManager: 'start update advertising and listening'
2017-01-04 16:09:50 - DEBUG thaliWifiInfrastructure: 'listening 50283'
2017-01-04 16:09:50 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:50 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:50 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:50 - DEBUG thaliManager: 'starting thaliSendNotificationBasedOnReplication'
ok 925 ThaliMobile.start was called once
ok 926 ThaliMobile.start was called with 3 arguments
ok 927 ThaliMobile.start was called with 'express.Router instance' as 1-st argument
ok 928 ThaliMobile.start was called with 'getPskIdToSecret' as 2-st argument
ok 929 ThaliMobile.start was called with 'networkType' as 3-st argument
ok 930 ThaliMobile.startListeningForAdvertisements was called once
ok 931 ThaliMobile.startListeningForAdvertisements was called with 0 arguments
ok 932 ThaliMobile.startUpdateAdvertisingAndListening was called once
ok 933 ThaliMobile.startUpdateAdvertisingAndListening was called with 0 arguments
ok 934 ThaliSendNotificationBasedOnReplication.prototype.start was called once
ok 935 ThaliSendNotificationBasedOnReplication.prototype.start was called with 1 arguments
ok 936 ThaliSendNotificationBasedOnReplication.prototype.start was called with 'remoteKeys' as 1-st argument
ok 937 ThaliPullReplicationFromNotification.prototype.start was called once
ok 938 ThaliPullReplicationFromNotification.prototype.start was called with 1 arguments
ok 939 ThaliPullReplicationFromNotification.prototype.start was called with 'remoteKeys' as 1-st argument
2017-01-04 16:09:50 - DEBUG thaliManager: 'stopping thaliPeerPoolInterface'
2017-01-04 16:09:50 - DEBUG thaliManager: 'stopping thaliPullReplicationFromNotification'
2017-01-04 16:09:50 - DEBUG thaliManager: 'stopping thaliSendNotificationBasedOnReplication'
2017-01-04 16:09:50 - DEBUG thaliManager: 'stopping advertising and listening'
2017-01-04 16:09:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:50 - DEBUG thaliManager: 'stopping listening for advertisements'
2017-01-04 16:09:50 - DEBUG thaliManager: 'stopping ThaliMobile'
ok 940 ThaliMobile.stop was called once
ok 941 ThaliMobile.stop was called with 0 arguments
ok 942 ThaliMobile.stopListeningForAdvertisements was called once
ok 943 ThaliMobile.stopListeningForAdvertisements was called with 0 arguments
ok 944 ThaliMobile.stopAdvertisingAndListening was called once
ok 945 ThaliMobile.stopAdvertisingAndListening was called with 0 arguments
ok 946 ThaliSendNotificationBasedOnReplication.prototype.stop was called once
ok 947 ThaliSendNotificationBasedOnReplication.prototype.stop was called with 0 arguments
ok 948 ThaliPullReplicationFromNotification.prototype.stop was called once
ok 949 ThaliPullReplicationFromNotification.prototype.stop was called with 0 arguments
# teardown
# setup
# test thali manager multiple starts and stops
2017-01-04 16:09:51 - DEBUG thaliManager: 'creating ThaliSendNotificationBasedOnReplication instance'
2017-01-04 16:09:51 - DEBUG thaliManager: 'creating ThaliPullReplicationFromNotification instance'
2017-01-04 16:09:51 - DEBUG thaliManager: 'creating express pouchdb instance'
ok 950 expressPouchDB was called once
ok 951 expressPouchDB was called with 2 arguments
ok 952 expressPouchDB was called with 'PouchDB' as 1-st argument
ok 953 expressPouchDB was called with 'expressPouchDB options' as 2-st argument
ok 954 PouchDB was called once
ok 955 PouchDB was called with 1 arguments
ok 956 PouchDB was called with 'dbName' as 1-st argument
ok 957 ThaliSendNotificationBasedOnReplication was called once
ok 958 ThaliSendNotificationBasedOnReplication was called with 4 arguments
ok 959 ThaliSendNotificationBasedOnReplication was called with 'express.Router instance' as 1-st argument
ok 960 ThaliSendNotificationBasedOnReplication was called with 'ecdhForLocalDevice' as 2-st argument
ok 961 ThaliSendNotificationBasedOnReplication was called with 'thaliConfig.BEACON_MILLISECONDS_TO_EXPIRE' as 3-st argument
ok 962 ThaliSendNotificationBasedOnReplication was called with 'PouchDB instance' as 4-st argument
ok 963 ThaliPullReplicationFromNotification was called once
ok 964 ThaliPullReplicationFromNotification was called with 4 arguments
ok 965 ThaliPullReplicationFromNotification was called with 'PouchDB' as 1-st argument
ok 966 ThaliPullReplicationFromNotification was called with 'dbName' as 2-st argument
ok 967 ThaliPullReplicationFromNotification was called with 'ThaliPeerPoolInterface instance' as 3-st argument
ok 968 ThaliPullReplicationFromNotification was called with 'ecdhForLocalDevice' as 4-st argument
ok 969 Salti was called once
ok 970 Salti was called with 4 arguments
ok 971 Salti was called with 'dbName' as 1-st argument
ok 972 Salti was called with 'acl' as 2-st argument
ok 973 Salti was called with 'thaliIdCallback' as 3-st argument
ok 974 Salti was called with 'options' as 4-st argument
2017-01-04 16:09:51 - DEBUG thaliManager: 'starting thaliPullReplicationFromNotification'
2017-01-04 16:09:51 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
2017-01-04 16:09:51 - DEBUG thaliManager: 'starting ThaliMobile'
2017-01-04 16:09:51 - DEBUG thaliManager: 'start listening for advertisements'
2017-01-04 16:09:51 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:51 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:51 - DEBUG thaliManager: 'start update advertising and listening'
2017-01-04 16:09:51 - DEBUG thaliWifiInfrastructure: 'listening 50284'
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:51 - DEBUG thaliManager: 'starting thaliSendNotificationBasedOnReplication'
ok 975 ThaliMobile.start was called once
ok 976 ThaliMobile.start was called with 3 arguments
ok 977 ThaliMobile.start was called with 'express.Router instance' as 1-st argument
ok 978 ThaliMobile.start was called with 'getPskIdToSecret' as 2-st argument
ok 979 ThaliMobile.start was called with 'networkType' as 3-st argument
ok 980 ThaliMobile.startListeningForAdvertisements was called once
ok 981 ThaliMobile.startListeningForAdvertisements was called with 0 arguments
ok 982 ThaliMobile.startUpdateAdvertisingAndListening was called once
ok 983 ThaliMobile.startUpdateAdvertisingAndListening was called with 0 arguments
ok 984 ThaliSendNotificationBasedOnReplication.prototype.start was called once
ok 985 ThaliSendNotificationBasedOnReplication.prototype.start was called with 1 arguments
ok 986 ThaliSendNotificationBasedOnReplication.prototype.start was called with 'remoteKeys' as 1-st argument
ok 987 ThaliPullReplicationFromNotification.prototype.start was called once
ok 988 ThaliPullReplicationFromNotification.prototype.start was called with 1 arguments
ok 989 ThaliPullReplicationFromNotification.prototype.start was called with 'remoteKeys' as 1-st argument
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping thaliPeerPoolInterface'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping thaliPullReplicationFromNotification'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping thaliSendNotificationBasedOnReplication'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping advertising and listening'
2017-01-04 16:09:51 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping listening for advertisements'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping ThaliMobile'
ok 990 ThaliMobile.stop was called once
ok 991 ThaliMobile.stop was called with 0 arguments
ok 992 ThaliMobile.stopListeningForAdvertisements was called once
ok 993 ThaliMobile.stopListeningForAdvertisements was called with 0 arguments
ok 994 ThaliMobile.stopAdvertisingAndListening was called once
ok 995 ThaliMobile.stopAdvertisingAndListening was called with 0 arguments
ok 996 ThaliSendNotificationBasedOnReplication.prototype.stop was called once
ok 997 ThaliSendNotificationBasedOnReplication.prototype.stop was called with 0 arguments
ok 998 ThaliPullReplicationFromNotification.prototype.stop was called once
ok 999 ThaliPullReplicationFromNotification.prototype.stop was called with 0 arguments
2017-01-04 16:09:51 - DEBUG thaliManager: 'starting thaliPullReplicationFromNotification'
2017-01-04 16:09:51 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
2017-01-04 16:09:51 - DEBUG thaliManager: 'starting ThaliMobile'
2017-01-04 16:09:51 - DEBUG thaliManager: 'start listening for advertisements'
2017-01-04 16:09:51 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:51 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:51 - DEBUG thaliManager: 'start update advertising and listening'
2017-01-04 16:09:51 - DEBUG thaliWifiInfrastructure: 'listening 50285'
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:51 - DEBUG thaliManager: 'starting thaliSendNotificationBasedOnReplication'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping thaliPeerPoolInterface'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping thaliPullReplicationFromNotification'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping thaliSendNotificationBasedOnReplication'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping advertising and listening'
2017-01-04 16:09:51 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping listening for advertisements'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping ThaliMobile'
2017-01-04 16:09:51 - DEBUG thaliManager: 'starting thaliPullReplicationFromNotification'
2017-01-04 16:09:51 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
2017-01-04 16:09:51 - DEBUG thaliManager: 'starting ThaliMobile'
2017-01-04 16:09:51 - DEBUG thaliManager: 'start listening for advertisements'
2017-01-04 16:09:51 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:51 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:51 - DEBUG thaliManager: 'start update advertising and listening'
2017-01-04 16:09:51 - DEBUG thaliWifiInfrastructure: 'listening 50286'
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:51 - DEBUG thaliManager: 'starting thaliSendNotificationBasedOnReplication'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping thaliPeerPoolInterface'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping thaliPullReplicationFromNotification'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping thaliSendNotificationBasedOnReplication'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping advertising and listening'
2017-01-04 16:09:51 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping listening for advertisements'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping ThaliMobile'
2017-01-04 16:09:51 - DEBUG thaliManager: 'starting thaliPullReplicationFromNotification'
2017-01-04 16:09:51 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
2017-01-04 16:09:51 - DEBUG thaliManager: 'starting ThaliMobile'
2017-01-04 16:09:51 - DEBUG thaliManager: 'start listening for advertisements'
2017-01-04 16:09:51 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:51 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:51 - DEBUG thaliManager: 'start update advertising and listening'
2017-01-04 16:09:51 - DEBUG thaliWifiInfrastructure: 'listening 50287'
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:51 - DEBUG thaliManager: 'starting thaliSendNotificationBasedOnReplication'
ok 1000 ThaliMobile.start was called once
ok 1001 ThaliMobile.start was called with 3 arguments
ok 1002 ThaliMobile.start was called with 'express.Router instance' as 1-st argument
ok 1003 ThaliMobile.start was called with 'getPskIdToSecret' as 2-st argument
ok 1004 ThaliMobile.start was called with 'networkType' as 3-st argument
ok 1005 ThaliMobile.startListeningForAdvertisements was called once
ok 1006 ThaliMobile.startListeningForAdvertisements was called with 0 arguments
ok 1007 ThaliMobile.startUpdateAdvertisingAndListening was called once
ok 1008 ThaliMobile.startUpdateAdvertisingAndListening was called with 0 arguments
ok 1009 ThaliSendNotificationBasedOnReplication.prototype.start was called once
ok 1010 ThaliSendNotificationBasedOnReplication.prototype.start was called with 1 arguments
ok 1011 ThaliSendNotificationBasedOnReplication.prototype.start was called with 'remoteKeys' as 1-st argument
ok 1012 ThaliPullReplicationFromNotification.prototype.start was called once
ok 1013 ThaliPullReplicationFromNotification.prototype.start was called with 1 arguments
ok 1014 ThaliPullReplicationFromNotification.prototype.start was called with 'remoteKeys' as 1-st argument
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping thaliPeerPoolInterface'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping thaliPullReplicationFromNotification'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping thaliSendNotificationBasedOnReplication'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping advertising and listening'
2017-01-04 16:09:51 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping listening for advertisements'
2017-01-04 16:09:51 - DEBUG thaliManager: 'stopping ThaliMobile'
# teardown
# setup
# ssdp server should be restarted when wifi toggled
ok 1015 should be in started state
2017-01-04 16:09:51 - DEBUG thaliWifiInfrastructure: 'listening 50288'
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 1016 server start should be called once
ok 1017 server stop should not be called
2017-01-04 16:09:51 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:51 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:51 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:51 - DEBUG thaliWifiInfrastructure: 'listening 50289'
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:51 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 1018 server start should be called twice
ok 1019 server stop should be called once
2017-01-04 16:09:51 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 1020 server stop should be called twice
ok 1021 should not be in started state
# teardown
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - closeAll can close even when connections open'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - closeAll with promise'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - closeAll properly throws when closing a non open server with eatNotRunning set to false'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - closeAll works even with a server that is not listening yet witheatNotRunning set to true'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call of onCheckpointReached handler on a single db change'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call of multiple onCheckpointReached handlers on a single db change'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call of onCheckpointReached handler on multiple db changes that are in the checkpoints plugin delay interval'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call of onCheckpointReached handler on multiple db changes that are out of the checkpoints plugin delay interval'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - test defaultDirectory'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - test defaultAdapter'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - enqueue and run in order'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - enqueueAtTop and run backwards'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - mix enqueue and enqueueAtTop'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - queues handled independently'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - basic'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - another'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Correctly parses/stringifies USN'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - onPeerLost calls jxcore'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - onPeerDiscovered calls jxcore'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - cannot call connect when start listening for advertisements is not active'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - calling createNativeListener directly rejects'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - emits incomingConnectionState'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - emits routerPortConnectionFailed'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server connections all up'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - closing incoming stream cleans outgoing socket'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - closing incoming connection cleans outgoing socket'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - closing outgoing socket cleans associated mux stream'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - closing the whole server cleans everything up'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - we can get a ton of connections and data through and still clean up the server completely'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - simulate mux failure, make sure everything is cleaned up'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - timing out the incoming connection cleans everything up'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - calling createPeerListener without calling start produces error'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - calling createPeerListener after calling stop produces error'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can call createPeerListener'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - calling createPeerListener twice with same peerIdentifier should return the same port'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - closing connection to native listener closes everything and triggers new listener'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - closing mux closes listener and triggers a new listener'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerListener - no native server'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerListener - with native server'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerListener - with native server and data transfer'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener is idempotent'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - ask for new peer when we are at maximum and make sure we remove the right existing listener'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - ask for a new peer when we are not at maximum peers and make sure we do not remove any existing listeners'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - test timeout'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - multiple connections out'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - multiple bi-directional connections'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - multiple parallel calls'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - we shouldn't create a dead pipe'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can create servers manager'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - calling stop without start causes error'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can start/stop servers manager'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - starting twice resolves with listening port'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - terminateIncomingConnection will terminate a connection'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - terminate an Outgoing connection'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - After #startListeningForAdvertisements call wifiPeerAvailabilityChanged events should be emitted'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening correctly updates USN'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening generates new peerIdentifier after #stopAdvertisingAndListening has been called'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening sends correct requests'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - messages with invalid location or USN should be ignored'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Delayed own message are still ignored after advertisement has been toggled on and off several times'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - verify that Thali-specific messages are filtered correctly'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startListeningForAdvertisements should fail if start not called'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening should fail if start not called'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #start should fail if called twice in a row'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should not be started after stop is called'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening should fail invalid router has been passed'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening should fail if router server starting fails'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening should start hosting given router object'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening bad psk should be rejected object'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #stop can be called multiple times in a row'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startListeningForAdvertisements can be called multiple times in a row'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #stopListeningForAdvertisements can be called multiple times in a row'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #stopAdvertisingAndListening can be called multiple times in a row'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - functions are run from a queue in the right order'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - does not get peer changes from self'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure we turn on and off the Android multicast locks'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - Make sure we do not use Android locks when we are not on Android'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - network changes are ignored while stopping'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startListeningForAdvertisements returns error if wifi is off and fires event when on'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening returns error if wifi is off and fires event when on'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - when wifi is enabled discovery is activated and peers become available'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startListeningForAdvertisements should fail if start not called'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening should fail if start not called'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #stopListeningForAdvertisements many times'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #startListeningForAdvertisements many times'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #startUpdateAdvertisingAndListening many times'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #stopAdvertisingAndListening many times'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #start - Causing native or wifi to fail will cause a promise reject '
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #start should fail if called twice in a row'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #stop should clear watchers and change peers'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - #start subscribes to the WiFi infrastructure events and #stop unsubscribes from them (in WiFi-only mode)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - does not emit duplicate discoveryAdvertisingStateUpdate'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - does not send duplicate availability changes'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can get the network status'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - wifi peer is marked unavailable if announcements stop'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native peer should be removed if no availability updates were received during availability timeout'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerAvailabilityChanged - peer added/removed to/from cache (native)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerAvailabilityChanged - peer added/removed to/from cache (wifi)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerAvailabilityChanged - peer with the same id, conn type, host, port and generation is ignored'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native available - new peer is cached'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native available - peer with same port and different generation is cached (BLUETOOTH)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native available - peer with the same port and generation but with enough time for generation to wrap around is cached (BLUETOOTH)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - native available - peer with greater generation is cached (MPCF)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - native available - peer with same or older generation is ignored (MPCF)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native unavailable - new peer is ignored'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native unavailable - cached peer is removed'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - networkChanged - fires peerAvailabilityChanged event for wifi peers'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - networkChanged - fires peerAvailabilityChanged event for native peers (BLUETOOTH)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - networkChanged - fires peerAvailabilityChanged event for native peers (MPCF)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - multiconnect failure - new peer is ignored (MPCF)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - multiconnect failure - cached peer fires peerAvailabilityChanged (MPCF)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - newAddressPort field (TCP_NATIVE)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - newAddressPort field (BLUETOOTH)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - newAddressPort field (MPCF)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - newAddressPort after listenerRecreatedAfterFailure event (BLUETOOTH)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #getPeerHostInfo - error when peer has not been discovered yet'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #getPeerHostInfo - returns discovered cached native peer (BLUETOOTH)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - #getPeerHostInfo - returns discovered cached native peer and calls `_multiConnect` to retrieve the port (MPCF)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #getPeerHostInfo - returns discovered cached wifi peer'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #disconnect fails on wifi peers'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - #disconnect delegates native peers to the native wrapper'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - network changes emitted correctly'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - network changes not emitted in started state'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - network changes not emitted in stopped state'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - calls correct starts when network changes'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - We properly fire peer unavailable and then available when connection fails'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - If a peer is not available (and hence is not in the thaliMobile cache) but we already started trying to connect make sure recreate does not happen'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - does not fire duplicate events after peer listener recreation'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - test getters'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - start and kill'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - double start'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - start after kill'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - make sure ids are unique'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - check that forever agent can be destroyed'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test PeerDictionary basic functionality'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test PeerDictionary with multiple entries.'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - RESOLVED entries are removed before WAITING state entry.'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - WAITING entries are removed before CONTROLLED_BY_POOL state entry.'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - When CONTROLLED_BY_POOL entry is removed and kill is called.'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolDefault - single action'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolDefault - multiple actions'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolDefault - PSK Pool works'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolDefault - stop'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - make sure that start verifies queue length'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - bad enqueues'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - do not allow same object type'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - make sure we catch kill and dequeue'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - make sure our changes to the action leave kill as idempotent'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - make sure that stop removes all actions'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - We reject unrecognized connection type'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - We reject unrecognized action type'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - One action on bluetooth'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - Two notification actions'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - replicateThroughProblems'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - Replication goes first'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - wifi allows many parallel non-replication actions'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - wifi allows no more than 2 simultaneous replication actions for same peerID'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test BEACONS_RETRIEVED_AND_PARSED locally'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test HTTP_BAD_RESPONSE locally'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test NETWORK_PROBLEM locally'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Action fails when getPeerHostInfo fails'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call the start two times'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call the kill before calling the start'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call the kill immediately after the start'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call the kill while waiting a response from the server'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test to exceed the max content size locally'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Close the server socket while the client is waiting a response from the server. Local test.'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Close the client socket while the client is waiting a response from the server. Local test.'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #generatePreambleAndBeacons bad args'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #generatePreambleAndBeacons empty keys to notify'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #generatePreambleAndBeacons multiple keys to notify'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons invalid ECDH public key in beaconStreamWithPreAmble'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons invalid expiration in beaconStreamWithPreAmble'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons expiration out of range lower'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons expiration out of range lower'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons no beacons returns null'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons invalid size for encryptedBeaconKeyId in  beaconStreamWithPreAmble'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons addressBookCallback fails decrypt'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons addressBookCallback returns no matches'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons addressBookCallback returns spurious match'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons addressBookCallback returns public key'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - validate generatePskIdentityField'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - validate generatePskSecret'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - validate generatePskSecrets'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - validate generateBeaconStreamAndSecrets'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Add two Peers.'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - TCP_NATIVE peer loses DNS'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Received beacons with no values for us'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Notification action killed with a superseded'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Resolves an action locally'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Resolves an action locally using ThaliPeerPoolDefault'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Action fails because of a bad hostname.'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - hostaddress is removed when the action is running. '
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - notificationClient does not retry action with BAD_PEER resolution'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - notification client correctly handles peer availability changes of the same peer'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Client to server request locally'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test ThaliPskMapCache clean and expiration'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test ThaliPskMapCache getSecret and getPublic'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test ThaliPskMapCache multiple entries'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Start and stop ThaliNotificationServer'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Pass an empty array to ThaliNotificationServer.start'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Pass a string to ThaliNotificationServer.start'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Pass an empty parameter to ThaliNotificationServer.start'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make an HTTP request to /NotificationBeacons'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make an HTTP request to /NotificationBeacons (no keys)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make an HTTP request to /NotificationBeaconsbefore calling start'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure peerDictionaryKey is reasonable'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure start works'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure stop works'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Simple peer event'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Server is not there'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Server accepts & closes connection'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Server always returns 500'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Server always returns 401'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Server always returns 403'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure docs replicate'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Do nothing and make sure we time out'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Do something and make sure we time out'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Start replicating and then catch error when server goes'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure clone works'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - compareBufferArrays'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call start twice and get error'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Start and make sure it runs'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure getTimeWhenRun is right after start'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure getTimeWhenRun is -1 after function is called'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure getTimeWhenRun is -2 when start has not been called and null if stop is called without running'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test TransientState'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - No peers and empty database'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - One peer and empty DB'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - One peer with _Local set behind current seq'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - One peer with _Local set equal to current seq'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - One peer with _Local set ahead of current seq (and no this should not happen)'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Three peers, one not in DB, one behind and one ahead'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - More than maximum peers, make sure we only send maximum allowed'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - two peers with empty DB, update the doc'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - add doc and make sure tokens refresh when they expire'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - start and stop and start and stop'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - two identical starts in a row'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - two different starts in a row'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - two stops and a start and two stops'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - we properly enqueue requests so no then needed'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - test calculateSeqPointKeyId'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - server is not there'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - server accepts & closes connection'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - server always returns 500'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - create new seq doc'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - doc exists, need to get rev and update'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - update seq three times'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - rev got changed under us'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - fail if stop is called'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - stop after get but before put fails right'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - fail if stop is called'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - set seq for first time'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - Fail on bad seq value'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - do we cancel timer properly on an immediate?'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - do we wait for blocked update'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - test that we wait long enough'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - test that we pick up new sequences while we wait'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - test thali manager spies'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - test thali manager multiple starts and stops'
2017-01-04 16:09:51 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - ssdp server should be restarted when wifi toggled'
2017-01-04 16:09:51 - DEBUG SimpleThaliTape: 'all unit tests succeeded, platformName: 'android''
2017-01-04 16:09:51 - DEBUG SimpleThaliTape: '****TEST_LOGGER:[PROCESS_ON_EXIT_SUCCESS]****'
2017-01-04 16:09:51 - INFO runTests: 'Finished'

1..1021
# tests 1021
# pass  1021

# ok

2017-01-04 16:09:53 - INFO runTests: 'Starting tests. Network type: NATIVE. Platform: android'
2017-01-04 16:09:53 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testMakeIntoCloseAllServer.js'
2017-01-04 16:09:53 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPouchDBCheckpointPlugin.js'
2017-01-04 16:09:53 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPouchDBGenerator.js'
2017-01-04 16:09:53 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPromiseQueue.js'
2017-01-04 16:09:53 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testTests.js'
2017-01-04 16:09:53 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testUsn.js'
2017-01-04 16:09:53 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testNativeMethod.js'
2017-01-04 16:09:53 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNative.js'
2017-01-04 16:09:53 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeAndroid.js'
2017-01-04 16:09:53 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeiOS.js'
2017-01-04 16:09:53 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeDiscoveryCoordinated.js'
2017-01-04 16:09:53 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testCreateNativeListener.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testCreatePeerListener.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliTcpServersManager.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeWrapper.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliWifiInfrastructure.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobile.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerAction.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerDictionary.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolDefault.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolInterface.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolOneAtATime.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotification.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationAction.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationBeacons.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationClient.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationLocal.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationServer.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPullReplicationFromNotification.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPullReplicationFromNotificationCoordinated.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationPeerAction.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationPeerActionCoordinated.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationUtilities.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliSendNotificationBasedOnReplication.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testLocalSeqManager.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testLocalSeqManagerCoordinated.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliManager.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliManagerCoordinated.js'
2017-01-04 16:09:54 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testSSDPServer.js'
2017-01-04 16:09:54 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:54 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:54 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:54 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:54 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:54 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
TAP version 13
# setup
# closeAll can close even when connections open
2017-01-04 16:09:54 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 1 not possible to connect to the server anymore
# teardown
# setup
# closeAll with promise
2017-01-04 16:09:54 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 2 not possible to connect to the server anymore
# teardown
# setup
# closeAll properly throws when closing a non open server with eatNotRunning set to false
2017-01-04 16:09:54 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 3 Got the right error
# teardown
# setup
# closeAll works even with a server that is not listening yet witheatNotRunning set to true
2017-01-04 16:09:55 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# teardown
# setup
# Call of onCheckpointReached handler on a single db change
# teardown
# setup
# Call of multiple onCheckpointReached handlers on a single db change
# teardown
# setup
# Call of onCheckpointReached handler on multiple db changes that are in the checkpoints plugin delay interval
ok 4 the checkpointReached handler should be called once. Called 1 time(s)
# teardown
# setup
# Call of onCheckpointReached handler on multiple db changes that are out of the checkpoints plugin delay interval
# teardown
# setup
# test defaultDirectory
ok 5 should be equal
ok 6 should be equal
ok 7 should be equal
# teardown
# setup
# test defaultAdapter
ok 8 should be equal
ok 9 should be equal
ok 10 should be equal
ok 11 should be equal
ok 12 should be equal
ok 13 should be equal
ok 14 should be equal
ok 15 should be equal
# teardown
# setup
# enqueue and run in order
ok 16 firstPromise setTimeout
ok 17 firstPromise result
ok 18 firstPromise testValue
ok 19 secondPromise setTimeout
ok 20 secondPromise result
ok 21 secondPromise testValue
ok 22 thirdPromise in promise
ok 23 thirdPromise result
ok 24 thirdPromise testValue
# teardown
# setup
# enqueueAtTop and run backwards
ok 25 thirdPromise - first to run
ok 26 thirdPromise - in resolve
ok 27 secondPromise - second to run
ok 28 secondPromise - in catch
ok 29 firstPromise - third to run
ok 30 firstPromise - in then
ok 31 testing promises
# teardown
# setup
# mix enqueue and enqueueAtTop
ok 32 fourth
ok 33 fourth
ok 34 second
ok 35 secondPromise - in then
ok 36 first
ok 37 firstPromise - in catch
ok 38 third
ok 39 thirdPromise - in then
ok 40 testingPromises
# teardown
# setup
# queues handled independently
ok 41 all short operations completed before the long resolves
# teardown
# setup
# basic
ok 42 sane
# teardown
# setup
# another
ok 43 sane
# teardown
# setup
# Correctly parses/stringifies USN
ok 44 correctly parses USN string
ok 45 throws if usn has invalid prefix
ok 46 throws if usn has invalid identifier format
ok 47 throws if usn has invalid generation
ok 48 correctly stringifies peer
# teardown
# setup
# onPeerLost calls jxcore
2017-01-04 16:09:57 - DEBUG SimpleThaliTape: 'test was skipped, name: 'onPeerLost calls jxcore''
# teardown
# setup
# onPeerDiscovered calls jxcore
2017-01-04 16:09:57 - DEBUG SimpleThaliTape: 'test was skipped, name: 'onPeerDiscovered calls jxcore''
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:57 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
# setup
# Can call start/stopListeningForAdvertisements
2017-01-04 16:09:57 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:09:57 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:57 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:57 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 49 Can call startListeningForAdvertisements without error
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:57 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 50 Can call stopListeningForAdvertisements without error
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:57 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 51 Should be able to call stopListeningForAdvertisements in teardown
ok 52 Should be able to call stopAdvertisingAndListening in teardown
# setup
# Calling startListeningForAdvertisements twice is NOT an error
2017-01-04 16:09:57 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:09:57 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:57 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:57 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 53 Can call startListeningForAdvertisements without error
ok 54 Can call startListeningForAdvertisements twice without error
# teardown
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:57 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 55 Should be able to call stopListeningForAdvertisements in teardown
ok 56 Should be able to call stopAdvertisingAndListening in teardown
# setup
# Calling stopListeningForAdvertisements without calling start is NOT an error
ok 57 Can call stopListeningForAdvertisements without error
ok 58 Can call stopListeningForAdvertisements without error
# teardown
ok 59 Should be able to call stopListeningForAdvertisements in teardown
ok 60 Should be able to call stopAdvertisingAndListening in teardown
# setup
# Can call start/stopUpdateAdvertisingAndListening
2017-01-04 16:09:57 - DEBUG thaliWifiInfrastructure: 'listening 50297'
2017-01-04 16:09:57 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:57 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:09:57 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:57 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:57 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 61 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:57 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 62 Can call stopAdvertisingAndListening without error
# teardown
ok 63 Should be able to call stopListeningForAdvertisements in teardown
ok 64 Should be able to call stopAdvertisingAndListening in teardown
# setup
# Calling startUpdateAdvertisingAndListening twice is NOT an error
2017-01-04 16:09:57 - DEBUG thaliWifiInfrastructure: 'listening 50299'
2017-01-04 16:09:57 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:57 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:09:57 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:57 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:57 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 65 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:09:57 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:57 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:57 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 66 Can call startUpdateAdvertisingAndListening twice without error
# teardown
ok 67 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:57 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 68 Should be able to call stopAdvertisingAndListening in teardown
# setup
# Can call stopUpdateAdvertisingAndListening twice without start and it is not an error
ok 69 Can call startUpdateAdvertisingAndListening without error
ok 70 Can call stopAdvertisingAndListening without error
# teardown
ok 71 Should be able to call stopListeningForAdvertisements in teardown
ok 72 Should be able to call stopAdvertisingAndListening in teardown
# setup
# cannot call connect when start listening for advertisements is not active
ok 73 got right error
# teardown
ok 74 Should be able to call stopListeningForAdvertisements in teardown
ok 75 Should be able to call stopAdvertisingAndListening in teardown
# setup
# calling createNativeListener directly rejects
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'listening 50301'
ok 76 Should throw
# teardown
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - close'
# setup
# emits incomingConnectionState
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'listening 50303'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 77 initial connection state should be CONNECTED
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 78 final connection state should be DISCONNECTED
# teardown
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - close'
# setup
# emits routerPortConnectionFailed
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'listening 50306'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - error Error: connect ECONNREFUSED'
ok 79 tried to connect to right port
ok 80 failed due to refused connection
ok 81 routerPortConnectionFailed is emitted
# teardown
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# setup
# native server connections all up
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'listening 50310'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - created'
ok 82 Send/recvd #1 should be equal length
ok 83 Send/recvd #1 should be same
ok 84 Send/recvd #2 should be equal length
ok 85 Send/recvd #2 should be same
ok 86 Should be exactly 2 client sockets
# teardown
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - closed'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - close'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# setup
# native server - closing incoming stream cleans outgoing socket
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'listening 50315'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - finished'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
ok 87 socket shouldn't close until after stream
ok 88 incoming remains open
# teardown
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
# setup
2017-01-04 16:09:57 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# native server - closing incoming connection cleans outgoing socket
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'listening 50319'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 89 we should not have gotten an error
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 90 socket shouldn't close until after incoming
ok 91 incoming is cleaned up
# teardown
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - close'
# setup
2017-01-04 16:09:57 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# native server - closing outgoing socket cleans associated mux stream
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'listening 50323'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - finished'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
ok 92 stream was closed
ok 93 incoming should survive
ok 94 mux should have no streams
# teardown
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
# setup
# native server - closing the whole server cleans everything up
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'listening 50327'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 95 we should not have gotten an error
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 96 Buffers are identical
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 97 native server is nulled out
ok 98 native server should be closed
ok 99 incoming has been removed
ok 100 Incoming should be done
ok 101 The mux object should be closed
ok 102 The mux stream should be closed
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
# teardown
2017-01-04 16:09:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# setup
# native server - we can get a ton of connections and data through and still clean up the server completely
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'listening 50331'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 1'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 2'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 3'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 4'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 5'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 6'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 7'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 8'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 9'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 2 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 3 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 0 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 1 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 2 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 3 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 0 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 1 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 2 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 3 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 0 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 1 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 2 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 3 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 0 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 1 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 2 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 3 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 0 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 1 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 2 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 3 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 0 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 1 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 2 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 3 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 0 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 1 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 2 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 3 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 0 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 1 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 2 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 3 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 0 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 1 - created'
2017-01-04 16:09:57 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 2 - created'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 3 - created'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 2 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 3 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 0 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 1 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 2 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 3 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 1 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 0 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 1 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 2 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 3 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 2 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 0 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 1 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 2 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 3 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 3 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 0 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 1 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 2 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 3 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 4 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 0 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 1 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 2 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 3 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 5 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 0 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 1 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 2 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 3 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 6 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 0 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 1 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 2 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 3 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 7 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 0 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 1 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 2 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 3 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 8 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 0 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 1 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 2 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 3 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 9 - close'
ok 103 native server is nulled out
ok 104 native server should be closed
ok 105 incoming has been removed
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 9 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 8 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 7 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 6 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 5 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 4 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 3 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 2 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 1 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 9 - 3 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 9 - 2 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 9 - 1 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 9 - 0 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 8 - 3 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 8 - 2 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 8 - 1 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 8 - 0 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 7 - 3 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 7 - 2 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 7 - 1 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 7 - 0 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 6 - 3 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 6 - 2 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 6 - 1 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 6 - 0 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 5 - 3 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 5 - 2 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 5 - 1 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 5 - 0 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 4 - 3 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 4 - 2 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 4 - 1 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 4 - 0 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 3 - 3 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 3 - 2 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 3 - 1 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 3 - 0 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 2 - 3 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 2 - 2 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 2 - 1 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 2 - 0 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 1 - 3 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 1 - 2 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 1 - 1 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 1 - 0 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 3 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 2 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# native server - simulate mux failure, make sure everything is cleaned up
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50383'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 106 we should not have gotten an error
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 107 Buffers are identical
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 108 server should be fine
ok 109 server should be open
ok 110 incoming has been removed
ok 111 The mux object should be closed
ok 112 The mux stream should be closed
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
# setup
# native server - timing out the incoming connection cleans everything up
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50387'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 113 we should not have gotten an error
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 114 Buffers are identical
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - incoming socket timeout'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 115 server should be fine
ok 116 server should be open
ok 117 incoming has been removed
ok 118 The mux object should be closed
ok 119 The mux stream should be closed
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
# setup
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# calling createPeerListener without calling start produces error
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50392'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# calling createPeerListener after calling stop produces error
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50395'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# can call createPeerListener
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50398'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'creating new server for peerId'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peerId listening on 50399'
ok 120 port must be in range
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# calling createPeerListener twice with same peerIdentifier should return the same port
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50402'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50403'
ok 121 port values should be the same
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - closing connection to native listener closes everything and triggers new listener
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50406'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'creating new server for peer2'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer2 listening on 50407'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Issuing callNative for peer2'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'callNative for peer2 connected'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer2'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 122 Data should be of same length and content
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'We are emitting failedConnection with error "Error: Outgoing closed, recreating connection" and peerIdentifier "peer2"'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Will try to recreate server for peer2'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'creating new server for peer2'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer2 listening on 50412'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'We are emitting listenerRecreatedAfterFailure with peerIdentifier peer2 and portNumber 50412'
ok 123 same peer ID
ok 124 different ports
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# createPeerListener - closing mux closes listener and triggers a new listener
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50415'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'creating new server for peer2'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer2 listening on 50416'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Issuing callNative for peer2'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'callNative for peer2 connected'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer2'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 125 Data should be of same length and content
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'We are emitting failedConnection with error "Error: Outgoing closed, recreating connection" and peerIdentifier "peer2"'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Will try to recreate server for peer2'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'creating new server for peer2'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer2 listening on 50421'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'We are emitting listenerRecreatedAfterFailure with peerIdentifier peer2 and portNumber 50421'
ok 126 same peer ID
ok 127 different ports
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# peerListener - no native server
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
ok 128 Can call startUpdateAdvertisingAndListening without error
ok 129 Can call startListeningForAdvertisements without error
2017-01-04 16:09:58 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50424'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50425'
ok 130 peerPort should not be nativePort
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Issuing callNative for peer1'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'callNative for peer1 connected'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer1'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'We are emitting failedConnection with error "Error: Cannot Connect To Peer" and peerIdentifier "peer1"'
ok 131 Should not get event until connection is made
ok 132 reason should be as expected
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Will try to recreate server for peer1'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50428'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'We are emitting listenerRecreatedAfterFailure with peerIdentifier peer1 and portNumber 50428'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# peerListener - with native server
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
ok 133 Can call startUpdateAdvertisingAndListening without error
ok 134 Can call startListeningForAdvertisements without error
2017-01-04 16:09:58 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50431'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50432'
ok 135 peerPort != nativePort
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Issuing callNative for peer1'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'callNative for peer1 connected'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer1'
ok 136 Should not get unexpected connection
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# peerListener - with native server and data transfer
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50437'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50438'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Issuing callNative for peer1'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'callNative for peer1 connected'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer1'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 137 Data should be of same length and content
ok 138 Data should be of same length and content
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:58 - WARN createPeerListener: 'outgoing - mux <-> outgoing TCP/IP client connection to Android - peer1 -  error Error: read ECONNRESET'
# setup
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# createPeerListener is idempotent
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
ok 139 Can call startUpdateAdvertisingAndListening without error
ok 140 Can call startListeningForAdvertisements without error
2017-01-04 16:09:58 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50444'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50445'
ok 141 Second call to existing peerListener returns existing port
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - ask for new peer when we are at maximum and make sure we remove the right existing listener
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50448'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - ask for a new peer when we are not at maximum peers and make sure we do not remove any existing listeners
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50451'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - test timeout
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50454'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - multiple connections out
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50457'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - multiple bi-directional connections
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50460'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - multiple parallel calls
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50463'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - we shouldn't create a dead pipe
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
ok 142 Can call startUpdateAdvertisingAndListening without error
ok 143 Can call startListeningForAdvertisements without error
2017-01-04 16:09:58 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50466'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50467'
ok 144 peerPort != nativePort
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Issuing callNative for peer1'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'callNative for peer1 connected'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer1'
ok 145 Should not get unexpected connection
2017-01-04 16:09:58 - DEBUG thaliTcpServersManager: 'Terminate outgoing connection called on peerID peer1 with port 50467'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'incoming (TCP) - Node TCP/IP client - is already closed'
ok 146 passed
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# can create servers manager
ok 147 serversManager must not be null
ok 148 serversManager must be an object
# teardown
# setup
# calling stop without start causes error
ok 149 We need to call start first
# teardown
# setup
# can start/stop servers manager
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50470'
ok 150 port must be in range
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
# setup
# starting twice resolves with listening port
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50471'
ok 151 second start should return same port
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
# setup
# terminateIncomingConnection will terminate a connection
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50473'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 152 we should be connected
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 153 now we are disconnected
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
# setup
# terminate an Outgoing connection
2017-01-04 16:09:58 - DEBUG thaliTcpServersManager: 'Terminate outgoing connection called on peerID foo with port 32'
ok 154 Passed bogus id
2017-01-04 16:09:58 - DEBUG thaliTcpServersManager: 'Terminate outgoing connection called on peerID foo with port 901'
ok 155 Passed good id but bogus port
2017-01-04 16:09:58 - DEBUG thaliTcpServersManager: 'Terminate outgoing connection called on peerID foo with port 900'
ok 156 Passed right context
ok 157 Right server
ok 158 No error should be set
ok 159 Retry should be false
ok 160 We called close server
# teardown
# setup
# #startListeningForAdvertisements should fail if start not called
ok 161 specific error should be returned
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 162 must be stopped
# setup
# #startUpdateAdvertisingAndListening should fail if start not called
ok 163 specific error should be returned
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 164 must be stopped
# setup
# should be able to call #stopListeningForAdvertisements many times
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50475'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50476'
ok 165 no errors
ok 166 still no errors
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 167 must be stopped
# setup
# should be able to call #startListeningForAdvertisements many times
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50477'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50478'
2017-01-04 16:09:58 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 168 no errors
ok 169 still no errors
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 170 must be stopped
# setup
# should be able to call #startUpdateAdvertisingAndListening many times
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50479'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50480'
2017-01-04 16:09:58 - DEBUG thaliWifiInfrastructure: 'listening 50482'
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 171 no errors
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 172 still no errors
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 173 must be stopped
# setup
# should be able to call #stopAdvertisingAndListening many times
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50483'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50484'
ok 174 no errors
ok 175 still no errors
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 176 must be stopped
# setup
# can get the network status before starting
ok 177 network status should have certain non-empty properties
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 178 must be stopped
# setup
# error returned with bad router
2017-01-04 16:09:58 - ERROR thaliMobileNativeWrapper: 'Unable to use the given router: TypeError: Router.use() requires middleware function but got a string'
ok 179 specific error expected
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 180 must be stopped
# setup
# all services are stopped when we call stop
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50485'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50486'
2017-01-04 16:09:58 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:58 - DEBUG thaliWifiInfrastructure: 'listening 50488'
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 181 connection to servers manager should succeed after starting
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
ok 182 connection to router server should succeed after starting
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 183 is stopped after calling stop
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
ok 184 connection to servers manager should fail after stopping
ok 185 connection to router server should fail after stopping
# teardown
ok 186 must be stopped
# setup
# make sure terminateConnection is properly hooked up
ok 187 called with right arguments
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 188 must be stopped
# setup
# make sure terminateListener is properly hooked up
ok 189 called with right arguments
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 190 must be stopped
# setup
# make sure we actually call kill connections properly
ok 191 specific error expected
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 192 must be stopped
# setup
# thaliMobileNativeWrapper is stopped when routerPortConnectionFailed is received
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50493'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50494'
2017-01-04 16:09:58 - INFO thaliMobileNativeWrapper: 'routerPortConnectionFailed - {"routerPort":50493,"error":{}}'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 193 failure reason is as expected
ok 194 error description is as expected
ok 195 must be stopped
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 196 must be stopped
# setup
# We fire failedNativeConnection event when we get failedConnection from thaliTcpServersManager
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50495'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50496'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Received peer availability changed event with {"peerIdentifier":"some-identifier","peerAvailable":false,"portNumber":null}'
ok 197 peerIdentifier matches
ok 198 error description matches
ok 199 connection type is tcp
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'handlePeerUnavailable - Emitting {"peerIdentifier":"some-identifier","peerAvailable":false,"generation":null,"portNumber":null}'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 200 must be stopped
# setup
# can do HTTP requests between peers without coordinator
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50497'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50498'
2017-01-04 16:09:58 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:58 - DEBUG thaliWifiInfrastructure: 'listening 50500'
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Received peerAvailabilityChanged event from native layer [{"peerIdentifier":"foo","peerAvailable":true}]'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Received peer availability changed event with {"peerIdentifier":"foo","peerAvailable":true}'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'creating new server for foo'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for foo listening on 50501'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'handlePeerAvailabilityChanged - Emitting {"peerIdentifier":"foo","peerAvailable":true,"portNumber":50501}'
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"foo","connectionType":"AndroidBluetooth","peerAvailable":true,"newAddressPort":false}'
2017-01-04 16:09:58 - DEBUG testUtils: 'We got a peer {"peerIdentifier":"foo","peerAvailable":true,"portNumber":50501}'
2017-01-04 16:09:58 - WARN testUtils: 'Retry count for getSamePeerWithRetry is 1'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Issuing callNative for foo'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:09:58 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'callNative for foo connected'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID foo'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:09:58 - DEBUG testUtils: 'Got response data'
2017-01-04 16:09:58 - DEBUG testUtils: 'Got end'
ok 201 response body should match testData
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
2017-01-04 16:09:58 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 202 must be stopped
2017-01-04 16:09:58 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:09:58 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# setup
# make sure bad PSK connections fail
2017-01-04 16:09:58 - DEBUG SimpleThaliTape: 'test was skipped, name: 'make sure bad PSK connections fail''
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 203 must be stopped
# setup
# peer changes handled from a queue
2017-01-04 16:09:58 - DEBUG SimpleThaliTape: 'test was skipped, name: 'peer changes handled from a queue''
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 204 must be stopped
# setup
# relaying discoveryAdvertisingStateUpdateNonTCP
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50508'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50509'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 205 discovery is active
ok 206 advertising is active
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 207 must be stopped
# setup
# thaliMobileNativeWrapper is stopped when incomingConnectionToPortNumberFailed is received
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50510'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50511'
2017-01-04 16:09:58 - DEBUG thaliWifiInfrastructure: 'listening 50513'
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:58 - INFO thaliMobileNativeWrapper: 'incomingConnectionToPortNumberFailed: 50511'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 208 right error reason
ok 209 Stop should be fine
ok 210 same port
ok 211 we should be off
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 212 must be stopped
# setup
# we successfully receive and replay discoveryAdvertisingStateUpdate
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50514'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50515'
2017-01-04 16:09:58 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 213 discoveryActive matches
ok 214 advertisingActive matches
2017-01-04 16:09:58 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 215 discoveryActive matches
ok 216 advertisingActive matches
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50516'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50517'
2017-01-04 16:09:58 - DEBUG thaliWifiInfrastructure: 'listening 50519'
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 217 discoveryActive matches
ok 218 advertisingActive matches
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 219 discoveryActive matches
ok 220 advertisingActive matches
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50520'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50521'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 221 must be stopped
# setup
# #startListeningForAdvertisements should fail if start not called
ok 222 specific error should be returned
# teardown
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"foo","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 223 error should be null
ok 224 error should be null
# setup
# #startUpdateAdvertisingAndListening should fail if start not called
ok 225 specific error should be returned
# teardown
ok 226 error should be null
ok 227 error should be null
# setup
# should be able to call #stopListeningForAdvertisements many times
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50522'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50523'
ok 228 error should be null
ok 229 error should be null
ok 230 error should be null
ok 231 error should be null
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 232 error should be null
ok 233 error should be null
# setup
# should be able to call #startListeningForAdvertisements many times
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50524'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50525'
2017-01-04 16:09:58 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 234 error should be null
ok 235 error should be null
ok 236 error should be null
ok 237 error should be null
# teardown
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 238 error should be null
ok 239 error should be null
# setup
# should be able to call #startUpdateAdvertisingAndListening many times
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50526'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50527'
2017-01-04 16:09:58 - DEBUG thaliWifiInfrastructure: 'listening 50529'
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 240 error should be null
ok 241 error should be null
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:09:58 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 242 error should be null
ok 243 error should be null
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 244 error should be null
ok 245 error should be null
# setup
# should be able to call #stopAdvertisingAndListening many times
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50530'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50531'
ok 246 error should be null
ok 247 error should be null
ok 248 error should be null
ok 249 error should be null
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 250 error should be null
ok 251 error should be null
# setup
# #start - Causing native or wifi to fail will cause a promise reject 
2017-01-04 16:09:58 - ERROR thaliMobileNativeWrapper: 'Unable to use the given router: TypeError: Router.use() requires middleware function but got a Null'
ok 252 This should not cause wifi to fail
ok 253 native router should be bad
# teardown
ok 254 error should be null
ok 255 error should be null
# setup
# #start should fail if called twice in a row
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50532'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50533'
ok 256 first call should succeed
ok 257 first call should succeed
ok 258 specific error should be returned
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 259 error should be null
ok 260 error should be null
# setup
# #stop should clear watchers and change peers
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50534'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50535'
2017-01-04 16:09:58 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'Received peer availability changed event with {"peerIdentifier":"urn:uuid:e8fd77ed-31ab-40db-a1c6-3746bc150cdb","peerAvailable":true}'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'creating new server for urn:uuid:e8fd77ed-31ab-40db-a1c6-3746bc150cdb'
2017-01-04 16:09:58 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for urn:uuid:e8fd77ed-31ab-40db-a1c6-3746bc150cdb listening on 50536'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'handlePeerAvailabilityChanged - Emitting {"peerIdentifier":"urn:uuid:e8fd77ed-31ab-40db-a1c6-3746bc150cdb","peerAvailable":true,"portNumber":50536}'
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"urn:uuid:e8fd77ed-31ab-40db-a1c6-3746bc150cdb","connectionType":"AndroidBluetooth","peerAvailable":true,"newAddressPort":false}'
ok 261 Watchers have one entry for our connection type
ok 262 Peer availabilities has one entry for our connection type
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"urn:uuid:e8fd77ed-31ab-40db-a1c6-3746bc150cdb","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:58 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 263 No watchers
ok 264 No peers
ok 265 No watchers
ok 266 No peers
ok 267 No watchers
ok 268 No peers
# teardown
ok 269 error should be null
ok 270 error should be null
# setup
# #start subscribes to the WiFi infrastructure events and #stop unsubscribes from them (in WiFi-only mode)
2017-01-04 16:09:58 - DEBUG SimpleThaliTape: 'test was skipped, name: '#start subscribes to the WiFi infrastructure events and #stop unsubscribes from them (in WiFi-only mode)''
# teardown
ok 271 error should be null
ok 272 error should be null
# setup
# does not emit duplicate discoveryAdvertisingStateUpdate
2017-01-04 16:09:58 - DEBUG SimpleThaliTape: 'test was skipped, name: 'does not emit duplicate discoveryAdvertisingStateUpdate''
# teardown
ok 273 error should be null
ok 274 error should be null
# setup
# does not send duplicate availability changes
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"42c6edba-32ce-46e5-8155-20267de77a0f","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 275 should be called once
ok 276 should not have been called more than once
# teardown
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"42c6edba-32ce-46e5-8155-20267de77a0f","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 277 error should be null
ok 278 error should be null
# setup
# can get the network status
ok 279 network status should have certain non-empty properties
# teardown
ok 280 error should be null
ok 281 error should be null
# setup
# wifi peer is marked unavailable if announcements stop
2017-01-04 16:09:58 - DEBUG SimpleThaliTape: 'test was skipped, name: 'wifi peer is marked unavailable if announcements stop''
# teardown
ok 282 error should be null
ok 283 error should be null
# setup
# native peer should be removed if no availability updates were received during availability timeout
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50537'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50538'
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"f58b44eb-d420-440e-9bc8-051943f41fa9","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 284 peer is available
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"f58b44eb-d420-440e-9bc8-051943f41fa9","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 285 peer is not availabel because it was too silent
# teardown
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 286 error should be null
ok 287 error should be null
# setup
# peerAvailabilityChanged - peer added/removed to/from cache (native)
ok 288 we have not added peer to the cache yet
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"e229cba0-f602-42a2-a275-9cbfe4b12a9d","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 289 peer should be available
ok 290 cache contains native peer
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"e229cba0-f602-42a2-a275-9cbfe4b12a9d","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":0,"newAddressPort":null}'
ok 291 peer should be unavailable
ok 292 peer has been removed from cache
# teardown
ok 293 error should be null
ok 294 error should be null
# setup
# peerAvailabilityChanged - peer added/removed to/from cache (wifi)
ok 295 we have not added peer to the cache yet
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"cb77f835-b8ea-4657-a940-9bfa25feeba6","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 296 peer should be available
ok 297 cache contains wifi peer
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"cb77f835-b8ea-4657-a940-9bfa25feeba6","connectionType":"tcp","peerAvailable":false,"generation":0,"newAddressPort":null}'
ok 298 peer should be unavailable
ok 299 peer has been removed from cache
# teardown
ok 300 error should be null
ok 301 error should be null
# setup
# peerAvailabilityChanged - peer with the same id, conn type, host, port and generation is ignored
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"8fdfd6ad-1ed7-4c5e-92ac-471103b6ffb3","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 302 first peer is available
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"4d26e795-c490-488d-ae65-1c810d128cc5","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 303 second peer is available
ok 304 first and second peers are different
# teardown
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"8fdfd6ad-1ed7-4c5e-92ac-471103b6ffb3","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"4d26e795-c490-488d-ae65-1c810d128cc5","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 305 error should be null
ok 306 error should be null
# setup
# native available - new peer is cached
ok 307 should not be in cache at start
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"e6cbb348-2bf7-4579-93d5-80b19e03c9cb","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 308 peer is available
# teardown
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"e6cbb348-2bf7-4579-93d5-80b19e03c9cb","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 309 error should be null
ok 310 error should be null
# setup
# native available - peer with same port and different generation is cached (BLUETOOTH)
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"f15786e9-7a86-46d0-b9af-a58facac587c","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":2,"newAddressPort":false}'
ok 311 peer should be available
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"f15786e9-7a86-46d0-b9af-a58facac587c","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":3,"newAddressPort":false}'
ok 312 peer should be available
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"f15786e9-7a86-46d0-b9af-a58facac587c","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":1,"newAddressPort":false}'
ok 313 peer should be available
# teardown
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"f15786e9-7a86-46d0-b9af-a58facac587c","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 314 error should be null
ok 315 error should be null
# setup
# native available - peer with the same port and generation but with enough time for generation to wrap around is cached (BLUETOOTH)
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"113262cb-f1b5-4b7a-8d28-197dcb8120e7","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":2,"newAddressPort":false}'
ok 316 peer should be available
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"113262cb-f1b5-4b7a-8d28-197dcb8120e7","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":2,"newAddressPort":false}'
ok 317 peer should be available
# teardown
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"113262cb-f1b5-4b7a-8d28-197dcb8120e7","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 318 error should be null
ok 319 error should be null
# setup
# native available - peer with greater generation is cached (MPCF)
2017-01-04 16:09:58 - DEBUG SimpleThaliTape: 'test was skipped, name: 'native available - peer with greater generation is cached (MPCF)''
# teardown
ok 320 error should be null
ok 321 error should be null
# setup
# native available - peer with same or older generation is ignored (MPCF)
2017-01-04 16:09:58 - DEBUG SimpleThaliTape: 'test was skipped, name: 'native available - peer with same or older generation is ignored (MPCF)''
# teardown
ok 322 error should be null
ok 323 error should be null
# setup
# native unavailable - new peer is ignored
ok 324 NOT IMPLEMENTED # SKIP
# teardown
ok 325 error should be null
ok 326 error should be null
# setup
# native unavailable - cached peer is removed
ok 327 NOT IMPLEMENTED # SKIP
# teardown
ok 328 error should be null
ok 329 error should be null
# setup
# networkChanged - fires peerAvailabilityChanged event for wifi peers
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50539'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50540'
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"8d44575f-26db-4c1c-aa03-66092533bab2","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 330 first peer is expected to be available
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"fe1b9229-4dab-4537-a541-cea66860e0b4","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 331 second peer is expected to be available
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"fe1b9229-4dab-4537-a541-cea66860e0b4","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 332 peer became unavailable
ok 333 it was wifi peer
# teardown
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"8d44575f-26db-4c1c-aa03-66092533bab2","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 334 error should be null
ok 335 error should be null
# setup
# networkChanged - fires peerAvailabilityChanged event for native peers (BLUETOOTH)
2017-01-04 16:09:58 - DEBUG thaliMobileNativeWrapper: 'listening 50541'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:58 - DEBUG createNativeListener: 'listening 50542'
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"a18d86e6-b679-47fb-a693-3e3f05bee949","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 336 first peer is expected to be available
2017-01-04 16:09:58 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"b24c6c6a-ff1c-437a-9ecf-48d33fd54cb2","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 337 second peer is expected to be available
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"a18d86e6-b679-47fb-a693-3e3f05bee949","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 338 peer became unavailable
ok 339 it was a native peer
# teardown
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"b24c6c6a-ff1c-437a-9ecf-48d33fd54cb2","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 340 error should be null
ok 341 error should be null
# setup
# networkChanged - fires peerAvailabilityChanged event for native peers (MPCF)
2017-01-04 16:09:59 - DEBUG SimpleThaliTape: 'test was skipped, name: 'networkChanged - fires peerAvailabilityChanged event for native peers (MPCF)''
# teardown
ok 342 error should be null
ok 343 error should be null
# setup
# multiconnect failure - new peer is ignored (MPCF)
2017-01-04 16:09:59 - DEBUG SimpleThaliTape: 'test was skipped, name: 'multiconnect failure - new peer is ignored (MPCF)''
# teardown
ok 344 error should be null
ok 345 error should be null
# setup
# multiconnect failure - cached peer fires peerAvailabilityChanged (MPCF)
2017-01-04 16:09:59 - DEBUG SimpleThaliTape: 'test was skipped, name: 'multiconnect failure - cached peer fires peerAvailabilityChanged (MPCF)''
# teardown
ok 346 error should be null
ok 347 error should be null
# setup
# newAddressPort field (TCP_NATIVE)
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"02a9cbf9-a13d-4506-9bfb-e54fad1a6b35","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 348 peer discovered first time does not have new address
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"02a9cbf9-a13d-4506-9bfb-e54fad1a6b35","connectionType":"tcp","peerAvailable":true,"generation":20,"newAddressPort":false}'
ok 349 address has not been changed
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"02a9cbf9-a13d-4506-9bfb-e54fad1a6b35","connectionType":"tcp","peerAvailable":true,"generation":20,"newAddressPort":true}'
ok 350 new port handled correctly
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"02a9cbf9-a13d-4506-9bfb-e54fad1a6b35","connectionType":"tcp","peerAvailable":true,"generation":20,"newAddressPort":true}'
ok 351 new host handled correctly
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"02a9cbf9-a13d-4506-9bfb-e54fad1a6b35","connectionType":"tcp","peerAvailable":false,"generation":20,"newAddressPort":null}'
ok 352 newAddressPort is null for unavailable peers
# teardown
ok 353 error should be null
ok 354 error should be null
# setup
# newAddressPort field (BLUETOOTH)
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"fb4efd9f-90e7-44be-afd7-b0d59c79f587","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 355 peer discovered first time does not have new address
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"fb4efd9f-90e7-44be-afd7-b0d59c79f587","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":20,"newAddressPort":false}'
ok 356 address has not been changed
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"fb4efd9f-90e7-44be-afd7-b0d59c79f587","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":20,"newAddressPort":true}'
ok 357 new port handled correctly
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"fb4efd9f-90e7-44be-afd7-b0d59c79f587","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":20,"newAddressPort":null}'
ok 358 newAddressPort is null for unavailable peers
# teardown
ok 359 error should be null
ok 360 error should be null
# setup
# newAddressPort field (MPCF)
2017-01-04 16:09:59 - DEBUG SimpleThaliTape: 'test was skipped, name: 'newAddressPort field (MPCF)''
# teardown
ok 361 error should be null
ok 362 error should be null
# setup
# newAddressPort after listenerRecreatedAfterFailure event (BLUETOOTH)
ok 363 NOT IMPLEMENTED # SKIP
# teardown
ok 364 error should be null
ok 365 error should be null
# setup
# #getPeerHostInfo - error when peer has not been discovered yet
ok 366 should be equal
# teardown
ok 367 error should be null
ok 368 error should be null
# setup
# #getPeerHostInfo - returns discovered cached native peer (BLUETOOTH)
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"foo","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 369 contains expected properties
ok 370 the same hostAddress
ok 371 the same portNumber
# teardown
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"foo","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 372 error should be null
ok 373 error should be null
# setup
# #getPeerHostInfo - returns discovered cached native peer and calls `_multiConnect` to retrieve the port (MPCF)
2017-01-04 16:09:59 - DEBUG SimpleThaliTape: 'test was skipped, name: '#getPeerHostInfo - returns discovered cached native peer and calls `_multiConnect` to retrieve the port (MPCF)''
# teardown
ok 374 error should be null
ok 375 error should be null
# setup
# #getPeerHostInfo - returns discovered cached wifi peer
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"foo","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 376 contains expected properties
ok 377 the same hostAddress
ok 378 the same portNumber
# teardown
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"foo","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 379 error should be null
ok 380 error should be null
# setup
# #disconnect fails on wifi peers
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'listening 50543'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'listening 50544'
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"a7bed4dd-ecaa-48e5-ae64-a757173bbed4","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 381 Got specific error message
# teardown
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"a7bed4dd-ecaa-48e5-ae64-a757173bbed4","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 382 error should be null
ok 383 error should be null
# setup
# #disconnect delegates native peers to the native wrapper
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'listening 50545'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'listening 50546'
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"65b88355-12b6-449d-a6fa-e9298c29a93c","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
2017-01-04 16:09:59 - DEBUG thaliTcpServersManager: 'Terminate outgoing connection called on peerID 65b88355-12b6-449d-a6fa-e9298c29a93c with port 12345'
ok 384 native wrapper `disconnect` called once
ok 385 native wrapper `disconnect` called with peer data
# teardown
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"65b88355-12b6-449d-a6fa-e9298c29a93c","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 386 error should be null
ok 387 error should be null
# setup
# network changes emitted correctly
2017-01-04 16:09:59 - DEBUG SimpleThaliTape: 'test was skipped, name: 'network changes emitted correctly''
# teardown
ok 388 error should be null
ok 389 error should be null
# setup
# network changes not emitted in started state
2017-01-04 16:09:59 - DEBUG SimpleThaliTape: 'test was skipped, name: 'network changes not emitted in started state''
# teardown
ok 390 error should be null
ok 391 error should be null
# setup
# network changes not emitted in stopped state
2017-01-04 16:09:59 - DEBUG SimpleThaliTape: 'test was skipped, name: 'network changes not emitted in stopped state''
# teardown
ok 392 error should be null
ok 393 error should be null
# setup
# calls correct starts when network changes
2017-01-04 16:09:59 - DEBUG SimpleThaliTape: 'test was skipped, name: 'calls correct starts when network changes''
# teardown
ok 394 error should be null
ok 395 error should be null
# setup
# We properly fire peer unavailable and then available when connection fails
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'listening 50547'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'listening 50548'
2017-01-04 16:09:59 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:09:59 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'Received peer availability changed event with {"peerIdentifier":"971f2550-db42-4488-850f-19ca5eab8b65","generation":0,"peerAvailable":true}'
2017-01-04 16:09:59 - DEBUG createPeerListener: 'creating new server for 971f2550-db42-4488-850f-19ca5eab8b65'
2017-01-04 16:09:59 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for 971f2550-db42-4488-850f-19ca5eab8b65 listening on 50549'
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'handlePeerAvailabilityChanged - Emitting {"peerIdentifier":"971f2550-db42-4488-850f-19ca5eab8b65","peerAvailable":true,"generation":0,"portNumber":50549}'
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"971f2550-db42-4488-850f-19ca5eab8b65","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 396 peerIds match
ok 397 peer is available
ok 398 newAddressPort is false
ok 399 We should have connected
2017-01-04 16:09:59 - DEBUG createPeerListener: 'Issuing callNative for 971f2550-db42-4488-850f-19ca5eab8b65'
2017-01-04 16:09:59 - WARN createPeerListener: 'callNative for 971f2550-db42-4488-850f-19ca5eab8b65 failed with Connection could not be established'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:59 - DEBUG createPeerListener: 'We are emitting failedConnection with error "Error: Connection could not be established" and peerIdentifier "971f2550-db42-4488-850f-19ca5eab8b65"'
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'Received peer availability changed event with {"peerIdentifier":"971f2550-db42-4488-850f-19ca5eab8b65","peerAvailable":false,"portNumber":null,"recreated":true}'
ok 400 Failed on right peer
ok 401 Marked as recreated
2017-01-04 16:09:59 - DEBUG createPeerListener: 'Will try to recreate server for 971f2550-db42-4488-850f-19ca5eab8b65'
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'handlePeerUnavailable - Emitting {"peerIdentifier":"971f2550-db42-4488-850f-19ca5eab8b65","peerAvailable":false,"generation":null,"portNumber":null,"recreated":true}'
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handleRecreatedPeer {"peerIdentifier":"971f2550-db42-4488-850f-19ca5eab8b65","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 402 still same peer IDs
ok 403 peer should not be available
2017-01-04 16:09:59 - DEBUG createPeerListener: 'creating new server for 971f2550-db42-4488-850f-19ca5eab8b65'
2017-01-04 16:09:59 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for 971f2550-db42-4488-850f-19ca5eab8b65 listening on 50551'
2017-01-04 16:09:59 - DEBUG createPeerListener: 'We are emitting listenerRecreatedAfterFailure with peerIdentifier 971f2550-db42-4488-850f-19ca5eab8b65 and portNumber 50551'
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'listenerRecreatedAfterFailureHandler - We are emitting nonTCPPeerAvailabilityChangedEvent with peerIdentifier 971f2550-db42-4488-850f-19ca5eab8b65, generation 0, and portNumber 50551'
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handleRecreatedPeer {"peerIdentifier":"971f2550-db42-4488-850f-19ca5eab8b65","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 404 peerIds match again
ok 405 peer is available again
ok 406 newAddressPort is false
ok 407 We got the error we expected
# teardown
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"971f2550-db42-4488-850f-19ca5eab8b65","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:59 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 408 error should be null
ok 409 error should be null
# setup
# If a peer is not available (and hence is not in the thaliMobile cache) but we already started trying to connect make sure recreate does not happen
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'listening 50552'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'listening 50553'
2017-01-04 16:09:59 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:09:59 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:09:59 - DEBUG createPeerListener: 'creating new server for 495c92f4-0d1a-456a-9497-95920b42f391'
2017-01-04 16:09:59 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for 495c92f4-0d1a-456a-9497-95920b42f391 listening on 50554'
2017-01-04 16:09:59 - DEBUG createPeerListener: 'Issuing callNative for 495c92f4-0d1a-456a-9497-95920b42f391'
ok 410 We should have connected
2017-01-04 16:09:59 - WARN createPeerListener: 'callNative for 495c92f4-0d1a-456a-9497-95920b42f391 failed with Connection could not be established'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:59 - DEBUG createPeerListener: 'We are emitting failedConnection with error "Error: Connection could not be established" and peerIdentifier "495c92f4-0d1a-456a-9497-95920b42f391"'
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'Received peer availability changed event with {"peerIdentifier":"495c92f4-0d1a-456a-9497-95920b42f391","peerAvailable":false,"portNumber":null,"recreated":true}'
ok 411 Failed on right peer
2017-01-04 16:09:59 - DEBUG createPeerListener: 'Will try to recreate server for 495c92f4-0d1a-456a-9497-95920b42f391'
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'handlePeerUnavailable - Emitting {"peerIdentifier":"495c92f4-0d1a-456a-9497-95920b42f391","peerAvailable":false,"generation":null,"portNumber":null,"recreated":true}'
2017-01-04 16:09:59 - DEBUG createPeerListener: 'creating new server for 495c92f4-0d1a-456a-9497-95920b42f391'
2017-01-04 16:09:59 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for 495c92f4-0d1a-456a-9497-95920b42f391 listening on 50556'
2017-01-04 16:09:59 - DEBUG createPeerListener: 'We are emitting listenerRecreatedAfterFailure with peerIdentifier 495c92f4-0d1a-456a-9497-95920b42f391 and portNumber 50556'
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'listenerRecreatedAfterFailureHandler - We are emitting nonTCPPeerAvailabilityChangedEvent with peerIdentifier 495c92f4-0d1a-456a-9497-95920b42f391, generation undefined, and portNumber 50556'
ok 412 Peer still matches
ok 413 We got the connection error
# teardown
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:09:59 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 414 error should be null
ok 415 error should be null
# setup
# does not fire duplicate events after peer listener recreation
2017-01-04 16:09:59 - DEBUG thaliMobileNativeWrapper: 'listening 50557'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'listening 50558'
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"peer-id","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 416 1st call - correct peer
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handleRecreatedPeer {"peerIdentifier":"peer-id","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 417 should be equivalent
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handleRecreatedPeer {"peerIdentifier":"peer-id","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 418 should be equivalent
# teardown
2017-01-04 16:09:59 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"peer-id","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:09:59 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 419 error should be null
ok 420 error should be null
# setup
# #testThaliPeerAction - test getters
ok 421 getPeerIdentifier
ok 422 getConnectionType
ok 423 getActionType
ok 424 getActionState
ok 425 getPskIdentity
ok 426 getPskKey
# teardown
# setup
# #testThaliPeerAction - start and kill
ok 427 initial state
ok 428 after start
2017-01-04 16:09:59 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 429 after kill
# teardown
# setup
# #testThaliPeerAction - double start
ok 430 should be equal
# teardown
# setup
# #testThaliPeerAction - start after kill
2017-01-04 16:09:59 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 431 clean kill
ok 432 should be equal
# teardown
# setup
# #testThaliPeerAction - make sure ids are unique
ok 433 should not be equal
# teardown
# setup
# #testThaliPeerAction - check that forever agent can be destroyed
ok 434 forever agent should have it's own destroy method
ok 435 agent's destroy should be called
ok 436 agent's destroy should not be called again
ok 437 agent is destroyed
# teardown
# setup
# Test PeerDictionary basic functionality
ok 438 Entry counter must be 1
ok 439 Entry exists
ok 440 Size must be 1
ok 441 Entry counter must be 2
ok 442 Entry exists
ok 443 Size must be 2
ok 444 Entry counter must be 1
ok 445 Entry exists
ok 446 Size must be 3
ok 447 Entry counter must be 2
ok 448 Entry exists
ok 449 Size must be 4
ok 450 Entry 1_1 should not be found
ok 451 Entry 1_1 does not exist
ok 452 Size must be 3
ok 453 Entry 1_2 should not be found
ok 454 Entry 1_2 does not exist
ok 455 Size must be 2
ok 456 should be equal
ok 457 Entry 2_1 should not be found
ok 458 Entry 2_2 should not be found
ok 459 Entry 2_1 does not exist
ok 460 Entry 2_2 does not exist
ok 461 Size must be 0
# teardown
# setup
# Test PeerDictionary with multiple entries.
ok 462 Size must be100
ok 463 Entries between 20 and MAXSIZE + 20 should exist
ok 464 WAITING state entry should not be removed
# teardown
# setup
# RESOLVED entries are removed before WAITING state entry.
ok 465 Entries between 6 and MAXSIZE + 4 should exist
ok 466 Size should be MAXSIZE
ok 467 Size should be MAXSIZE+6
# teardown
# setup
# WAITING entries are removed before CONTROLLED_BY_POOL state entry.
ok 468 WAITING state entry should not be removed
ok 469 Waiting entries between 6 and MAXSIZE + 4 should exist
ok 470 Size should be MAXSIZE
ok 471 entryCounter should be MAXSIZE+6
# teardown
# setup
# When CONTROLLED_BY_POOL entry is removed and kill is called.
ok 472 Kill should be called once
ok 473 Size should be MAXSIZE
# teardown
# setup
# #ThaliPeerPoolDefault - single action
ok 474 is an agent
ok 475 enqueue is fine
ok 476 Everything should be off the queue
# teardown
# setup
# #ThaliPeerPoolDefault - multiple actions
ok 477 is an agent
ok 478 first enqueue is fine
ok 479 is an agent
ok 480 second enqueue is fine
ok 481 everybody, even identical peers, get their own pool, although eventually we should make identical peers have a common pool.
ok 482 Queue is empty
# teardown
# setup
# #ThaliPeerPoolDefault - PSK Pool works
ok 483 is an agent
ok 484 good enqueue
ok 485 Identity should match
2017-01-04 16:09:59 - DEBUG testUtils: 'Got response data'
2017-01-04 16:09:59 - DEBUG testUtils: 'Got end'
ok 486 Got expected response
ok 487 Got psk call back
# teardown
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #ThaliPeerPoolDefault - stop
ok 488 is an agent
ok 489 enqueue worked
ok 490 is an agent
ok 491 enqueue 2 worked
ok 492 enqueue is not available when stopped
ok 493 start action is killed
ok 494 killed action is still killed
ok 495 enqueued action when stopped is killed
ok 496 inQueue is empty
# teardown
# setup
# #ThaliPeerPoolInterface - make sure that start verifies queue length
ok 497 good start
ok 498 good enqueue
ok 499 queue is not empty
# teardown
# setup
# #ThaliPeerPoolInterface - bad enqueues
ok 500 null arg
ok 501 wrong arg type
ok 502 wrong arg type
# teardown
# setup
# #ThaliPeerPoolInterface - do not allow same object type
ok 503 good enqueue
ok 504 already enqueued
# teardown
# setup
# #ThaliPeerPoolInterface - make sure we catch kill and dequeue
ok 505 good enqueue
ok 506 2nd good enqueue
ok 507 we are in the pool
ok 508 We are out of the pool
ok 509 Action was killed
ok 510 The original kill was called too
ok 511 second item is still in queue
# teardown
# setup
# #ThaliPeerPoolInterface - make sure our changes to the action leave kill as idempotent
ok 512 good enqueue
ok 513 first kill
ok 514 second NOOP kill
# teardown
# setup
# #ThaliPeerPoolInterface - make sure that stop removes all actions
ok 515 1st good enqueue
ok 516 2nd good enqueue
ok 517 1st action is in the pool
ok 518 2nd action is in the pool
ok 519 1st action is out of the pool
ok 520 2st action is out of the pool
ok 521 pool is empty
# teardown
# setup
# We reject unrecognized connection type
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Start was called'
ok 522 Got right error
ok 523 Start should not be called
ok 524 Kill should have been called at least once
# teardown
# setup
# We reject unrecognized action type
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Start was called'
2017-01-04 16:09:59 - ERROR thaliPeerPoolOneAtATime: 'Got unsupported action type: blah'
ok 525 Got right error
ok 526 Start should not be called
ok 527 Kill should have been called at least once
# teardown
# setup
# One action on bluetooth
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Start was called'
ok 528 Got null
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 587, Action Type: GetRequestBeacon, Connection Type: AndroidBluetooth, Peer Identifier: peerID'
ok 529 is an agent
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 587, Action Type: GetRequestBeacon, Connection Type: AndroidBluetooth, Peer Identifier: peerID'
ok 530 Got killed at least once
# teardown
# setup
# Two notification actions
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Start was called'
ok 531 Got Null
ok 532 Got another null
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 588, Action Type: GetRequestBeacon, Connection Type: AndroidBluetooth, Peer Identifier: peerId1'
ok 533 is an agent
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 588, Action Type: GetRequestBeacon, Connection Type: AndroidBluetooth, Peer Identifier: peerId1'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 589, Action Type: GetRequestBeacon, Connection Type: AndroidBluetooth, Peer Identifier: peerId2'
ok 534 is an agent
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 589, Action Type: GetRequestBeacon, Connection Type: AndroidBluetooth, Peer Identifier: peerId2'
ok 535 Action 1 killed at least once
ok 536 Action 1 went first
ok 537 Action 2 killed at least once
# teardown
# setup
# replicateThroughProblems
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Action Started success'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - success'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Got a replication response with no error!'
ok 538 should have gotten null
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Action Started noActivityTimeOut'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'action returned with error from startError: No activity time out - noActivityTimeOut'
ok 539 Should have stopped nicely
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Action Started failureButNotAvailable'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'action returned with error from startError: eeeek! - failureButNotAvailable'
ok 540 Still looking for null
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Action Started failureButAvailable'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'action returned with error from startError: eeeek! - failureButAvailable'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Replication action failed badly so we are going to retry'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Action Started clone!'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - clone!'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Got a replication response with no error!'
ok 541 Yup, another null
ok 542 We cloned!
# teardown
# setup
# Replication goes first
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Start was called'
ok 543 Null 1
ok 544 (unnamed assert)
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 590, Action Type: GetRequestBeacon, Connection Type: AndroidBluetooth, Peer Identifier: notificationAction'
ok 545 is an agent
ok 546 Null 3
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 590, Action Type: GetRequestBeacon, Connection Type: AndroidBluetooth, Peer Identifier: notificationAction'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 591, Action Type: ReplicationAction, Connection Type: AndroidBluetooth, Peer Identifier: replicationAction'
ok 547 is an agent
ok 548 Replication not yet called
ok 549 Notification 2 not yet called
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 591, Action Type: ReplicationAction, Connection Type: AndroidBluetooth, Peer Identifier: replicationAction'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Got a replication response with no error!'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 592, Action Type: GetRequestBeacon, Connection Type: AndroidBluetooth, Peer Identifier: notificationAction'
ok 550 is an agent
ok 551 Notification went first
ok 552 Notification 2 not called yet
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 592, Action Type: GetRequestBeacon, Connection Type: AndroidBluetooth, Peer Identifier: notificationAction'
ok 553 Notification finished
ok 554 Replication finished
# teardown
# setup
# wifi allows many parallel non-replication actions
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Start was called'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 593, Action Type: foo, Connection Type: tcp, Peer Identifier: 1'
ok 555 is an agent
ok 556 First null
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 594, Action Type: foo, Connection Type: tcp, Peer Identifier: 2'
ok 557 is an agent
ok 558 Second null
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 594, Action Type: foo, Connection Type: tcp, Peer Identifier: 2'
truetruefalsetrue
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 593, Action Type: foo, Connection Type: tcp, Peer Identifier: 1'
truetruetruetrue
# teardown
# setup
# wifi allows no more than 2 simultaneous replication actions for same peerID
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Start was called'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 595, Action Type: ReplicationAction, Connection Type: tcp, Peer Identifier: 1'
ok 559 is an agent
ok 560 First null
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 596, Action Type: ReplicationAction, Connection Type: tcp, Peer Identifier: 1'
ok 561 is an agent
ok 562 second null
ok 563 third null
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 595, Action Type: ReplicationAction, Connection Type: tcp, Peer Identifier: 1'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 596, Action Type: ReplicationAction, Connection Type: tcp, Peer Identifier: 1'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Got a replication response with no error!'
2017-01-04 16:09:59 - DEBUG thaliPeerPoolOneAtATime: 'Got a replication response with no error!'
# teardown
# setup
# Test BEACONS_RETRIEVED_AND_PARSED locally
ok 564 peerIdentifier should match
ok 565 generation should match
ok 566 Response should be BEACONS_RETRIEVED_AND_PARSED
ok 567 good beacon
ok 568 good preAmble
ok 569 public keys match!
ok 570 must return null after successful call
ok 571 Once start returns the action should be in KILLED state
# teardown
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test HTTP_BAD_RESPONSE locally
ok 572 Response should be HTTP_BAD_RESPONSE
ok 573 must return null after successful call
# teardown
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test NETWORK_PROBLEM locally
ok 574 Response should be NETWORK_PROBLEM
ok 575 reject reason should be: Could not establish TCP connection
# teardown
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Action fails when getPeerHostInfo fails
ok 576 Resolution should be BAD_PEER
ok 577 correct error message
# teardown
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Call the start two times
ok 578 Call start once
ok 579 Response should be BEACONS_RETRIEVED_AND_PARSED
ok 580 must return null after successful call.
# teardown
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Call the kill before calling the start
ok 581 Should be Killed
ok 582 Start after killed
# teardown
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Call the kill immediately after the start
ok 583 Should be KILLED
ok 584 must return null after successful kill
# teardown
2017-01-04 16:09:59 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Call the kill while waiting a response from the server
ok 585 Should be KILLED
ok 586 must return null after successful kill
# teardown
2017-01-04 16:10:01 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test to exceed the max content size locally
ok 587 HTTP_BAD_RESPONSE should be response when content size is exceeded
ok 588 must return null after successful call
# teardown
2017-01-04 16:10:01 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Close the server socket while the client is waiting a response from the server. Local test.
2017-01-04 16:10:03 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 589 Should be NETWORK_PROBLEM caused closing server socket
ok 590 Should be Could not establish TCP connection
# teardown
# setup
# Close the client socket while the client is waiting a response from the server. Local test.
ok 591 Should be NETWORK_PROBLEM caused closing client socket
ok 592 Should be Could not establish TCP connection
# teardown
2017-01-04 16:10:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #generatePreambleAndBeacons bad args
ok 593 publicKeysToNotify cannot be null
ok 594 ecdh for local device cannot be null
ok 595 milliseconds cannot be less than 0
ok 596 milliseconds cannot be 0
ok 597 milliseconds cannot be greater than one_day
# teardown
# setup
# #generatePreambleAndBeacons empty keys to notify
ok 598 should be equal
# teardown
# setup
# #generatePreambleAndBeacons multiple keys to notify
ok 599 should be equal
ok 600 should be equal
ok 601 (unnamed assert)
ok 602 should be equal
# teardown
# setup
# #parseBeacons invalid ECDH public key in beaconStreamWithPreAmble
ok 603 should throw
# teardown
# setup
# #parseBeacons invalid expiration in beaconStreamWithPreAmble
ok 604 Preamble expiration must be a 64 bit integer
# teardown
# setup
# #parseBeacons expiration out of range lower
ok 605 Expiration out of range
# teardown
# setup
# #parseBeacons expiration out of range lower
ok 606 Expiration out of range
# teardown
# setup
# #parseBeacons no beacons returns null
ok 607 should be equal
# teardown
# setup
# #parseBeacons invalid size for encryptedBeaconKeyId in  beaconStreamWithPreAmble
ok 608 Malformed encrypted beacon key ID
# teardown
# setup
# #parseBeacons addressBookCallback fails decrypt
ok 609 should be equal
# teardown
# setup
# #parseBeacons addressBookCallback returns no matches
ok 610 should be equal
ok 611 should be equal
# teardown
# setup
# #parseBeacons addressBookCallback returns spurious match
ok 612 should be equal
ok 613 should be equal
# teardown
# setup
# #parseBeacons addressBookCallback returns public key
ok 614 right number of calls to address book
ok 615 good preAmble
ok 616 good unencryptedKeyId
ok 617 good beacon
# teardown
# setup
# validate generatePskIdentityField
ok 618 decoded buffers match
# teardown
# setup
# validate generatePskSecret
ok 619 secrets match
# teardown
# setup
# validate generatePskSecrets
ok 620 Matching numbers
ok 621 We have an entry!
ok 622 keys match
ok 623 secrets match
ok 624 We have an entry!
ok 625 keys match
ok 626 secrets match
ok 627 We have an entry!
ok 628 keys match
ok 629 secrets match
# teardown
# setup
# validate generateBeaconStreamAndSecrets
ok 630 Streams have same length
ok 631 matching size
ok 632 keys match
ok 633 secrets match
# teardown
# setup
# Add two Peers.
ok 634 should be equal
ok 635 peerDictionalty contains 2 peers
ok 636 bluetooth peer's notification has correct connection type
ok 637 tcp peer's notification has correct connection type
2017-01-04 16:10:06 - DEBUG thaliPeerPoolDefault: 'Got err   peer not available'
2017-01-04 16:10:06 - DEBUG thaliPeerPoolDefault: 'Got err   peer not available'
# teardown
2017-01-04 16:10:06 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# TCP_NATIVE peer loses DNS
ok 638 notification peer dictionary contains exactly 1 peer
2017-01-04 16:10:06 - WARN thaliNotificationClient: 'peer is not available'
ok 639 notification peer dictionary does not contain any peers
2017-01-04 16:10:06 - DEBUG thaliPeerPoolDefault: 'Got err   peer not available'
# teardown
2017-01-04 16:10:06 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Received beacons with no values for us
ok 640 entry exists
ok 641 entry is resolved
# teardown
2017-01-04 16:10:06 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Notification action killed with a superseded
ok 642 Action should be KILLED
ok 643 Peer state should be RESOLVED
# teardown
2017-01-04 16:10:06 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Resolves an action locally
ok 644 hostAddress must match
ok 645 portNumber must match
ok 646 suggestedTCPTimeout must match
ok 647 connectionType must match
ok 648 peerIDs must match
# teardown
2017-01-04 16:10:06 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Resolves an action locally using ThaliPeerPoolDefault
ok 649 hostAddress must match
ok 650 portNumber must match
ok 651 suggestedTCPTimeout must match
ok 652 connectionType must match
ok 653 peerIds must match
# teardown
2017-01-04 16:10:06 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Action fails because of a bad hostname.
2017-01-04 16:10:06 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 654 action should be resolved with NETWORK_PROBLEM error
2017-01-04 16:10:06 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 655 action should be resolved with NETWORK_PROBLEM error
2017-01-04 16:10:06 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 656 action should be resolved with NETWORK_PROBLEM error
2017-01-04 16:10:07 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 657 action should be resolved with NETWORK_PROBLEM error
ok 658 correct number of requests
ok 659 correct number of failures
ok 660 correct final peer state
# teardown
2017-01-04 16:10:07 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# hostaddress is removed when the action is running. 
2017-01-04 16:10:09 - WARN thaliNotificationClient: 'peer is not available'
2017-01-04 16:10:09 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 661 peerDictionary should become empty
# teardown
2017-01-04 16:10:09 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# notificationClient does not retry action with BAD_PEER resolution
2017-01-04 16:10:09 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 662 failed with expected error
ok 663 peer state should be RESOLVED
# teardown
2017-01-04 16:10:09 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# notification client correctly handles peer availability changes of the same peer
2017-01-04 16:10:09 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 664 First action failed
ok 665 second action killed
# teardown
2017-01-04 16:10:09 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Client to server request locally
ok 666 secrets are equal
ok 667 Public key matches with the server key
ok 668 hostAddress must match
ok 669 portNumber must match
ok 670 suggestedTCPTimeout must match
ok 671 connectionType must match
# teardown
2017-01-04 16:10:09 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test ThaliPskMapCache clean and expiration
ok 672 ThaliPskMapCache should not exceed MAX_NOTIFICATIONSERVER_PSK_MAP_CACHE_SIZE
ok 673 ThaliPskMapCache should not exceed MAX_NOTIFICATIONSERVER_PSK_MAP_CACHE_SIZE-1
ok 674 All entries should be expired after 1 second
# teardown
2017-01-04 16:10:10 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test ThaliPskMapCache getSecret and getPublic
ok 675 All keys need to be available in the cache
ok 676 All entries should be expired after 1 second
# teardown
2017-01-04 16:10:11 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test ThaliPskMapCache multiple entries
ok 677 Size of the cache should be 2
ok 678 Cache doesn't contain dictionary1
ok 679 Size of the cache should be 1
ok 680 Cache doesn't contain beaconStreamAndSecretDictionary2
# teardown
2017-01-04 16:10:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Start and stop ThaliNotificationServer
ok 681 ThaliMobile.StartUpdateAdvertisingAndListening should be called once
ok 682 ThaliMobile.StopAdvertisingAndListeningshould be called once
# teardown
2017-01-04 16:10:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Pass an empty array to ThaliNotificationServer.start
ok 683 StartUpdateAdvertisingAndListening should not be called
ok 684 ThaliMobile.StopAdvertisingAndListening should be called once
ok 685 no error
ok 686 should be 204
# teardown
2017-01-04 16:10:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Pass a string to ThaliNotificationServer.start
ok 687 StartUpdateAdvertisingAndListening should not be called
# teardown
2017-01-04 16:10:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Pass an empty parameter to ThaliNotificationServer.start
ok 688 StartUpdateAdvertisingAndListening should not be called
# teardown
2017-01-04 16:10:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make an HTTP request to /NotificationBeacons
ok 689 no error
ok 690 should be 200
ok 691 should be equal
ok 692 should be equal
ok 693 (unnamed assert)
ok 694 no error
ok 695 should be 204
# teardown
2017-01-04 16:10:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make an HTTP request to /NotificationBeacons (no keys)
ok 696 error should be null
ok 697 should be 204
# teardown
2017-01-04 16:10:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make an HTTP request to /NotificationBeaconsbefore calling start
ok 698 should be 404
# teardown
2017-01-04 16:10:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make sure peerDictionaryKey is reasonable
ok 699 equal keys
ok 700 not equal connection type
ok 701 same connection type, different buffer
# teardown
# setup
# Make sure start works
2017-01-04 16:10:14 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
ok 702 First start and on called correctly
# teardown
# setup
# Make sure stop works
ok 703 second cleared dictionary
2017-01-04 16:10:14 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
ok 704 First start and on called correctly
ok 705 First stop and removeListener called correctly
ok 706 first action kill called
ok 707 second action kill called
ok 708 first cleared dictionary
ok 709 first cleared pool
ok 710 second cleared dictionary
ok 711 second cleared pool
# teardown
# setup
# Simple peer event
2017-01-04 16:10:14 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
ok 712 listener has been set
ok 713 peer dictionary has expected number of entries
ok 714 Dictionary and pool have same action
ok 715 ads match
ok 716 PouchDB matches
ok 717 DB Names match
ok 718 public keys match
ok 719 peer dictionary has expected number of entries
ok 720 Dictionary and pool have same action
ok 721 ads match
ok 722 PouchDB matches
ok 723 DB Names match
ok 724 public keys match
2017-01-04 16:10:14 - DEBUG thaliReplicationPeerAction: 'We called _complete with  and it caused us to complete'
ok 725 start called once
ok 726 One entry left
ok 727 Dictionary and pool have same action
ok 728 Start never called
ok 729 Kill called once
ok 730 no entries left
ok 731 Third action is dead
ok 732 peer dictionary has expected number of entries
ok 733 Dictionary and pool have same action
ok 734 ads match
ok 735 PouchDB matches
ok 736 DB Names match
ok 737 public keys match
# teardown
# setup
# Server is not there
2017-01-04 16:10:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:14 - DEBUG thaliReplicationPeerAction: 'Got error on replication -  500 connect ECONNREFUSED'
2017-01-04 16:10:14 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: connect ECONNREFUSED  and it caused us to complete'
ok 738 right error
# teardown
2017-01-04 16:10:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Server accepts & closes connection
2017-01-04 16:10:14 - DEBUG thaliReplicationPeerAction: 'Got error on replication -  500 socket hang up'
2017-01-04 16:10:14 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: socket hang up  and it caused us to complete'
ok 739 right error
# teardown
2017-01-04 16:10:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Server always returns 500
2017-01-04 16:10:14 - DEBUG thaliReplicationPeerAction: 'Got error on replication -  500 changes rejected'
2017-01-04 16:10:14 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: changes rejected  and it caused us to complete'
ok 740 Got error as expected
# teardown
2017-01-04 16:10:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Server always returns 401
2017-01-04 16:10:14 - DEBUG thaliReplicationPeerAction: 'Got error on replication -  401 changes rejected'
2017-01-04 16:10:14 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: changes rejected  and it caused us to complete'
ok 741 Got error as expected
# teardown
2017-01-04 16:10:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Server always returns 403
2017-01-04 16:10:14 - DEBUG thaliReplicationPeerAction: 'Got error on replication -  403 changes rejected'
2017-01-04 16:10:14 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: changes rejected  and it caused us to complete'
ok 742 Got error as expected
# teardown
2017-01-04 16:10:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make sure docs replicate
2017-01-04 16:10:14 - DEBUG thaliReplicationPeerAction: 'Replication resumed'
2017-01-04 16:10:14 - DEBUG thaliReplicationPeerAction: 'Got paused with -  '
2017-01-04 16:10:17 - DEBUG thaliReplicationPeerAction: 'We called _complete with  but we are already killed and so we ignored it'
ok 743 should be equal
ok 744 All tests passed!
# teardown
2017-01-04 16:10:17 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Do nothing and make sure we time out
2017-01-04 16:10:17 - DEBUG thaliReplicationPeerAction: 'Got paused with -  '
2017-01-04 16:10:19 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: No activity time out  and it caused us to complete'
2017-01-04 16:10:19 - DEBUG thaliReplicationPeerAction: 'We called _complete with  but this is a second call and so we ignored it'
ok 745 action should be killed
ok 746 Error should be timed out
ok 747 No doc found
# teardown
2017-01-04 16:10:19 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Do something and make sure we time out
2017-01-04 16:10:19 - DEBUG thaliReplicationPeerAction: 'Replication resumed'
2017-01-04 16:10:19 - DEBUG thaliReplicationPeerAction: 'Got paused with -  '
ok 748 should be equal
2017-01-04 16:10:21 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: No activity time out  and it caused us to complete'
2017-01-04 16:10:21 - DEBUG thaliReplicationPeerAction: 'We called _complete with  but this is a second call and so we ignored it'
ok 749 action should be killed
ok 750 Error should be timed out
# teardown
2017-01-04 16:10:21 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Start replicating and then catch error when server goes
ok 751 socket hung up
# teardown
2017-01-04 16:10:21 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make sure clone works
ok 752 same getPeerAdvertisesDataForUs
ok 753 Same pouchdB
ok 754 same dbName
ok 755 Same public key
# teardown
# setup
# compareBufferArrays
ok 756 should throw
ok 757 should throw
ok 758 (unnamed assert)
ok 759 (unnamed assert)
ok 760 (unnamed assert)
ok 761 (unnamed assert)
ok 762 (unnamed assert)
# teardown
# setup
# Call start twice and get error
ok 763 should throw
# teardown
# setup
# Start and make sure it runs
# teardown
# setup
# Make sure getTimeWhenRun is right after start
ok 764 (unnamed assert)
# teardown
# setup
# Make sure getTimeWhenRun is -1 after function is called
ok 765 should be equal
# teardown
# setup
# Make sure getTimeWhenRun is -2 when start has not been called and null if stop is called without running
ok 766 should be equal
ok 767 should be equal
ok 768 should throw
# teardown
# setup
# Test TransientState
ok 769 should throw
ok 770 should throw
ok 771 should be equal
ok 772 should be equal
ok 773 should be equal
ok 774 should be equal
ok 775 (unnamed assert)
ok 776 (unnamed assert)
# teardown
# setup
# No peers and empty database
ok 777 verify failed
ok 778 constructor called once
ok 779 constructor called with right args
ok 780 match start arg
ok 781 start called once
ok 782 stop called once
ok 783 stop after start
# teardown
# setup
# One peer and empty DB
ok 784 verify failed
ok 785 constructor called once
ok 786 constructor called with right args
ok 787 match start arg
ok 788 start called once
ok 789 stop called once
ok 790 stop after start
2017-01-04 16:10:21 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# One peer with _Local set behind current seq
ok 791 verify failed
ok 792 constructor called once
ok 793 constructor called with right args
ok 794 match start arg
ok 795 start called once
ok 796 stop called once
ok 797 stop after start
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# One peer with _Local set equal to current seq
ok 798 verify failed
ok 799 constructor called once
ok 800 constructor called with right args
ok 801 match start arg
ok 802 start called once
ok 803 stop called once
ok 804 stop after start
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# One peer with _Local set ahead of current seq (and no this should not happen)
ok 805 verify failed
ok 806 constructor called once
ok 807 constructor called with right args
ok 808 match start arg
ok 809 start called once
ok 810 stop called once
ok 811 stop after start
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# Three peers, one not in DB, one behind and one ahead
ok 812 verify failed
ok 813 constructor called once
ok 814 constructor called with right args
ok 815 match start arg
ok 816 start called once
ok 817 stop called once
ok 818 stop after start
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# More than maximum peers, make sure we only send maximum allowed
ok 819 verify failed
ok 820 constructor called once
ok 821 constructor called with right args
ok 822 match start arg
ok 823 start called once
ok 824 stop called once
ok 825 stop after start
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# two peers with empty DB, update the doc
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
ok 826 verify failed
ok 827 constructor called once
ok 828 constructor called with right args
ok 829 last start before stop
ok 830 empty first start
ok 831 full second start
ok 832 only 2 timers
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# add doc and make sure tokens refresh when they expire
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
ok 833 verify failed
ok 834 constructor called once
ok 835 constructor called with right args
ok 836 start before stop
ok 837 We got at least 3 calls to start
ok 838 at least 3
ok 839 default 1
ok 840 1 run
ok 841 default 2
ok 842 2 run
ok 843 default 3
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# start and stop and start and stop
ok 844 start out null
ok 845 back to null
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
ok 846 still null
ok 847 verify failed
ok 848 constructor called once
ok 849 constructor called with right args
ok 850 first start before first stop
ok 851 first stop before second start
ok 852 second start before second stop
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# two identical starts in a row
ok 853 verify failed
ok 854 constructor called once
ok 855 constructor called with right args
ok 856 (unnamed assert)
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# two different starts in a row
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
ok 857 verify failed
ok 858 constructor called once
ok 859 constructor called with right args
ok 860 (unnamed assert)
ok 861 (unnamed assert)
# teardown
# setup
# two stops and a start and two stops
ok 862 verify failed
ok 863 constructor called once
ok 864 constructor called with right args
ok 865 start before stop
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# we properly enqueue requests so no then needed
2017-01-04 16:10:22 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
ok 866 verify failed
ok 867 constructor called once
ok 868 constructor called with right args
ok 869 start before stop
# teardown
# setup
# test calculateSeqPointKeyId
ok 870 should be equal
ok 871 should be equal
# teardown
# setup
# #_doImmediateSeqUpdate - server is not there
2017-01-04 16:10:22 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:22 - DEBUG localSeqManager: 'Got an error trying to update seq {"code":"ECONNREFUSED","errno":"ECONNREFUSED","syscall":"connect","status":500}'
ok 872 Got right error
# teardown
2017-01-04 16:10:22 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - server accepts & closes connection
2017-01-04 16:10:22 - DEBUG localSeqManager: 'Got an error trying to update seq {"code":"ECONNRESET","status":500}'
ok 873 Got socket hang up
# teardown
2017-01-04 16:10:22 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - server always returns 500
2017-01-04 16:10:22 - DEBUG localSeqManager: 'Got an error trying to update seq []'
ok 874 Got 500 as expected
# teardown
2017-01-04 16:10:22 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - create new seq doc
ok 875 should be equal
ok 876 revs are equal
# teardown
2017-01-04 16:10:22 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - doc exists, need to get rev and update
ok 877 should be equal
ok 878 revs are equal
# teardown
2017-01-04 16:10:23 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - update seq three times
ok 879 should be equal
ok 880 revs are equal
ok 881 should be equal
ok 882 revs are equal
ok 883 should be equal
ok 884 revs are equal
# teardown
2017-01-04 16:10:23 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - rev got changed under us
2017-01-04 16:10:23 - DEBUG localSeqManager: 'Got an error trying to update seq {"error":"conflict","reason":"Document update conflict","name":"conflict","status":409,"message":"Document update conflict"}'
ok 885 Our rev is old so we should fail
# teardown
2017-01-04 16:10:23 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - fail if stop is called
ok 886 confirm stop caused failure
# teardown
2017-01-04 16:10:23 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - stop after get but before put fails right
2017-01-04 16:10:23 - DEBUG localSeqManager: 'Got an error trying to update seq {"onPut":true}'
ok 887 stop caused us to fail
ok 888 We specifically failed on a stop before put
# teardown
2017-01-04 16:10:23 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - fail if stop is called
ok 889 failed due to stop
ok 890 failed due to stop
# teardown
2017-01-04 16:10:23 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - set seq for first time
ok 891 should be equal
# teardown
2017-01-04 16:10:23 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - Fail on bad seq value
2017-01-04 16:10:23 - DEBUG localSeqManager: 'Got a bad seq, submitted seq 9, _nextSeqValueToSend: 10'
ok 892 Expected bad seq error
# teardown
2017-01-04 16:10:23 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - do we cancel timer properly on an immediate?
ok 893 Different promises
ok 894 Timer was cancelled
ok 895 should be equal
# teardown
2017-01-04 16:10:23 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - do we wait for blocked update
ok 896 One go and one blocked
ok 897 All blocked
ok 898 Still blocked
ok 899 should be equal
# teardown
2017-01-04 16:10:23 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - test that we wait long enough
ok 900 We waited long enough
ok 901 should be equal
# teardown
2017-01-04 16:10:32 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - test that we pick up new sequences while we wait
ok 902 Should have gotten same timer promise
ok 903 Still same timer promise
ok 904 We waited long enough
ok 905 should be equal
# teardown
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# test thali manager spies
2017-01-04 16:10:40 - DEBUG thaliManager: 'creating ThaliSendNotificationBasedOnReplication instance'
2017-01-04 16:10:40 - DEBUG thaliManager: 'creating ThaliPullReplicationFromNotification instance'
2017-01-04 16:10:40 - DEBUG thaliManager: 'creating express pouchdb instance'
ok 906 expressPouchDB was called once
ok 907 expressPouchDB was called with 2 arguments
ok 908 expressPouchDB was called with 'PouchDB' as 1-st argument
ok 909 expressPouchDB was called with 'expressPouchDB options' as 2-st argument
ok 910 PouchDB was called once
ok 911 PouchDB was called with 1 arguments
ok 912 PouchDB was called with 'dbName' as 1-st argument
ok 913 ThaliSendNotificationBasedOnReplication was called once
ok 914 ThaliSendNotificationBasedOnReplication was called with 4 arguments
ok 915 ThaliSendNotificationBasedOnReplication was called with 'express.Router instance' as 1-st argument
ok 916 ThaliSendNotificationBasedOnReplication was called with 'ecdhForLocalDevice' as 2-st argument
ok 917 ThaliSendNotificationBasedOnReplication was called with 'thaliConfig.BEACON_MILLISECONDS_TO_EXPIRE' as 3-st argument
ok 918 ThaliSendNotificationBasedOnReplication was called with 'PouchDB instance' as 4-st argument
ok 919 ThaliPullReplicationFromNotification was called once
ok 920 ThaliPullReplicationFromNotification was called with 4 arguments
ok 921 ThaliPullReplicationFromNotification was called with 'PouchDB' as 1-st argument
ok 922 ThaliPullReplicationFromNotification was called with 'dbName' as 2-st argument
ok 923 ThaliPullReplicationFromNotification was called with 'ThaliPeerPoolInterface instance' as 3-st argument
ok 924 ThaliPullReplicationFromNotification was called with 'ecdhForLocalDevice' as 4-st argument
ok 925 Salti was called once
ok 926 Salti was called with 4 arguments
ok 927 Salti was called with 'dbName' as 1-st argument
ok 928 Salti was called with 'acl' as 2-st argument
ok 929 Salti was called with 'thaliIdCallback' as 3-st argument
ok 930 Salti was called with 'options' as 4-st argument
2017-01-04 16:10:40 - DEBUG thaliManager: 'starting thaliPullReplicationFromNotification'
2017-01-04 16:10:40 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
2017-01-04 16:10:40 - DEBUG thaliManager: 'starting ThaliMobile'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'listening 50738'
2017-01-04 16:10:40 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:40 - DEBUG createNativeListener: 'listening 50739'
2017-01-04 16:10:40 - DEBUG thaliManager: 'start listening for advertisements'
2017-01-04 16:10:40 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:40 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:10:40 - DEBUG thaliManager: 'start update advertising and listening'
2017-01-04 16:10:40 - DEBUG thaliWifiInfrastructure: 'listening 50741'
2017-01-04 16:10:40 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:40 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:10:40 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:40 - DEBUG thaliManager: 'starting thaliSendNotificationBasedOnReplication'
ok 931 ThaliMobile.start was called once
ok 932 ThaliMobile.start was called with 3 arguments
ok 933 ThaliMobile.start was called with 'express.Router instance' as 1-st argument
ok 934 ThaliMobile.start was called with 'getPskIdToSecret' as 2-st argument
ok 935 ThaliMobile.start was called with 'networkType' as 3-st argument
ok 936 ThaliMobile.startListeningForAdvertisements was called once
ok 937 ThaliMobile.startListeningForAdvertisements was called with 0 arguments
ok 938 ThaliMobile.startUpdateAdvertisingAndListening was called once
ok 939 ThaliMobile.startUpdateAdvertisingAndListening was called with 0 arguments
ok 940 ThaliSendNotificationBasedOnReplication.prototype.start was called once
ok 941 ThaliSendNotificationBasedOnReplication.prototype.start was called with 1 arguments
ok 942 ThaliSendNotificationBasedOnReplication.prototype.start was called with 'remoteKeys' as 1-st argument
ok 943 ThaliPullReplicationFromNotification.prototype.start was called once
ok 944 ThaliPullReplicationFromNotification.prototype.start was called with 1 arguments
ok 945 ThaliPullReplicationFromNotification.prototype.start was called with 'remoteKeys' as 1-st argument
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping thaliPeerPoolInterface'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping thaliPullReplicationFromNotification'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping thaliSendNotificationBasedOnReplication'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping advertising and listening'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping listening for advertisements'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping ThaliMobile'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 946 ThaliMobile.stop was called once
ok 947 ThaliMobile.stop was called with 0 arguments
ok 948 ThaliMobile.stopListeningForAdvertisements was called once
ok 949 ThaliMobile.stopListeningForAdvertisements was called with 0 arguments
ok 950 ThaliMobile.stopAdvertisingAndListening was called once
ok 951 ThaliMobile.stopAdvertisingAndListening was called with 0 arguments
ok 952 ThaliSendNotificationBasedOnReplication.prototype.stop was called once
ok 953 ThaliSendNotificationBasedOnReplication.prototype.stop was called with 0 arguments
ok 954 ThaliPullReplicationFromNotification.prototype.stop was called once
ok 955 ThaliPullReplicationFromNotification.prototype.stop was called with 0 arguments
# teardown
# setup
# test thali manager multiple starts and stops
2017-01-04 16:10:40 - DEBUG thaliManager: 'creating ThaliSendNotificationBasedOnReplication instance'
2017-01-04 16:10:40 - DEBUG thaliManager: 'creating ThaliPullReplicationFromNotification instance'
2017-01-04 16:10:40 - DEBUG thaliManager: 'creating express pouchdb instance'
ok 956 expressPouchDB was called once
ok 957 expressPouchDB was called with 2 arguments
ok 958 expressPouchDB was called with 'PouchDB' as 1-st argument
ok 959 expressPouchDB was called with 'expressPouchDB options' as 2-st argument
ok 960 PouchDB was called once
ok 961 PouchDB was called with 1 arguments
ok 962 PouchDB was called with 'dbName' as 1-st argument
ok 963 ThaliSendNotificationBasedOnReplication was called once
ok 964 ThaliSendNotificationBasedOnReplication was called with 4 arguments
ok 965 ThaliSendNotificationBasedOnReplication was called with 'express.Router instance' as 1-st argument
ok 966 ThaliSendNotificationBasedOnReplication was called with 'ecdhForLocalDevice' as 2-st argument
ok 967 ThaliSendNotificationBasedOnReplication was called with 'thaliConfig.BEACON_MILLISECONDS_TO_EXPIRE' as 3-st argument
ok 968 ThaliSendNotificationBasedOnReplication was called with 'PouchDB instance' as 4-st argument
ok 969 ThaliPullReplicationFromNotification was called once
ok 970 ThaliPullReplicationFromNotification was called with 4 arguments
ok 971 ThaliPullReplicationFromNotification was called with 'PouchDB' as 1-st argument
ok 972 ThaliPullReplicationFromNotification was called with 'dbName' as 2-st argument
ok 973 ThaliPullReplicationFromNotification was called with 'ThaliPeerPoolInterface instance' as 3-st argument
ok 974 ThaliPullReplicationFromNotification was called with 'ecdhForLocalDevice' as 4-st argument
ok 975 Salti was called once
ok 976 Salti was called with 4 arguments
ok 977 Salti was called with 'dbName' as 1-st argument
ok 978 Salti was called with 'acl' as 2-st argument
ok 979 Salti was called with 'thaliIdCallback' as 3-st argument
ok 980 Salti was called with 'options' as 4-st argument
2017-01-04 16:10:40 - DEBUG thaliManager: 'starting thaliPullReplicationFromNotification'
2017-01-04 16:10:40 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
2017-01-04 16:10:40 - DEBUG thaliManager: 'starting ThaliMobile'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'listening 50742'
2017-01-04 16:10:40 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:40 - DEBUG createNativeListener: 'listening 50743'
2017-01-04 16:10:40 - DEBUG thaliManager: 'start listening for advertisements'
2017-01-04 16:10:40 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:40 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:10:40 - DEBUG thaliManager: 'start update advertising and listening'
2017-01-04 16:10:40 - DEBUG thaliWifiInfrastructure: 'listening 50745'
2017-01-04 16:10:40 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:40 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:10:40 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:40 - DEBUG thaliManager: 'starting thaliSendNotificationBasedOnReplication'
ok 981 ThaliMobile.start was called once
ok 982 ThaliMobile.start was called with 3 arguments
ok 983 ThaliMobile.start was called with 'express.Router instance' as 1-st argument
ok 984 ThaliMobile.start was called with 'getPskIdToSecret' as 2-st argument
ok 985 ThaliMobile.start was called with 'networkType' as 3-st argument
ok 986 ThaliMobile.startListeningForAdvertisements was called once
ok 987 ThaliMobile.startListeningForAdvertisements was called with 0 arguments
ok 988 ThaliMobile.startUpdateAdvertisingAndListening was called once
ok 989 ThaliMobile.startUpdateAdvertisingAndListening was called with 0 arguments
ok 990 ThaliSendNotificationBasedOnReplication.prototype.start was called once
ok 991 ThaliSendNotificationBasedOnReplication.prototype.start was called with 1 arguments
ok 992 ThaliSendNotificationBasedOnReplication.prototype.start was called with 'remoteKeys' as 1-st argument
ok 993 ThaliPullReplicationFromNotification.prototype.start was called once
ok 994 ThaliPullReplicationFromNotification.prototype.start was called with 1 arguments
ok 995 ThaliPullReplicationFromNotification.prototype.start was called with 'remoteKeys' as 1-st argument
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping thaliPeerPoolInterface'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping thaliPullReplicationFromNotification'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping thaliSendNotificationBasedOnReplication'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping advertising and listening'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping listening for advertisements'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping ThaliMobile'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 996 ThaliMobile.stop was called once
ok 997 ThaliMobile.stop was called with 0 arguments
ok 998 ThaliMobile.stopListeningForAdvertisements was called once
ok 999 ThaliMobile.stopListeningForAdvertisements was called with 0 arguments
ok 1000 ThaliMobile.stopAdvertisingAndListening was called once
ok 1001 ThaliMobile.stopAdvertisingAndListening was called with 0 arguments
ok 1002 ThaliSendNotificationBasedOnReplication.prototype.stop was called once
ok 1003 ThaliSendNotificationBasedOnReplication.prototype.stop was called with 0 arguments
ok 1004 ThaliPullReplicationFromNotification.prototype.stop was called once
ok 1005 ThaliPullReplicationFromNotification.prototype.stop was called with 0 arguments
2017-01-04 16:10:40 - DEBUG thaliManager: 'starting thaliPullReplicationFromNotification'
2017-01-04 16:10:40 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
2017-01-04 16:10:40 - DEBUG thaliManager: 'starting ThaliMobile'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'listening 50746'
2017-01-04 16:10:40 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:40 - DEBUG createNativeListener: 'listening 50747'
2017-01-04 16:10:40 - DEBUG thaliManager: 'start listening for advertisements'
2017-01-04 16:10:40 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:40 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:10:40 - DEBUG thaliManager: 'start update advertising and listening'
2017-01-04 16:10:40 - DEBUG thaliWifiInfrastructure: 'listening 50749'
2017-01-04 16:10:40 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:40 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:10:40 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:40 - DEBUG thaliManager: 'starting thaliSendNotificationBasedOnReplication'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping thaliPeerPoolInterface'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping thaliPullReplicationFromNotification'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping thaliSendNotificationBasedOnReplication'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping advertising and listening'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping listening for advertisements'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping ThaliMobile'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG thaliManager: 'starting thaliPullReplicationFromNotification'
2017-01-04 16:10:40 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
2017-01-04 16:10:40 - DEBUG thaliManager: 'starting ThaliMobile'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'listening 50750'
2017-01-04 16:10:40 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:40 - DEBUG createNativeListener: 'listening 50751'
2017-01-04 16:10:40 - DEBUG thaliManager: 'start listening for advertisements'
2017-01-04 16:10:40 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:40 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:10:40 - DEBUG thaliManager: 'start update advertising and listening'
2017-01-04 16:10:40 - DEBUG thaliWifiInfrastructure: 'listening 50753'
2017-01-04 16:10:40 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:40 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:10:40 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:40 - DEBUG thaliManager: 'starting thaliSendNotificationBasedOnReplication'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping thaliPeerPoolInterface'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping thaliPullReplicationFromNotification'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping thaliSendNotificationBasedOnReplication'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping advertising and listening'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping listening for advertisements'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping ThaliMobile'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG thaliManager: 'starting thaliPullReplicationFromNotification'
2017-01-04 16:10:40 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
2017-01-04 16:10:40 - DEBUG thaliManager: 'starting ThaliMobile'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'listening 50754'
2017-01-04 16:10:40 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:40 - DEBUG createNativeListener: 'listening 50755'
2017-01-04 16:10:40 - DEBUG thaliManager: 'start listening for advertisements'
2017-01-04 16:10:40 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:40 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:10:40 - DEBUG thaliManager: 'start update advertising and listening'
2017-01-04 16:10:40 - DEBUG thaliWifiInfrastructure: 'listening 50757'
2017-01-04 16:10:40 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:40 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:10:40 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:40 - DEBUG thaliManager: 'starting thaliSendNotificationBasedOnReplication'
ok 1006 ThaliMobile.start was called once
ok 1007 ThaliMobile.start was called with 3 arguments
ok 1008 ThaliMobile.start was called with 'express.Router instance' as 1-st argument
ok 1009 ThaliMobile.start was called with 'getPskIdToSecret' as 2-st argument
ok 1010 ThaliMobile.start was called with 'networkType' as 3-st argument
ok 1011 ThaliMobile.startListeningForAdvertisements was called once
ok 1012 ThaliMobile.startListeningForAdvertisements was called with 0 arguments
ok 1013 ThaliMobile.startUpdateAdvertisingAndListening was called once
ok 1014 ThaliMobile.startUpdateAdvertisingAndListening was called with 0 arguments
ok 1015 ThaliSendNotificationBasedOnReplication.prototype.start was called once
ok 1016 ThaliSendNotificationBasedOnReplication.prototype.start was called with 1 arguments
ok 1017 ThaliSendNotificationBasedOnReplication.prototype.start was called with 'remoteKeys' as 1-st argument
ok 1018 ThaliPullReplicationFromNotification.prototype.start was called once
ok 1019 ThaliPullReplicationFromNotification.prototype.start was called with 1 arguments
ok 1020 ThaliPullReplicationFromNotification.prototype.start was called with 'remoteKeys' as 1-st argument
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping thaliPeerPoolInterface'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping thaliPullReplicationFromNotification'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping thaliSendNotificationBasedOnReplication'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping advertising and listening'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping listening for advertisements'
2017-01-04 16:10:40 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:40 - DEBUG thaliManager: 'stopping ThaliMobile'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:40 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:40 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# teardown
# setup
# ssdp server should be restarted when wifi toggled
2017-01-04 16:10:40 - DEBUG SimpleThaliTape: 'test was skipped, name: 'ssdp server should be restarted when wifi toggled''
# teardown
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - closeAll can close even when connections open'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - closeAll with promise'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - closeAll properly throws when closing a non open server with eatNotRunning set to false'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - closeAll works even with a server that is not listening yet witheatNotRunning set to true'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call of onCheckpointReached handler on a single db change'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call of multiple onCheckpointReached handlers on a single db change'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call of onCheckpointReached handler on multiple db changes that are in the checkpoints plugin delay interval'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call of onCheckpointReached handler on multiple db changes that are out of the checkpoints plugin delay interval'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - test defaultDirectory'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - test defaultAdapter'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - enqueue and run in order'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - enqueueAtTop and run backwards'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - mix enqueue and enqueueAtTop'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - queues handled independently'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - basic'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - another'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Correctly parses/stringifies USN'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - onPeerLost calls jxcore'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - onPeerDiscovered calls jxcore'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Can call start/stopListeningForAdvertisements'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Calling startListeningForAdvertisements twice is NOT an error'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Calling stopListeningForAdvertisements without calling start is NOT an error'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Can call start/stopUpdateAdvertisingAndListening'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Calling startUpdateAdvertisingAndListening twice is NOT an error'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Can call stopUpdateAdvertisingAndListening twice without start and it is not an error'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - cannot call connect when start listening for advertisements is not active'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - calling createNativeListener directly rejects'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - emits incomingConnectionState'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - emits routerPortConnectionFailed'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server connections all up'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - closing incoming stream cleans outgoing socket'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - closing incoming connection cleans outgoing socket'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - closing outgoing socket cleans associated mux stream'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - closing the whole server cleans everything up'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - we can get a ton of connections and data through and still clean up the server completely'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - simulate mux failure, make sure everything is cleaned up'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - timing out the incoming connection cleans everything up'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - calling createPeerListener without calling start produces error'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - calling createPeerListener after calling stop produces error'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can call createPeerListener'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - calling createPeerListener twice with same peerIdentifier should return the same port'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - closing connection to native listener closes everything and triggers new listener'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - closing mux closes listener and triggers a new listener'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerListener - no native server'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerListener - with native server'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerListener - with native server and data transfer'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener is idempotent'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - ask for new peer when we are at maximum and make sure we remove the right existing listener'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - ask for a new peer when we are not at maximum peers and make sure we do not remove any existing listeners'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - test timeout'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - multiple connections out'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - multiple bi-directional connections'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - multiple parallel calls'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - we shouldn't create a dead pipe'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can create servers manager'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - calling stop without start causes error'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can start/stop servers manager'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - starting twice resolves with listening port'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - terminateIncomingConnection will terminate a connection'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - terminate an Outgoing connection'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startListeningForAdvertisements should fail if start not called'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening should fail if start not called'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #stopListeningForAdvertisements many times'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #startListeningForAdvertisements many times'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #startUpdateAdvertisingAndListening many times'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #stopAdvertisingAndListening many times'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can get the network status before starting'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - error returned with bad router'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - all services are stopped when we call stop'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - make sure terminateConnection is properly hooked up'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - make sure terminateListener is properly hooked up'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - make sure we actually call kill connections properly'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - thaliMobileNativeWrapper is stopped when routerPortConnectionFailed is received'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - We fire failedNativeConnection event when we get failedConnection from thaliTcpServersManager'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can do HTTP requests between peers without coordinator'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - make sure bad PSK connections fail'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - peer changes handled from a queue'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - relaying discoveryAdvertisingStateUpdateNonTCP'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - thaliMobileNativeWrapper is stopped when incomingConnectionToPortNumberFailed is received'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - we successfully receive and replay discoveryAdvertisingStateUpdate'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startListeningForAdvertisements should fail if start not called'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening should fail if start not called'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #stopListeningForAdvertisements many times'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #startListeningForAdvertisements many times'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #startUpdateAdvertisingAndListening many times'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #stopAdvertisingAndListening many times'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #start - Causing native or wifi to fail will cause a promise reject '
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #start should fail if called twice in a row'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #stop should clear watchers and change peers'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - #start subscribes to the WiFi infrastructure events and #stop unsubscribes from them (in WiFi-only mode)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - does not emit duplicate discoveryAdvertisingStateUpdate'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - does not send duplicate availability changes'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can get the network status'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - wifi peer is marked unavailable if announcements stop'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native peer should be removed if no availability updates were received during availability timeout'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerAvailabilityChanged - peer added/removed to/from cache (native)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerAvailabilityChanged - peer added/removed to/from cache (wifi)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerAvailabilityChanged - peer with the same id, conn type, host, port and generation is ignored'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native available - new peer is cached'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native available - peer with same port and different generation is cached (BLUETOOTH)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native available - peer with the same port and generation but with enough time for generation to wrap around is cached (BLUETOOTH)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - native available - peer with greater generation is cached (MPCF)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - native available - peer with same or older generation is ignored (MPCF)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native unavailable - new peer is ignored'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native unavailable - cached peer is removed'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - networkChanged - fires peerAvailabilityChanged event for wifi peers'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - networkChanged - fires peerAvailabilityChanged event for native peers (BLUETOOTH)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - networkChanged - fires peerAvailabilityChanged event for native peers (MPCF)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - multiconnect failure - new peer is ignored (MPCF)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - multiconnect failure - cached peer fires peerAvailabilityChanged (MPCF)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - newAddressPort field (TCP_NATIVE)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - newAddressPort field (BLUETOOTH)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - newAddressPort field (MPCF)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - newAddressPort after listenerRecreatedAfterFailure event (BLUETOOTH)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #getPeerHostInfo - error when peer has not been discovered yet'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #getPeerHostInfo - returns discovered cached native peer (BLUETOOTH)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - #getPeerHostInfo - returns discovered cached native peer and calls `_multiConnect` to retrieve the port (MPCF)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #getPeerHostInfo - returns discovered cached wifi peer'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #disconnect fails on wifi peers'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #disconnect delegates native peers to the native wrapper'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - network changes emitted correctly'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - network changes not emitted in started state'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - network changes not emitted in stopped state'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - calls correct starts when network changes'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - We properly fire peer unavailable and then available when connection fails'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - If a peer is not available (and hence is not in the thaliMobile cache) but we already started trying to connect make sure recreate does not happen'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - does not fire duplicate events after peer listener recreation'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - test getters'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - start and kill'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - double start'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - start after kill'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - make sure ids are unique'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - check that forever agent can be destroyed'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test PeerDictionary basic functionality'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test PeerDictionary with multiple entries.'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - RESOLVED entries are removed before WAITING state entry.'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - WAITING entries are removed before CONTROLLED_BY_POOL state entry.'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - When CONTROLLED_BY_POOL entry is removed and kill is called.'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolDefault - single action'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolDefault - multiple actions'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolDefault - PSK Pool works'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolDefault - stop'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - make sure that start verifies queue length'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - bad enqueues'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - do not allow same object type'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - make sure we catch kill and dequeue'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - make sure our changes to the action leave kill as idempotent'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - make sure that stop removes all actions'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - We reject unrecognized connection type'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - We reject unrecognized action type'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - One action on bluetooth'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Two notification actions'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - replicateThroughProblems'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Replication goes first'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - wifi allows many parallel non-replication actions'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - wifi allows no more than 2 simultaneous replication actions for same peerID'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test BEACONS_RETRIEVED_AND_PARSED locally'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test HTTP_BAD_RESPONSE locally'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test NETWORK_PROBLEM locally'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Action fails when getPeerHostInfo fails'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call the start two times'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call the kill before calling the start'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call the kill immediately after the start'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call the kill while waiting a response from the server'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test to exceed the max content size locally'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Close the server socket while the client is waiting a response from the server. Local test.'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Close the client socket while the client is waiting a response from the server. Local test.'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #generatePreambleAndBeacons bad args'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #generatePreambleAndBeacons empty keys to notify'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #generatePreambleAndBeacons multiple keys to notify'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons invalid ECDH public key in beaconStreamWithPreAmble'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons invalid expiration in beaconStreamWithPreAmble'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons expiration out of range lower'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons expiration out of range lower'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons no beacons returns null'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons invalid size for encryptedBeaconKeyId in  beaconStreamWithPreAmble'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons addressBookCallback fails decrypt'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons addressBookCallback returns no matches'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons addressBookCallback returns spurious match'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons addressBookCallback returns public key'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - validate generatePskIdentityField'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - validate generatePskSecret'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - validate generatePskSecrets'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - validate generateBeaconStreamAndSecrets'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Add two Peers.'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - TCP_NATIVE peer loses DNS'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Received beacons with no values for us'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Notification action killed with a superseded'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Resolves an action locally'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Resolves an action locally using ThaliPeerPoolDefault'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Action fails because of a bad hostname.'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - hostaddress is removed when the action is running. '
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - notificationClient does not retry action with BAD_PEER resolution'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - notification client correctly handles peer availability changes of the same peer'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Client to server request locally'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test ThaliPskMapCache clean and expiration'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test ThaliPskMapCache getSecret and getPublic'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test ThaliPskMapCache multiple entries'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Start and stop ThaliNotificationServer'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Pass an empty array to ThaliNotificationServer.start'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Pass a string to ThaliNotificationServer.start'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Pass an empty parameter to ThaliNotificationServer.start'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make an HTTP request to /NotificationBeacons'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make an HTTP request to /NotificationBeacons (no keys)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make an HTTP request to /NotificationBeaconsbefore calling start'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure peerDictionaryKey is reasonable'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure start works'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure stop works'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Simple peer event'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Server is not there'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Server accepts & closes connection'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Server always returns 500'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Server always returns 401'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Server always returns 403'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure docs replicate'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Do nothing and make sure we time out'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Do something and make sure we time out'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Start replicating and then catch error when server goes'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure clone works'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - compareBufferArrays'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call start twice and get error'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Start and make sure it runs'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure getTimeWhenRun is right after start'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure getTimeWhenRun is -1 after function is called'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure getTimeWhenRun is -2 when start has not been called and null if stop is called without running'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test TransientState'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - No peers and empty database'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - One peer and empty DB'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - One peer with _Local set behind current seq'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - One peer with _Local set equal to current seq'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - One peer with _Local set ahead of current seq (and no this should not happen)'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Three peers, one not in DB, one behind and one ahead'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - More than maximum peers, make sure we only send maximum allowed'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - two peers with empty DB, update the doc'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - add doc and make sure tokens refresh when they expire'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - start and stop and start and stop'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - two identical starts in a row'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - two different starts in a row'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - two stops and a start and two stops'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - we properly enqueue requests so no then needed'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - test calculateSeqPointKeyId'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - server is not there'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - server accepts & closes connection'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - server always returns 500'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - create new seq doc'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - doc exists, need to get rev and update'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - update seq three times'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - rev got changed under us'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - fail if stop is called'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - stop after get but before put fails right'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - fail if stop is called'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - set seq for first time'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - Fail on bad seq value'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - do we cancel timer properly on an immediate?'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - do we wait for blocked update'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - test that we wait long enough'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - test that we pick up new sequences while we wait'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - test thali manager spies'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - test thali manager multiple starts and stops'
2017-01-04 16:10:40 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - ssdp server should be restarted when wifi toggled'
2017-01-04 16:10:40 - DEBUG SimpleThaliTape: 'all unit tests succeeded, platformName: 'android''
2017-01-04 16:10:40 - DEBUG SimpleThaliTape: '****TEST_LOGGER:[PROCESS_ON_EXIT_SUCCESS]****'
2017-01-04 16:10:40 - INFO runTests: 'Finished'

1..1020
# tests 1020
# pass  1020

# ok

2017-01-04 16:10:42 - INFO runTests: 'Starting tests. Network type: BOTH. Platform: android'
2017-01-04 16:10:42 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testMakeIntoCloseAllServer.js'
2017-01-04 16:10:42 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPouchDBCheckpointPlugin.js'
2017-01-04 16:10:42 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPouchDBGenerator.js'
2017-01-04 16:10:42 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPromiseQueue.js'
2017-01-04 16:10:42 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testTests.js'
2017-01-04 16:10:42 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testUsn.js'
2017-01-04 16:10:42 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testNativeMethod.js'
2017-01-04 16:10:42 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNative.js'
2017-01-04 16:10:42 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeAndroid.js'
2017-01-04 16:10:42 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeiOS.js'
2017-01-04 16:10:42 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeDiscoveryCoordinated.js'
2017-01-04 16:10:42 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testCreateNativeListener.js'
2017-01-04 16:10:42 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testCreatePeerListener.js'
2017-01-04 16:10:42 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliTcpServersManager.js'
2017-01-04 16:10:42 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeWrapper.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliWifiInfrastructure.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobile.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerAction.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerDictionary.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolDefault.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolInterface.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolOneAtATime.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotification.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationAction.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationBeacons.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationClient.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationLocal.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationServer.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPullReplicationFromNotification.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPullReplicationFromNotificationCoordinated.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationPeerAction.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationPeerActionCoordinated.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationUtilities.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliSendNotificationBasedOnReplication.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testLocalSeqManager.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testLocalSeqManagerCoordinated.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliManager.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliManagerCoordinated.js'
2017-01-04 16:10:43 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testSSDPServer.js'
2017-01-04 16:10:43 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:43 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:43 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:43 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:43 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:43 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
TAP version 13
# setup
# closeAll can close even when connections open
2017-01-04 16:10:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 1 not possible to connect to the server anymore
# teardown
# setup
# closeAll with promise
2017-01-04 16:10:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 2 not possible to connect to the server anymore
# teardown
# setup
# closeAll properly throws when closing a non open server with eatNotRunning set to false
2017-01-04 16:10:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 3 Got the right error
# teardown
# setup
# closeAll works even with a server that is not listening yet witheatNotRunning set to true
2017-01-04 16:10:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# teardown
# setup
# Call of onCheckpointReached handler on a single db change
# teardown
# setup
# Call of multiple onCheckpointReached handlers on a single db change
# teardown
# setup
# Call of onCheckpointReached handler on multiple db changes that are in the checkpoints plugin delay interval
ok 4 the checkpointReached handler should be called once. Called 1 time(s)
# teardown
# setup
# Call of onCheckpointReached handler on multiple db changes that are out of the checkpoints plugin delay interval
# teardown
# setup
# test defaultDirectory
ok 5 should be equal
ok 6 should be equal
ok 7 should be equal
# teardown
# setup
# test defaultAdapter
ok 8 should be equal
ok 9 should be equal
ok 10 should be equal
ok 11 should be equal
ok 12 should be equal
ok 13 should be equal
ok 14 should be equal
ok 15 should be equal
# teardown
# setup
# enqueue and run in order
ok 16 firstPromise setTimeout
ok 17 firstPromise result
ok 18 firstPromise testValue
ok 19 secondPromise setTimeout
ok 20 secondPromise result
ok 21 secondPromise testValue
ok 22 thirdPromise in promise
ok 23 thirdPromise result
ok 24 thirdPromise testValue
# teardown
# setup
# enqueueAtTop and run backwards
ok 25 thirdPromise - first to run
ok 26 thirdPromise - in resolve
ok 27 secondPromise - second to run
ok 28 secondPromise - in catch
ok 29 firstPromise - third to run
ok 30 firstPromise - in then
ok 31 testing promises
# teardown
# setup
# mix enqueue and enqueueAtTop
ok 32 fourth
ok 33 fourth
ok 34 second
ok 35 secondPromise - in then
ok 36 first
ok 37 firstPromise - in catch
ok 38 third
ok 39 thirdPromise - in then
ok 40 testingPromises
# teardown
# setup
# queues handled independently
ok 41 all short operations completed before the long resolves
# teardown
# setup
# basic
ok 42 sane
# teardown
# setup
# another
ok 43 sane
# teardown
# setup
# Correctly parses/stringifies USN
ok 44 correctly parses USN string
ok 45 throws if usn has invalid prefix
ok 46 throws if usn has invalid identifier format
ok 47 throws if usn has invalid generation
ok 48 correctly stringifies peer
# teardown
# setup
# onPeerLost calls jxcore
2017-01-04 16:10:46 - DEBUG SimpleThaliTape: 'test was skipped, name: 'onPeerLost calls jxcore''
# teardown
# setup
# onPeerDiscovered calls jxcore
2017-01-04 16:10:46 - DEBUG SimpleThaliTape: 'test was skipped, name: 'onPeerDiscovered calls jxcore''
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:46 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
# setup
# Can call start/stopListeningForAdvertisements
2017-01-04 16:10:46 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:46 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:46 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:46 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 49 Can call startListeningForAdvertisements without error
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:46 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 50 Can call stopListeningForAdvertisements without error
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:46 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 51 Should be able to call stopListeningForAdvertisements in teardown
ok 52 Should be able to call stopAdvertisingAndListening in teardown
# setup
# Calling startListeningForAdvertisements twice is NOT an error
2017-01-04 16:10:46 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:46 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:46 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:46 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 53 Can call startListeningForAdvertisements without error
ok 54 Can call startListeningForAdvertisements twice without error
# teardown
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:46 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 55 Should be able to call stopListeningForAdvertisements in teardown
ok 56 Should be able to call stopAdvertisingAndListening in teardown
# setup
# Calling stopListeningForAdvertisements without calling start is NOT an error
ok 57 Can call stopListeningForAdvertisements without error
ok 58 Can call stopListeningForAdvertisements without error
# teardown
ok 59 Should be able to call stopListeningForAdvertisements in teardown
ok 60 Should be able to call stopAdvertisingAndListening in teardown
# setup
# Can call start/stopUpdateAdvertisingAndListening
2017-01-04 16:10:46 - DEBUG thaliWifiInfrastructure: 'listening 50765'
2017-01-04 16:10:46 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:46 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:10:46 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:46 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:46 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 61 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:46 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 62 Can call stopAdvertisingAndListening without error
# teardown
ok 63 Should be able to call stopListeningForAdvertisements in teardown
ok 64 Should be able to call stopAdvertisingAndListening in teardown
# setup
# Calling startUpdateAdvertisingAndListening twice is NOT an error
2017-01-04 16:10:46 - DEBUG thaliWifiInfrastructure: 'listening 50767'
2017-01-04 16:10:46 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:46 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:10:46 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:46 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:46 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 65 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:10:46 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:46 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:46 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 66 Can call startUpdateAdvertisingAndListening twice without error
# teardown
ok 67 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:46 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 68 Should be able to call stopAdvertisingAndListening in teardown
# setup
# Can call stopUpdateAdvertisingAndListening twice without start and it is not an error
ok 69 Can call startUpdateAdvertisingAndListening without error
ok 70 Can call stopAdvertisingAndListening without error
# teardown
ok 71 Should be able to call stopListeningForAdvertisements in teardown
ok 72 Should be able to call stopAdvertisingAndListening in teardown
# setup
# cannot call connect when start listening for advertisements is not active
ok 73 got right error
# teardown
ok 74 Should be able to call stopListeningForAdvertisements in teardown
ok 75 Should be able to call stopAdvertisingAndListening in teardown
# setup
# calling createNativeListener directly rejects
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'listening 50769'
ok 76 Should throw
# teardown
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - close'
# setup
# emits incomingConnectionState
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'listening 50771'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 77 initial connection state should be CONNECTED
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 78 final connection state should be DISCONNECTED
# teardown
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - close'
# setup
# emits routerPortConnectionFailed
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'listening 50774'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - error Error: connect ECONNREFUSED'
ok 79 tried to connect to right port
ok 80 failed due to refused connection
ok 81 routerPortConnectionFailed is emitted
# teardown
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# setup
# native server connections all up
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'listening 50778'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - created'
ok 82 Send/recvd #1 should be equal length
ok 83 Send/recvd #1 should be same
ok 84 Send/recvd #2 should be equal length
ok 85 Send/recvd #2 should be same
ok 86 Should be exactly 2 client sockets
# teardown
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# setup
# native server - closing incoming stream cleans outgoing socket
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'listening 50783'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - finished'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
ok 87 socket shouldn't close until after stream
ok 88 incoming remains open
# teardown
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
# setup
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# native server - closing incoming connection cleans outgoing socket
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'listening 50787'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 89 we should not have gotten an error
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 90 socket shouldn't close until after incoming
ok 91 incoming is cleaned up
# teardown
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - close'
# setup
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# native server - closing outgoing socket cleans associated mux stream
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'listening 50791'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - finished'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
ok 92 stream was closed
ok 93 incoming should survive
ok 94 mux should have no streams
# teardown
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
# setup
# native server - closing the whole server cleans everything up
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'listening 50795'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 95 we should not have gotten an error
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 96 Buffers are identical
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 97 native server is nulled out
ok 98 native server should be closed
ok 99 incoming has been removed
ok 100 Incoming should be done
ok 101 The mux object should be closed
ok 102 The mux stream should be closed
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
# teardown
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# setup
# native server - we can get a ton of connections and data through and still clean up the server completely
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'listening 50799'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 1'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 2'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 3'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 4'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 5'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 6'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 7'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 8'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 9'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 2 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 3 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 0 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 1 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 2 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 3 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 0 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 1 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 2 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 3 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 0 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 1 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 2 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 3 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 0 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 1 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 2 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 3 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 0 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 1 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 2 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 3 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 0 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 1 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 2 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 3 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 0 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 1 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 2 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 3 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 0 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 1 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 2 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 3 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 0 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 1 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 2 - created'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 3 - created'
2017-01-04 16:10:46 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 2 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 3 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 0 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 1 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 2 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 1 - 3 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 1 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 0 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 1 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 2 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 2 - 3 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 2 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 0 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 1 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 2 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 3 - 3 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 3 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 0 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 1 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 2 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 4 - 3 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 4 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 0 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 1 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 2 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 5 - 3 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 5 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 0 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 1 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 2 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 6 - 3 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 6 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 0 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 1 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 2 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 7 - 3 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 7 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 0 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 1 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 2 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 8 - 3 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 8 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 0 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 1 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 2 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 9 - 3 - closed'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 9 - close'
ok 103 native server is nulled out
ok 104 native server should be closed
ok 105 incoming has been removed
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 9 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 8 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 7 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 6 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 5 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 4 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 3 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 2 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 1 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 9 - 3 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 9 - 2 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 9 - 1 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 9 - 0 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 8 - 3 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 8 - 2 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 8 - 1 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 8 - 0 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 7 - 3 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 7 - 2 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 7 - 1 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 7 - 0 - close'
2017-01-04 16:10:46 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 6 - 3 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 6 - 2 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 6 - 1 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 6 - 0 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 5 - 3 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 5 - 2 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 5 - 1 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 5 - 0 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 4 - 3 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 4 - 2 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 4 - 1 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 4 - 0 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 3 - 3 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 3 - 2 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 3 - 1 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 3 - 0 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 2 - 3 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 2 - 2 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 2 - 1 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 2 - 0 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 1 - 3 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 1 - 2 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 1 - 1 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 1 - 0 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 3 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 2 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 1 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# native server - simulate mux failure, make sure everything is cleaned up
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50851'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 106 we should not have gotten an error
2017-01-04 16:10:47 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 107 Buffers are identical
2017-01-04 16:10:47 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 108 server should be fine
ok 109 server should be open
ok 110 incoming has been removed
ok 111 The mux object should be closed
ok 112 The mux stream should be closed
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
# setup
# native server - timing out the incoming connection cleans everything up
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50855'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 113 we should not have gotten an error
2017-01-04 16:10:47 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 114 Buffers are identical
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - incoming socket timeout'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 115 server should be fine
ok 116 server should be open
ok 117 incoming has been removed
ok 118 The mux object should be closed
ok 119 The mux stream should be closed
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
# setup
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# calling createPeerListener without calling start produces error
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50860'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# calling createPeerListener after calling stop produces error
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50863'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# can call createPeerListener
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50866'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'creating new server for peerId'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peerId listening on 50867'
ok 120 port must be in range
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# calling createPeerListener twice with same peerIdentifier should return the same port
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50870'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50871'
ok 121 port values should be the same
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - closing connection to native listener closes everything and triggers new listener
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50874'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'creating new server for peer2'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer2 listening on 50875'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Issuing callNative for peer2'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'callNative for peer2 connected'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer2'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 122 Data should be of same length and content
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'We are emitting failedConnection with error "Error: Outgoing closed, recreating connection" and peerIdentifier "peer2"'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Will try to recreate server for peer2'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'creating new server for peer2'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer2 listening on 50880'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'We are emitting listenerRecreatedAfterFailure with peerIdentifier peer2 and portNumber 50880'
ok 123 same peer ID
ok 124 different ports
2017-01-04 16:10:47 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# createPeerListener - closing mux closes listener and triggers a new listener
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50883'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'creating new server for peer2'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer2 listening on 50884'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Issuing callNative for peer2'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'callNative for peer2 connected'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer2'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 125 Data should be of same length and content
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'We are emitting failedConnection with error "Error: Outgoing closed, recreating connection" and peerIdentifier "peer2"'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Will try to recreate server for peer2'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'creating new server for peer2'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer2 listening on 50889'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'We are emitting listenerRecreatedAfterFailure with peerIdentifier peer2 and portNumber 50889'
ok 126 same peer ID
ok 127 different ports
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# setup
# peerListener - no native server
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
ok 128 Can call startUpdateAdvertisingAndListening without error
ok 129 Can call startListeningForAdvertisements without error
2017-01-04 16:10:47 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50892'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50893'
ok 130 peerPort should not be nativePort
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Issuing callNative for peer1'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'callNative for peer1 connected'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer1'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'We are emitting failedConnection with error "Error: Cannot Connect To Peer" and peerIdentifier "peer1"'
ok 131 Should not get event until connection is made
ok 132 reason should be as expected
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Will try to recreate server for peer1'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50896'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'We are emitting listenerRecreatedAfterFailure with peerIdentifier peer1 and portNumber 50896'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# peerListener - with native server
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
ok 133 Can call startUpdateAdvertisingAndListening without error
ok 134 Can call startListeningForAdvertisements without error
2017-01-04 16:10:47 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50899'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50900'
ok 135 peerPort != nativePort
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Issuing callNative for peer1'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'callNative for peer1 connected'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer1'
ok 136 Should not get unexpected connection
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# peerListener - with native server and data transfer
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50905'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50906'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Issuing callNative for peer1'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'callNative for peer1 connected'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer1'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
ok 137 Data should be of same length and content
ok 138 Data should be of same length and content
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:47 - WARN createPeerListener: 'outgoing - mux <-> outgoing TCP/IP client connection to Android - peer1 -  error Error: read ECONNRESET'
# setup
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# createPeerListener is idempotent
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
ok 139 Can call startUpdateAdvertisingAndListening without error
ok 140 Can call startListeningForAdvertisements without error
2017-01-04 16:10:47 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50912'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50913'
ok 141 Second call to existing peerListener returns existing port
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - ask for new peer when we are at maximum and make sure we remove the right existing listener
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50916'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - ask for a new peer when we are not at maximum peers and make sure we do not remove any existing listeners
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50919'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - test timeout
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50922'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - multiple connections out
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50925'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - multiple bi-directional connections
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50928'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - multiple parallel calls
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50931'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# createPeerListener - we shouldn't create a dead pipe
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
ok 142 Can call startUpdateAdvertisingAndListening without error
ok 143 Can call startListeningForAdvertisements without error
2017-01-04 16:10:47 - DEBUG createPeerListener: 'creating new server for peer1'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50934'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for peer1 listening on 50935'
ok 144 peerPort != nativePort
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Issuing callNative for peer1'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'callNative for peer1 connected'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID peer1'
ok 145 Should not get unexpected connection
2017-01-04 16:10:47 - DEBUG thaliTcpServersManager: 'Terminate outgoing connection called on peerID peer1 with port 50935'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'incoming (TCP) - Node TCP/IP client - is already closed'
ok 146 passed
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# can create servers manager
ok 147 serversManager must not be null
ok 148 serversManager must be an object
# teardown
# setup
# calling stop without start causes error
ok 149 We need to call start first
# teardown
# setup
# can start/stop servers manager
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50938'
ok 150 port must be in range
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
# setup
# starting twice resolves with listening port
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50939'
ok 151 second start should return same port
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
# setup
# terminateIncomingConnection will terminate a connection
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50941'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 152 we should be connected
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
ok 153 now we are disconnected
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
# setup
# terminate an Outgoing connection
2017-01-04 16:10:47 - DEBUG thaliTcpServersManager: 'Terminate outgoing connection called on peerID foo with port 32'
ok 154 Passed bogus id
2017-01-04 16:10:47 - DEBUG thaliTcpServersManager: 'Terminate outgoing connection called on peerID foo with port 901'
ok 155 Passed good id but bogus port
2017-01-04 16:10:47 - DEBUG thaliTcpServersManager: 'Terminate outgoing connection called on peerID foo with port 900'
ok 156 Passed right context
ok 157 Right server
ok 158 No error should be set
ok 159 Retry should be false
ok 160 We called close server
# teardown
# setup
# #startListeningForAdvertisements should fail if start not called
ok 161 specific error should be returned
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 162 must be stopped
# setup
# #startUpdateAdvertisingAndListening should fail if start not called
ok 163 specific error should be returned
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 164 must be stopped
# setup
# should be able to call #stopListeningForAdvertisements many times
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'listening 50943'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50944'
ok 165 no errors
ok 166 still no errors
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 167 must be stopped
# setup
# should be able to call #startListeningForAdvertisements many times
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'listening 50945'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50946'
2017-01-04 16:10:47 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:47 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 168 no errors
ok 169 still no errors
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 170 must be stopped
# setup
# should be able to call #startUpdateAdvertisingAndListening many times
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'listening 50947'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50948'
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 50950'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 171 no errors
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 172 still no errors
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 173 must be stopped
# setup
# should be able to call #stopAdvertisingAndListening many times
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'listening 50951'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50952'
ok 174 no errors
ok 175 still no errors
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 176 must be stopped
# setup
# can get the network status before starting
ok 177 network status should have certain non-empty properties
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 178 must be stopped
# setup
# error returned with bad router
2017-01-04 16:10:47 - ERROR thaliMobileNativeWrapper: 'Unable to use the given router: TypeError: Router.use() requires middleware function but got a string'
ok 179 specific error expected
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 180 must be stopped
# setup
# all services are stopped when we call stop
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'listening 50953'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50954'
2017-01-04 16:10:47 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:47 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 50956'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - Creating Mux'
ok 181 connection to servers manager should succeed after starting
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
ok 182 connection to router server should succeed after starting
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 183 is stopped after calling stop
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
ok 184 connection to servers manager should fail after stopping
ok 185 connection to router server should fail after stopping
# teardown
ok 186 must be stopped
# setup
# make sure terminateConnection is properly hooked up
ok 187 called with right arguments
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 188 must be stopped
# setup
# make sure terminateListener is properly hooked up
ok 189 called with right arguments
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 190 must be stopped
# setup
# make sure we actually call kill connections properly
ok 191 specific error expected
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 192 must be stopped
# setup
# thaliMobileNativeWrapper is stopped when routerPortConnectionFailed is received
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'listening 50961'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50962'
2017-01-04 16:10:47 - INFO thaliMobileNativeWrapper: 'routerPortConnectionFailed - {"routerPort":50961,"error":{}}'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 193 failure reason is as expected
ok 194 error description is as expected
ok 195 must be stopped
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 196 must be stopped
# setup
# We fire failedNativeConnection event when we get failedConnection from thaliTcpServersManager
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'listening 50963'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50964'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Received peer availability changed event with {"peerIdentifier":"some-identifier","peerAvailable":false,"portNumber":null}'
ok 197 peerIdentifier matches
ok 198 error description matches
ok 199 connection type is tcp
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'handlePeerUnavailable - Emitting {"peerIdentifier":"some-identifier","peerAvailable":false,"generation":null,"portNumber":null}'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 200 must be stopped
# setup
# can do HTTP requests between peers without coordinator
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'listening 50965'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50966'
2017-01-04 16:10:47 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:47 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 50968'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Received peerAvailabilityChanged event from native layer [{"peerIdentifier":"foo","peerAvailable":true}]'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Received peer availability changed event with {"peerIdentifier":"foo","peerAvailable":true}'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'creating new server for foo'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for foo listening on 50969'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'handlePeerAvailabilityChanged - Emitting {"peerIdentifier":"foo","peerAvailable":true,"portNumber":50969}'
2017-01-04 16:10:47 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"foo","connectionType":"AndroidBluetooth","peerAvailable":true,"newAddressPort":false}'
2017-01-04 16:10:47 - DEBUG testUtils: 'We got a peer {"peerIdentifier":"foo","peerAvailable":true,"portNumber":50969}'
2017-01-04 16:10:47 - WARN testUtils: 'Retry count for getSamePeerWithRetry is 1'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Issuing callNative for foo'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - Creating Mux'
2017-01-04 16:10:47 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'callNative for foo connected'
2017-01-04 16:10:47 - DEBUG createPeerListener: 'Creating outgoing connection to native layer for peerID foo'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - created'
2017-01-04 16:10:47 - DEBUG testUtils: 'Got response data'
2017-01-04 16:10:47 - DEBUG testUtils: 'Got end'
ok 201 response body should match testData
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
2017-01-04 16:10:47 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'stream - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - closed'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'mux - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 202 must be stopped
2017-01-04 16:10:47 - DEBUG createNativeListener: 'incoming - incoming Android TCP/IP client connection <-> Mux - 0 - close'
2017-01-04 16:10:47 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'outgoing - mux stream <-> outgoing TCP/IP client connection to node - 0 - 0 - close'
# setup
# make sure bad PSK connections fail
2017-01-04 16:10:47 - DEBUG SimpleThaliTape: 'test was skipped, name: 'make sure bad PSK connections fail''
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 203 must be stopped
# setup
# peer changes handled from a queue
2017-01-04 16:10:47 - DEBUG SimpleThaliTape: 'test was skipped, name: 'peer changes handled from a queue''
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 204 must be stopped
# setup
# relaying discoveryAdvertisingStateUpdateNonTCP
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'listening 50976'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50977'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 205 discovery is active
ok 206 advertising is active
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 207 must be stopped
# setup
# thaliMobileNativeWrapper is stopped when incomingConnectionToPortNumberFailed is received
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'listening 50978'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50979'
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 50981'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:47 - INFO thaliMobileNativeWrapper: 'incomingConnectionToPortNumberFailed: 50979'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 208 right error reason
ok 209 Stop should be fine
ok 210 same port
ok 211 we should be off
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
ok 212 must be stopped
# setup
# we successfully receive and replay discoveryAdvertisingStateUpdate
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'listening 50982'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50983'
2017-01-04 16:10:47 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 213 discoveryActive matches
ok 214 advertisingActive matches
2017-01-04 16:10:47 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 215 discoveryActive matches
ok 216 advertisingActive matches
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'listening 50984'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50985'
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 50987'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 217 discoveryActive matches
ok 218 advertisingActive matches
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 219 discoveryActive matches
ok 220 advertisingActive matches
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'listening 50988'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'listening 50989'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:47 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:10:47 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 221 must be stopped
# setup
ok 222 should be in started state
# After #startListeningForAdvertisements call wifiPeerAvailabilityChanged events should be emitted
2017-01-04 16:10:47 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"66987d33-06dd-4508-855d-ae5ac5d76abd","generation":0,"hostAddress":"ade1caf9","portNumber":8080}'
ok 223 peer identifier should match
ok 224 generation should be 0
ok 225 host address should match
ok 226 port should match
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"66987d33-06dd-4508-855d-ae5ac5d76abd","generation":0,"portNumber":null,"hostAddress":null}'
ok 227 generation should be 0
ok 228 host address should be null
ok 229 port should should be null
# teardown
ok 230 should not be in started state
# setup
ok 231 should be in started state
# #startUpdateAdvertisingAndListening correctly updates USN
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 50990'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 232 first invocation sets 0 generation
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 233 second invocation doesnâ€™t change UUID but increments generation
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 234 third invocation doesnâ€™t change UUID but increments generation
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 235 should not be in started state
# setup
ok 236 should be in started state
# #startUpdateAdvertisingAndListening generates new peerIdentifier after #stopAdvertisingAndListening has been called
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 50991'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 50992'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 237 new UUID after advertising is stopped
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 238 should not be in started state
# setup
ok 239 should be in started state
# #startUpdateAdvertisingAndListening sends correct requests
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 50993'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 240 advertise-alive fired with expected usn
ok 241 advertise-bye fired with expected usn
# teardown
ok 242 should not be in started state
# setup
ok 243 should be in started state
# messages with invalid location or USN should be ignored
2017-01-04 16:10:47 - WARN thaliWifiInfrastructure: 'Failed to parse a valid port number from location: http://foo.bar:90000'
ok 244 should not have emitted with invalid port
2017-01-04 16:10:47 - WARN thaliWifiInfrastructure: 'Invalid USN (expected "data:" prefix): foobar'
ok 245 should not have emitted with invalid USN
# teardown
ok 246 should not be in started state
# setup
ok 247 should be in started state
# Delayed own message are still ignored after advertisement has been toggled on and off several times
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 50994'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 50995'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 50996'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 50997'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 248 all captured messages are not handled
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 249 should not be in started state
# setup
ok 250 should be in started state
# verify that Thali-specific messages are filtered correctly
ok 251 messages with irrelevant NT should be ignored
ok 252 relevant messages should not be ignored
# teardown
ok 253 should not be in started state
# setup
ok 254 should be in started state
# #startListeningForAdvertisements should fail if start not called
ok 255 specific error should be returned
# teardown
ok 256 should not be in started state
# setup
ok 257 should be in started state
# #startUpdateAdvertisingAndListening should fail if start not called
ok 258 specific error should be returned
# teardown
ok 259 should not be in started state
# setup
ok 260 should be in started state
# #start should fail if called twice in a row
ok 261 specific error should be received
# teardown
ok 262 should not be in started state
# setup
ok 263 should be in started state
# should not be started after stop is called
ok 264 should not be started
ok 265 should not be listening
ok 266 should not target listening
ok 267 should not be advertising
ok 268 should not target advertising
# teardown
ok 269 should not be in started state
# setup
ok 270 should be in started state
# #startUpdateAdvertisingAndListening should fail invalid router has been passed
2017-01-04 16:10:47 - ERROR thaliWifiInfrastructure: 'Unable to use the given router: TypeError: Router.use() requires middleware function but got a string'
ok 271 specific error should be received
# teardown
ok 272 should not be in started state
# setup
ok 273 should be in started state
# #startUpdateAdvertisingAndListening should fail if router server starting fails
2017-01-04 16:10:47 - ERROR thaliWifiInfrastructure: 'Router server emitted an error: Error: listen EADDRINUSE'
ok 274 specific error expected
# teardown
ok 275 should not be in started state
# setup
ok 276 should be in started state
# #startUpdateAdvertisingAndListening should start hosting given router object
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 50999'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 277 server should respond with code 200
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 278 should not be in started state
# setup
ok 279 should be in started state
# #startUpdateAdvertisingAndListening bad psk should be rejected object
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 51001'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 280 Connection should be rejected
# teardown
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 281 should not be in started state
# setup
ok 282 should be in started state
# #stop can be called multiple times in a row
ok 283 should be in stopped state
ok 284 should still be in stopped state
# teardown
ok 285 should not be in started state
# setup
ok 286 should be in started state
# #startListeningForAdvertisements can be called multiple times in a row
2017-01-04 16:10:47 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 287 should be in listening state
ok 288 should still be in listening state
# teardown
ok 289 should not be in started state
# setup
ok 290 should be in started state
# #stopListeningForAdvertisements can be called multiple times in a row
ok 291 should not be in listening state
ok 292 should still not be in listening state
# teardown
ok 293 should not be in started state
# setup
ok 294 should be in started state
# #stopAdvertisingAndListening can be called multiple times in a row
ok 295 should not be in advertising state
ok 296 should still not be in advertising state
# teardown
ok 297 should not be in started state
# setup
ok 298 should be in started state
# functions are run from a queue in the right order
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 51003'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:47 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 299 call order must match
# teardown
ok 300 should not be in started state
# setup
ok 301 should be in started state
# does not get peer changes from self
2017-01-04 16:10:47 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:10:47 - DEBUG thaliWifiInfrastructure: 'listening 51004'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:47 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:48 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:48 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:48 - INFO nodeSSDPServerLogger: 'Socket bound'
# teardown
2017-01-04 16:10:49 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 302 should not be in started state
# setup
ok 303 should be in started state
# Make sure we turn on and off the Android multicast locks
2017-01-04 16:10:49 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:49 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 304 We have locked
ok 305 We have not unlocked
ok 306 No new locks
ok 307 We unlocked
# teardown
ok 308 should not be in started state
# setup
ok 309 should be in started state
# Make sure we do not use Android locks when we are not on Android
2017-01-04 16:10:49 - DEBUG SimpleThaliTape: 'test was skipped, name: 'Make sure we do not use Android locks when we are not on Android''
# teardown
ok 310 should not be in started state
# setup
ok 311 should be in started state
# network changes are ignored while stopping
2017-01-04 16:10:49 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:49 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:10:49 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"off","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":null,"ssidName":null}'
2017-01-04 16:10:49 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:49 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:49 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
ok 312 should not be called
# teardown
ok 313 should not be in started state
# setup
ok 314 should be in started state
# #startListeningForAdvertisements returns error if wifi is off and fires event when on
2017-01-04 16:10:49 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"off","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":null,"ssidName":null}'
2017-01-04 16:10:49 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
ok 315 wifi should be off
ok 316 specific error expected
2017-01-04 16:10:49 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:49 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:49 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
ok 317 discoveryActive should be true
2017-01-04 16:10:49 - INFO nodeSSDPClientLogger: 'Socket bound'
# teardown
ok 318 should not be in started state
# setup
ok 319 should be in started state
# #startUpdateAdvertisingAndListening returns error if wifi is off and fires event when on
2017-01-04 16:10:49 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"off","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":null,"ssidName":null}'
2017-01-04 16:10:49 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
ok 320 wifi should be off
ok 321 specific error expected
2017-01-04 16:10:49 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:49 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:49 - DEBUG thaliWifiInfrastructure: 'listening 51005'
2017-01-04 16:10:49 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:49 - INFO nodeSSDPServerLogger: 'UDP socket bound'
ok 322 advertisingActive should be true
2017-01-04 16:10:49 - INFO nodeSSDPServerLogger: 'Socket bound'
# teardown
2017-01-04 16:10:49 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 323 should not be in started state
# setup
ok 324 should be in started state
# when wifi is enabled discovery is activated and peers become available
2017-01-04 16:10:49 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"off","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":null,"ssidName":null}'
2017-01-04 16:10:49 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
ok 325 wifi should be off
ok 326 specific error expected
2017-01-04 16:10:49 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:10:49 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:10:49 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:49 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:10:50 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"50b2a718-6457-44b0-8e79-f4d8773909b8","generation":0,"hostAddress":"ade1caf9","portNumber":8080}'
ok 327 peer identifier should match
ok 328 host address should match
ok 329 port should match
# teardown
ok 330 should not be in started state
# setup
# #startListeningForAdvertisements should fail if start not called
ok 331 specific error should be returned
# teardown
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"foo","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 332 error should be null
ok 333 error should be null
# setup
# #startUpdateAdvertisingAndListening should fail if start not called
ok 334 specific error should be returned
# teardown
ok 335 error should be null
ok 336 error should be null
# setup
# should be able to call #stopListeningForAdvertisements many times
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'listening 51006'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'listening 51007'
ok 337 error should be null
ok 338 error should be null
ok 339 error should be null
ok 340 error should be null
# teardown
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 341 error should be null
ok 342 error should be null
# setup
# should be able to call #startListeningForAdvertisements many times
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'listening 51008'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'listening 51009'
2017-01-04 16:10:50 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:50 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:10:50 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:50 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 343 error should be null
ok 344 error should be null
ok 345 error should be null
ok 346 error should be null
# teardown
2017-01-04 16:10:50 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:50 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 347 error should be null
ok 348 error should be null
# setup
# should be able to call #startUpdateAdvertisingAndListening many times
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'listening 51010'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'listening 51011'
2017-01-04 16:10:50 - DEBUG thaliWifiInfrastructure: 'listening 51012'
2017-01-04 16:10:50 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:50 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:50 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:50 - DEBUG thaliWifiInfrastructure: 'listening 51014'
2017-01-04 16:10:50 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:50 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:10:50 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 349 error should be null
ok 350 error should be null
2017-01-04 16:10:50 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:50 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:50 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:10:50 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:50 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:10:50 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 351 error should be null
ok 352 error should be null
# teardown
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:50 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 353 error should be null
ok 354 error should be null
# setup
# should be able to call #stopAdvertisingAndListening many times
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'listening 51015'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'listening 51016'
ok 355 error should be null
ok 356 error should be null
ok 357 error should be null
ok 358 error should be null
# teardown
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 359 error should be null
ok 360 error should be null
# setup
# #start - Causing native or wifi to fail will cause a promise reject 
2017-01-04 16:10:50 - ERROR thaliMobileNativeWrapper: 'Unable to use the given router: TypeError: Router.use() requires middleware function but got a Null'
ok 361 This should not cause wifi to fail
ok 362 native router should be bad
# teardown
ok 363 error should be null
ok 364 error should be null
# setup
# #start should fail if called twice in a row
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'listening 51017'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'listening 51018'
ok 365 first call should succeed
ok 366 first call should succeed
ok 367 specific error should be returned
# teardown
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 368 error should be null
ok 369 error should be null
# setup
# #stop should clear watchers and change peers
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'listening 51019'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'listening 51020'
2017-01-04 16:10:50 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:50 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'Received peer availability changed event with {"peerIdentifier":"urn:uuid:891656ee-93dd-462e-95a5-6616bb7f2445","peerAvailable":true}'
2017-01-04 16:10:50 - DEBUG createPeerListener: 'creating new server for urn:uuid:891656ee-93dd-462e-95a5-6616bb7f2445'
2017-01-04 16:10:50 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for urn:uuid:891656ee-93dd-462e-95a5-6616bb7f2445 listening on 51021'
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'handlePeerAvailabilityChanged - Emitting {"peerIdentifier":"urn:uuid:891656ee-93dd-462e-95a5-6616bb7f2445","peerAvailable":true,"portNumber":51021}'
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"urn:uuid:891656ee-93dd-462e-95a5-6616bb7f2445","connectionType":"AndroidBluetooth","peerAvailable":true,"newAddressPort":false}'
ok 370 Watchers have one entry for our connection type
ok 371 Peer availabilities has one entry for our connection type
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"urn:uuid:891656ee-93dd-462e-95a5-6616bb7f2445","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:50 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 372 No watchers
ok 373 No peers
ok 374 No watchers
ok 375 No peers
ok 376 No watchers
ok 377 No peers
# teardown
ok 378 error should be null
ok 379 error should be null
# setup
# #start subscribes to the WiFi infrastructure events and #stop unsubscribes from them (in WiFi-only mode)
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: '#start subscribes to the WiFi infrastructure events and #stop unsubscribes from them (in WiFi-only mode)''
# teardown
ok 380 error should be null
ok 381 error should be null
# setup
# does not emit duplicate discoveryAdvertisingStateUpdate
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: 'does not emit duplicate discoveryAdvertisingStateUpdate''
# teardown
ok 382 error should be null
ok 383 error should be null
# setup
# does not send duplicate availability changes
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"3071805b-4996-41d2-b694-d66a79415adc","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 384 should be called once
ok 385 should not have been called more than once
# teardown
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"3071805b-4996-41d2-b694-d66a79415adc","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 386 error should be null
ok 387 error should be null
# setup
# can get the network status
ok 388 network status should have certain non-empty properties
# teardown
ok 389 error should be null
ok 390 error should be null
# setup
# wifi peer is marked unavailable if announcements stop
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: 'wifi peer is marked unavailable if announcements stop''
# teardown
ok 391 error should be null
ok 392 error should be null
# setup
# native peer should be removed if no availability updates were received during availability timeout
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'listening 51022'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'listening 51023'
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"0f96324b-431d-4edf-aa81-d687a5aca85a","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 393 peer is available
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"0f96324b-431d-4edf-aa81-d687a5aca85a","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 394 peer is not availabel because it was too silent
# teardown
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 395 error should be null
ok 396 error should be null
# setup
# peerAvailabilityChanged - peer added/removed to/from cache (native)
ok 397 we have not added peer to the cache yet
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"804b287d-e25f-4d6c-94d7-781b4ad30b2e","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 398 peer should be available
ok 399 cache contains native peer
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"804b287d-e25f-4d6c-94d7-781b4ad30b2e","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":0,"newAddressPort":null}'
ok 400 peer should be unavailable
ok 401 peer has been removed from cache
# teardown
ok 402 error should be null
ok 403 error should be null
# setup
# peerAvailabilityChanged - peer added/removed to/from cache (wifi)
ok 404 we have not added peer to the cache yet
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"4ffb72b1-b226-4f0f-8f1b-8bef53567fc8","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 405 peer should be available
ok 406 cache contains wifi peer
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"4ffb72b1-b226-4f0f-8f1b-8bef53567fc8","connectionType":"tcp","peerAvailable":false,"generation":0,"newAddressPort":null}'
ok 407 peer should be unavailable
ok 408 peer has been removed from cache
# teardown
ok 409 error should be null
ok 410 error should be null
# setup
# peerAvailabilityChanged - peer with the same id, conn type, host, port and generation is ignored
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"e47d48eb-5740-4141-b4ff-95d0e38ee326","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 411 first peer is available
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"739b049f-55dc-446c-9f87-a4fe0ecf2e07","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 412 second peer is available
ok 413 first and second peers are different
# teardown
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"e47d48eb-5740-4141-b4ff-95d0e38ee326","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"739b049f-55dc-446c-9f87-a4fe0ecf2e07","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 414 error should be null
ok 415 error should be null
# setup
# native available - new peer is cached
ok 416 should not be in cache at start
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"375f6c6a-14a8-461a-8ed2-bdb9c92f3a68","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 417 peer is available
# teardown
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"375f6c6a-14a8-461a-8ed2-bdb9c92f3a68","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 418 error should be null
ok 419 error should be null
# setup
# native available - peer with same port and different generation is cached (BLUETOOTH)
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"e3d46418-e1c1-4661-91bb-0f6fb58b226a","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":2,"newAddressPort":false}'
ok 420 peer should be available
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"e3d46418-e1c1-4661-91bb-0f6fb58b226a","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":3,"newAddressPort":false}'
ok 421 peer should be available
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"e3d46418-e1c1-4661-91bb-0f6fb58b226a","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":1,"newAddressPort":false}'
ok 422 peer should be available
# teardown
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"e3d46418-e1c1-4661-91bb-0f6fb58b226a","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 423 error should be null
ok 424 error should be null
# setup
# native available - peer with the same port and generation but with enough time for generation to wrap around is cached (BLUETOOTH)
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"de6e31f7-f482-4c97-8d2d-8e6b145c8f13","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":2,"newAddressPort":false}'
ok 425 peer should be available
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"de6e31f7-f482-4c97-8d2d-8e6b145c8f13","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":2,"newAddressPort":false}'
ok 426 peer should be available
# teardown
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"de6e31f7-f482-4c97-8d2d-8e6b145c8f13","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 427 error should be null
ok 428 error should be null
# setup
# native available - peer with greater generation is cached (MPCF)
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: 'native available - peer with greater generation is cached (MPCF)''
# teardown
ok 429 error should be null
ok 430 error should be null
# setup
# native available - peer with same or older generation is ignored (MPCF)
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: 'native available - peer with same or older generation is ignored (MPCF)''
# teardown
ok 431 error should be null
ok 432 error should be null
# setup
# native unavailable - new peer is ignored
ok 433 NOT IMPLEMENTED # SKIP
# teardown
ok 434 error should be null
ok 435 error should be null
# setup
# native unavailable - cached peer is removed
ok 436 NOT IMPLEMENTED # SKIP
# teardown
ok 437 error should be null
ok 438 error should be null
# setup
# networkChanged - fires peerAvailabilityChanged event for wifi peers
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'listening 51024'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'listening 51025'
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"63719e23-4a39-4ff4-84b0-dfdfaf71f55a","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 439 first peer is expected to be available
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"c89c1a6b-3b49-435d-b79b-290af7113d73","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 440 second peer is expected to be available
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"c89c1a6b-3b49-435d-b79b-290af7113d73","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 441 peer became unavailable
ok 442 it was wifi peer
# teardown
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"63719e23-4a39-4ff4-84b0-dfdfaf71f55a","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 443 error should be null
ok 444 error should be null
# setup
# networkChanged - fires peerAvailabilityChanged event for native peers (BLUETOOTH)
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'listening 51026'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'listening 51027'
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"df51c878-461c-43c1-a4e7-c3653793e2fc","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 445 first peer is expected to be available
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"6aef068a-76aa-42fd-b4d2-36be6b5c9412","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 446 second peer is expected to be available
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"df51c878-461c-43c1-a4e7-c3653793e2fc","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 447 peer became unavailable
ok 448 it was a native peer
# teardown
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"6aef068a-76aa-42fd-b4d2-36be6b5c9412","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 449 error should be null
ok 450 error should be null
# setup
# networkChanged - fires peerAvailabilityChanged event for native peers (MPCF)
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: 'networkChanged - fires peerAvailabilityChanged event for native peers (MPCF)''
# teardown
ok 451 error should be null
ok 452 error should be null
# setup
# multiconnect failure - new peer is ignored (MPCF)
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: 'multiconnect failure - new peer is ignored (MPCF)''
# teardown
ok 453 error should be null
ok 454 error should be null
# setup
# multiconnect failure - cached peer fires peerAvailabilityChanged (MPCF)
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: 'multiconnect failure - cached peer fires peerAvailabilityChanged (MPCF)''
# teardown
ok 455 error should be null
ok 456 error should be null
# setup
# newAddressPort field (TCP_NATIVE)
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"712b4d3a-a80a-422b-b8bc-106988d777ce","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 457 peer discovered first time does not have new address
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"712b4d3a-a80a-422b-b8bc-106988d777ce","connectionType":"tcp","peerAvailable":true,"generation":20,"newAddressPort":false}'
ok 458 address has not been changed
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"712b4d3a-a80a-422b-b8bc-106988d777ce","connectionType":"tcp","peerAvailable":true,"generation":20,"newAddressPort":true}'
ok 459 new port handled correctly
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"712b4d3a-a80a-422b-b8bc-106988d777ce","connectionType":"tcp","peerAvailable":true,"generation":20,"newAddressPort":true}'
ok 460 new host handled correctly
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"712b4d3a-a80a-422b-b8bc-106988d777ce","connectionType":"tcp","peerAvailable":false,"generation":20,"newAddressPort":null}'
ok 461 newAddressPort is null for unavailable peers
# teardown
ok 462 error should be null
ok 463 error should be null
# setup
# newAddressPort field (BLUETOOTH)
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"e3211622-8e41-4140-aa7a-835620dd2496","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 464 peer discovered first time does not have new address
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"e3211622-8e41-4140-aa7a-835620dd2496","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":20,"newAddressPort":false}'
ok 465 address has not been changed
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"e3211622-8e41-4140-aa7a-835620dd2496","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":20,"newAddressPort":true}'
ok 466 new port handled correctly
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"e3211622-8e41-4140-aa7a-835620dd2496","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":20,"newAddressPort":null}'
ok 467 newAddressPort is null for unavailable peers
# teardown
ok 468 error should be null
ok 469 error should be null
# setup
# newAddressPort field (MPCF)
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: 'newAddressPort field (MPCF)''
# teardown
ok 470 error should be null
ok 471 error should be null
# setup
# newAddressPort after listenerRecreatedAfterFailure event (BLUETOOTH)
ok 472 NOT IMPLEMENTED # SKIP
# teardown
ok 473 error should be null
ok 474 error should be null
# setup
# #getPeerHostInfo - error when peer has not been discovered yet
ok 475 should be equal
# teardown
ok 476 error should be null
ok 477 error should be null
# setup
# #getPeerHostInfo - returns discovered cached native peer (BLUETOOTH)
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"foo","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 478 contains expected properties
ok 479 the same hostAddress
ok 480 the same portNumber
# teardown
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"foo","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 481 error should be null
ok 482 error should be null
# setup
# #getPeerHostInfo - returns discovered cached native peer and calls `_multiConnect` to retrieve the port (MPCF)
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: '#getPeerHostInfo - returns discovered cached native peer and calls `_multiConnect` to retrieve the port (MPCF)''
# teardown
ok 483 error should be null
ok 484 error should be null
# setup
# #getPeerHostInfo - returns discovered cached wifi peer
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"foo","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 485 contains expected properties
ok 486 the same hostAddress
ok 487 the same portNumber
# teardown
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"foo","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 488 error should be null
ok 489 error should be null
# setup
# #disconnect fails on wifi peers
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'listening 51028'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'listening 51029'
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"aba8ed76-d50a-4ab5-b0be-0adc56ab64ec","connectionType":"tcp","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 490 Got specific error message
# teardown
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"aba8ed76-d50a-4ab5-b0be-0adc56ab64ec","connectionType":"tcp","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 491 error should be null
ok 492 error should be null
# setup
# #disconnect delegates native peers to the native wrapper
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'listening 51030'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'listening 51031'
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"5b7add40-5522-4d15-b080-c59a607c4f4f","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
2017-01-04 16:10:50 - DEBUG thaliTcpServersManager: 'Terminate outgoing connection called on peerID 5b7add40-5522-4d15-b080-c59a607c4f4f with port 12345'
ok 493 native wrapper `disconnect` called once
ok 494 native wrapper `disconnect` called with peer data
# teardown
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"5b7add40-5522-4d15-b080-c59a607c4f4f","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 495 error should be null
ok 496 error should be null
# setup
# network changes emitted correctly
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: 'network changes emitted correctly''
# teardown
ok 497 error should be null
ok 498 error should be null
# setup
# network changes not emitted in started state
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: 'network changes not emitted in started state''
# teardown
ok 499 error should be null
ok 500 error should be null
# setup
# network changes not emitted in stopped state
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: 'network changes not emitted in stopped state''
# teardown
ok 501 error should be null
ok 502 error should be null
# setup
# calls correct starts when network changes
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: 'calls correct starts when network changes''
# teardown
ok 503 error should be null
ok 504 error should be null
# setup
# We properly fire peer unavailable and then available when connection fails
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'listening 51032'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'listening 51033'
2017-01-04 16:10:50 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:10:50 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'Received peer availability changed event with {"peerIdentifier":"82a1543b-c02e-4228-b401-c75d0560e981","generation":0,"peerAvailable":true}'
2017-01-04 16:10:50 - DEBUG createPeerListener: 'creating new server for 82a1543b-c02e-4228-b401-c75d0560e981'
2017-01-04 16:10:50 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for 82a1543b-c02e-4228-b401-c75d0560e981 listening on 51034'
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'handlePeerAvailabilityChanged - Emitting {"peerIdentifier":"82a1543b-c02e-4228-b401-c75d0560e981","peerAvailable":true,"generation":0,"portNumber":51034}'
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handlePeer {"peerIdentifier":"82a1543b-c02e-4228-b401-c75d0560e981","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 505 peerIds match
ok 506 peer is available
ok 507 newAddressPort is false
2017-01-04 16:10:50 - DEBUG createPeerListener: 'Issuing callNative for 82a1543b-c02e-4228-b401-c75d0560e981'
ok 508 We should have connected
2017-01-04 16:10:50 - WARN createPeerListener: 'callNative for 82a1543b-c02e-4228-b401-c75d0560e981 failed with Connection could not be established'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG createPeerListener: 'We are emitting failedConnection with error "Error: Connection could not be established" and peerIdentifier "82a1543b-c02e-4228-b401-c75d0560e981"'
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'Received peer availability changed event with {"peerIdentifier":"82a1543b-c02e-4228-b401-c75d0560e981","peerAvailable":false,"portNumber":null,"recreated":true}'
ok 509 Failed on right peer
ok 510 Marked as recreated
2017-01-04 16:10:50 - DEBUG createPeerListener: 'Will try to recreate server for 82a1543b-c02e-4228-b401-c75d0560e981'
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'handlePeerUnavailable - Emitting {"peerIdentifier":"82a1543b-c02e-4228-b401-c75d0560e981","peerAvailable":false,"generation":null,"portNumber":null,"recreated":true}'
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handleRecreatedPeer {"peerIdentifier":"82a1543b-c02e-4228-b401-c75d0560e981","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
ok 511 still same peer IDs
ok 512 peer should not be available
2017-01-04 16:10:50 - DEBUG createPeerListener: 'creating new server for 82a1543b-c02e-4228-b401-c75d0560e981'
2017-01-04 16:10:50 - DEBUG createPeerListener: 'Node TCP/IP listener (server) for 82a1543b-c02e-4228-b401-c75d0560e981 listening on 51036'
2017-01-04 16:10:50 - DEBUG createPeerListener: 'We are emitting listenerRecreatedAfterFailure with peerIdentifier 82a1543b-c02e-4228-b401-c75d0560e981 and portNumber 51036'
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'listenerRecreatedAfterFailureHandler - We are emitting nonTCPPeerAvailabilityChangedEvent with peerIdentifier 82a1543b-c02e-4228-b401-c75d0560e981, generation 0, and portNumber 51036'
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from handleRecreatedPeer {"peerIdentifier":"82a1543b-c02e-4228-b401-c75d0560e981","connectionType":"AndroidBluetooth","peerAvailable":true,"generation":0,"newAddressPort":false}'
ok 513 peerIds match again
ok 514 peer is available again
ok 515 newAddressPort is false
ok 516 We got the error we expected
# teardown
2017-01-04 16:10:50 - DEBUG thaliMobile: 'Emitting peerAvailabilityChanged from emitPeerUnavailable {"peerIdentifier":"82a1543b-c02e-4228-b401-c75d0560e981","connectionType":"AndroidBluetooth","peerAvailable":false,"generation":null,"newAddressPort":null}'
2017-01-04 16:10:50 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:10:50 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:10:50 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:10:50 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 517 error should be null
ok 518 error should be null
# setup
# If a peer is not available (and hence is not in the thaliMobile cache) but we already started trying to connect make sure recreate does not happen
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: 'If a peer is not available (and hence is not in the thaliMobile cache) but we already started trying to connect make sure recreate does not happen''
# teardown
ok 519 error should be null
ok 520 error should be null
# setup
# does not fire duplicate events after peer listener recreation
2017-01-04 16:10:50 - DEBUG SimpleThaliTape: 'test was skipped, name: 'does not fire duplicate events after peer listener recreation''
# teardown
ok 521 error should be null
ok 522 error should be null
# setup
# #testThaliPeerAction - test getters
ok 523 getPeerIdentifier
ok 524 getConnectionType
ok 525 getActionType
ok 526 getActionState
ok 527 getPskIdentity
ok 528 getPskKey
# teardown
# setup
# #testThaliPeerAction - start and kill
ok 529 initial state
ok 530 after start
2017-01-04 16:10:50 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 531 after kill
# teardown
# setup
# #testThaliPeerAction - double start
ok 532 should be equal
# teardown
# setup
# #testThaliPeerAction - start after kill
2017-01-04 16:10:50 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 533 clean kill
ok 534 should be equal
# teardown
# setup
# #testThaliPeerAction - make sure ids are unique
ok 535 should not be equal
# teardown
# setup
# #testThaliPeerAction - check that forever agent can be destroyed
ok 536 forever agent should have it's own destroy method
ok 537 agent's destroy should be called
ok 538 agent's destroy should not be called again
ok 539 agent is destroyed
# teardown
# setup
# Test PeerDictionary basic functionality
ok 540 Entry counter must be 1
ok 541 Entry exists
ok 542 Size must be 1
ok 543 Entry counter must be 2
ok 544 Entry exists
ok 545 Size must be 2
ok 546 Entry counter must be 1
ok 547 Entry exists
ok 548 Size must be 3
ok 549 Entry counter must be 2
ok 550 Entry exists
ok 551 Size must be 4
ok 552 Entry 1_1 should not be found
ok 553 Entry 1_1 does not exist
ok 554 Size must be 3
ok 555 Entry 1_2 should not be found
ok 556 Entry 1_2 does not exist
ok 557 Size must be 2
ok 558 should be equal
ok 559 Entry 2_1 should not be found
ok 560 Entry 2_2 should not be found
ok 561 Entry 2_1 does not exist
ok 562 Entry 2_2 does not exist
ok 563 Size must be 0
# teardown
# setup
# Test PeerDictionary with multiple entries.
ok 564 Size must be100
ok 565 Entries between 20 and MAXSIZE + 20 should exist
ok 566 WAITING state entry should not be removed
# teardown
# setup
# RESOLVED entries are removed before WAITING state entry.
ok 567 Entries between 6 and MAXSIZE + 4 should exist
ok 568 Size should be MAXSIZE
ok 569 Size should be MAXSIZE+6
# teardown
# setup
# WAITING entries are removed before CONTROLLED_BY_POOL state entry.
ok 570 WAITING state entry should not be removed
ok 571 Waiting entries between 6 and MAXSIZE + 4 should exist
ok 572 Size should be MAXSIZE
ok 573 entryCounter should be MAXSIZE+6
# teardown
# setup
# When CONTROLLED_BY_POOL entry is removed and kill is called.
ok 574 Kill should be called once
ok 575 Size should be MAXSIZE
# teardown
# setup
# #ThaliPeerPoolDefault - single action
ok 576 is an agent
ok 577 enqueue is fine
ok 578 Everything should be off the queue
# teardown
# setup
# #ThaliPeerPoolDefault - multiple actions
ok 579 is an agent
ok 580 first enqueue is fine
ok 581 is an agent
ok 582 second enqueue is fine
ok 583 everybody, even identical peers, get their own pool, although eventually we should make identical peers have a common pool.
ok 584 Queue is empty
# teardown
# setup
# #ThaliPeerPoolDefault - PSK Pool works
ok 585 is an agent
ok 586 good enqueue
ok 587 Identity should match
2017-01-04 16:10:51 - DEBUG testUtils: 'Got response data'
2017-01-04 16:10:51 - DEBUG testUtils: 'Got end'
ok 588 Got expected response
ok 589 Got psk call back
# teardown
2017-01-04 16:10:51 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #ThaliPeerPoolDefault - stop
ok 590 is an agent
ok 591 enqueue worked
ok 592 is an agent
ok 593 enqueue 2 worked
ok 594 enqueue is not available when stopped
ok 595 start action is killed
ok 596 killed action is still killed
ok 597 enqueued action when stopped is killed
ok 598 inQueue is empty
# teardown
# setup
# #ThaliPeerPoolInterface - make sure that start verifies queue length
ok 599 good start
ok 600 good enqueue
ok 601 queue is not empty
# teardown
# setup
# #ThaliPeerPoolInterface - bad enqueues
ok 602 null arg
ok 603 wrong arg type
ok 604 wrong arg type
# teardown
# setup
# #ThaliPeerPoolInterface - do not allow same object type
ok 605 good enqueue
ok 606 already enqueued
# teardown
# setup
# #ThaliPeerPoolInterface - make sure we catch kill and dequeue
ok 607 good enqueue
ok 608 2nd good enqueue
ok 609 we are in the pool
ok 610 We are out of the pool
ok 611 Action was killed
ok 612 The original kill was called too
ok 613 second item is still in queue
# teardown
# setup
# #ThaliPeerPoolInterface - make sure our changes to the action leave kill as idempotent
ok 614 good enqueue
ok 615 first kill
ok 616 second NOOP kill
# teardown
# setup
# #ThaliPeerPoolInterface - make sure that stop removes all actions
ok 617 1st good enqueue
ok 618 2nd good enqueue
ok 619 1st action is in the pool
ok 620 2nd action is in the pool
ok 621 1st action is out of the pool
ok 622 2st action is out of the pool
ok 623 pool is empty
# teardown
# setup
# We reject unrecognized connection type
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Start was called'
ok 624 Got right error
ok 625 Start should not be called
ok 626 Kill should have been called at least once
# teardown
# setup
# We reject unrecognized action type
2017-01-04 16:10:51 - DEBUG SimpleThaliTape: 'test was skipped, name: 'We reject unrecognized action type''
# teardown
# setup
# One action on bluetooth
2017-01-04 16:10:51 - DEBUG SimpleThaliTape: 'test was skipped, name: 'One action on bluetooth''
# teardown
# setup
# Two notification actions
2017-01-04 16:10:51 - DEBUG SimpleThaliTape: 'test was skipped, name: 'Two notification actions''
# teardown
# setup
# replicateThroughProblems
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Action Started success'
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - success'
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Got a replication response with no error!'
ok 627 should have gotten null
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Action Started noActivityTimeOut'
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'action returned with error from startError: No activity time out - noActivityTimeOut'
ok 628 Should have stopped nicely
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Action Started failureButNotAvailable'
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'action returned with error from startError: eeeek! - failureButNotAvailable'
ok 629 Still looking for null
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Action Started failureButAvailable'
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'action returned with error from startError: eeeek! - failureButAvailable'
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Replication action failed badly so we are going to retry'
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Action Started clone!'
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - clone!'
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Got a replication response with no error!'
ok 630 Yup, another null
ok 631 We cloned!
# teardown
# setup
# Replication goes first
2017-01-04 16:10:51 - DEBUG SimpleThaliTape: 'test was skipped, name: 'Replication goes first''
# teardown
# setup
# wifi allows many parallel non-replication actions
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Start was called'
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 586, Action Type: foo, Connection Type: tcp, Peer Identifier: 1'
ok 632 is an agent
ok 633 First null
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 587, Action Type: foo, Connection Type: tcp, Peer Identifier: 2'
ok 634 is an agent
ok 635 Second null
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 587, Action Type: foo, Connection Type: tcp, Peer Identifier: 2'
truetruefalsetrue
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 586, Action Type: foo, Connection Type: tcp, Peer Identifier: 1'
truetruetruetrue
# teardown
# setup
# wifi allows no more than 2 simultaneous replication actions for same peerID
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Start was called'
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 588, Action Type: ReplicationAction, Connection Type: tcp, Peer Identifier: 1'
ok 636 is an agent
ok 637 First null
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Action Started Action ID: 589, Action Type: ReplicationAction, Connection Type: tcp, Peer Identifier: 1'
ok 638 is an agent
ok 639 second null
ok 640 third null
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 588, Action Type: ReplicationAction, Connection Type: tcp, Peer Identifier: 1'
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'action returned successfully from start - Action ID: 589, Action Type: ReplicationAction, Connection Type: tcp, Peer Identifier: 1'
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Got a replication response with no error!'
2017-01-04 16:10:51 - DEBUG thaliPeerPoolOneAtATime: 'Got a replication response with no error!'
# teardown
# setup
# Test BEACONS_RETRIEVED_AND_PARSED locally
ok 641 peerIdentifier should match
ok 642 generation should match
ok 643 Response should be BEACONS_RETRIEVED_AND_PARSED
ok 644 good beacon
ok 645 good preAmble
ok 646 public keys match!
ok 647 must return null after successful call
ok 648 Once start returns the action should be in KILLED state
# teardown
2017-01-04 16:10:51 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test HTTP_BAD_RESPONSE locally
ok 649 Response should be HTTP_BAD_RESPONSE
ok 650 must return null after successful call
# teardown
2017-01-04 16:10:51 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test NETWORK_PROBLEM locally
ok 651 Response should be NETWORK_PROBLEM
ok 652 reject reason should be: Could not establish TCP connection
# teardown
2017-01-04 16:10:51 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Action fails when getPeerHostInfo fails
ok 653 Resolution should be BAD_PEER
ok 654 correct error message
# teardown
2017-01-04 16:10:51 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Call the start two times
ok 655 Call start once
ok 656 Response should be BEACONS_RETRIEVED_AND_PARSED
ok 657 must return null after successful call.
# teardown
2017-01-04 16:10:51 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Call the kill before calling the start
ok 658 Should be Killed
ok 659 Start after killed
# teardown
2017-01-04 16:10:51 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Call the kill immediately after the start
ok 660 Should be KILLED
ok 661 must return null after successful kill
# teardown
2017-01-04 16:10:51 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Call the kill while waiting a response from the server
ok 662 Should be KILLED
ok 663 must return null after successful kill
# teardown
2017-01-04 16:10:53 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test to exceed the max content size locally
ok 664 HTTP_BAD_RESPONSE should be response when content size is exceeded
ok 665 must return null after successful call
# teardown
2017-01-04 16:10:53 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Close the server socket while the client is waiting a response from the server. Local test.
2017-01-04 16:10:55 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 666 Should be NETWORK_PROBLEM caused closing server socket
ok 667 Should be Could not establish TCP connection
# teardown
# setup
# Close the client socket while the client is waiting a response from the server. Local test.
ok 668 Should be NETWORK_PROBLEM caused closing client socket
ok 669 Should be Could not establish TCP connection
# teardown
2017-01-04 16:10:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #generatePreambleAndBeacons bad args
ok 670 publicKeysToNotify cannot be null
ok 671 ecdh for local device cannot be null
ok 672 milliseconds cannot be less than 0
ok 673 milliseconds cannot be 0
ok 674 milliseconds cannot be greater than one_day
# teardown
# setup
# #generatePreambleAndBeacons empty keys to notify
ok 675 should be equal
# teardown
# setup
# #generatePreambleAndBeacons multiple keys to notify
ok 676 should be equal
ok 677 should be equal
ok 678 (unnamed assert)
ok 679 should be equal
# teardown
# setup
# #parseBeacons invalid ECDH public key in beaconStreamWithPreAmble
ok 680 should throw
# teardown
# setup
# #parseBeacons invalid expiration in beaconStreamWithPreAmble
ok 681 Preamble expiration must be a 64 bit integer
# teardown
# setup
# #parseBeacons expiration out of range lower
ok 682 Expiration out of range
# teardown
# setup
# #parseBeacons expiration out of range lower
ok 683 Expiration out of range
# teardown
# setup
# #parseBeacons no beacons returns null
ok 684 should be equal
# teardown
# setup
# #parseBeacons invalid size for encryptedBeaconKeyId in  beaconStreamWithPreAmble
ok 685 Malformed encrypted beacon key ID
# teardown
# setup
# #parseBeacons addressBookCallback fails decrypt
ok 686 should be equal
# teardown
# setup
# #parseBeacons addressBookCallback returns no matches
ok 687 should be equal
ok 688 should be equal
# teardown
# setup
# #parseBeacons addressBookCallback returns spurious match
ok 689 should be equal
ok 690 should be equal
# teardown
# setup
# #parseBeacons addressBookCallback returns public key
ok 691 right number of calls to address book
ok 692 good preAmble
ok 693 good unencryptedKeyId
ok 694 good beacon
# teardown
# setup
# validate generatePskIdentityField
ok 695 decoded buffers match
# teardown
# setup
# validate generatePskSecret
ok 696 secrets match
# teardown
# setup
# validate generatePskSecrets
ok 697 Matching numbers
ok 698 We have an entry!
ok 699 keys match
ok 700 secrets match
ok 701 We have an entry!
ok 702 keys match
ok 703 secrets match
ok 704 We have an entry!
ok 705 keys match
ok 706 secrets match
# teardown
# setup
# validate generateBeaconStreamAndSecrets
ok 707 Streams have same length
ok 708 matching size
ok 709 keys match
ok 710 secrets match
# teardown
# setup
# Add two Peers.
ok 711 should be equal
ok 712 peerDictionalty contains 2 peers
ok 713 bluetooth peer's notification has correct connection type
ok 714 tcp peer's notification has correct connection type
2017-01-04 16:10:57 - DEBUG thaliPeerPoolDefault: 'Got err   peer not available'
2017-01-04 16:10:57 - DEBUG thaliPeerPoolDefault: 'Got err   peer not available'
# teardown
2017-01-04 16:10:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# TCP_NATIVE peer loses DNS
ok 715 notification peer dictionary contains exactly 1 peer
2017-01-04 16:10:57 - WARN thaliNotificationClient: 'peer is not available'
ok 716 notification peer dictionary does not contain any peers
2017-01-04 16:10:57 - DEBUG thaliPeerPoolDefault: 'Got err   peer not available'
# teardown
2017-01-04 16:10:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Received beacons with no values for us
ok 717 entry exists
ok 718 entry is resolved
# teardown
2017-01-04 16:10:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Notification action killed with a superseded
ok 719 Action should be KILLED
ok 720 Peer state should be RESOLVED
# teardown
2017-01-04 16:10:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Resolves an action locally
ok 721 hostAddress must match
ok 722 portNumber must match
ok 723 suggestedTCPTimeout must match
ok 724 connectionType must match
ok 725 peerIDs must match
# teardown
2017-01-04 16:10:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Resolves an action locally using ThaliPeerPoolDefault
ok 726 hostAddress must match
ok 727 portNumber must match
ok 728 suggestedTCPTimeout must match
ok 729 connectionType must match
ok 730 peerIds must match
# teardown
2017-01-04 16:10:57 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Action fails because of a bad hostname.
2017-01-04 16:10:57 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 731 action should be resolved with NETWORK_PROBLEM error
2017-01-04 16:10:57 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 732 action should be resolved with NETWORK_PROBLEM error
2017-01-04 16:10:58 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 733 action should be resolved with NETWORK_PROBLEM error
2017-01-04 16:10:58 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 734 action should be resolved with NETWORK_PROBLEM error
ok 735 correct number of requests
ok 736 correct number of failures
ok 737 correct final peer state
# teardown
2017-01-04 16:10:58 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# hostaddress is removed when the action is running. 
2017-01-04 16:11:01 - WARN thaliNotificationClient: 'peer is not available'
2017-01-04 16:11:01 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 738 peerDictionary should become empty
# teardown
2017-01-04 16:11:01 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# notificationClient does not retry action with BAD_PEER resolution
2017-01-04 16:11:01 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 739 failed with expected error
ok 740 peer state should be RESOLVED
# teardown
2017-01-04 16:11:01 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# notification client correctly handles peer availability changes of the same peer
2017-01-04 16:11:01 - DEBUG thaliPeerAction: 'we couldn't destroy http agent explicitly'
ok 741 First action failed
ok 742 second action killed
# teardown
2017-01-04 16:11:01 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Client to server request locally
ok 743 secrets are equal
ok 744 Public key matches with the server key
ok 745 hostAddress must match
ok 746 portNumber must match
ok 747 suggestedTCPTimeout must match
ok 748 connectionType must match
# teardown
2017-01-04 16:11:01 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test ThaliPskMapCache clean and expiration
ok 749 ThaliPskMapCache should not exceed MAX_NOTIFICATIONSERVER_PSK_MAP_CACHE_SIZE
ok 750 ThaliPskMapCache should not exceed MAX_NOTIFICATIONSERVER_PSK_MAP_CACHE_SIZE-1
ok 751 All entries should be expired after 1 second
# teardown
2017-01-04 16:11:02 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test ThaliPskMapCache getSecret and getPublic
ok 752 All keys need to be available in the cache
ok 753 All entries should be expired after 1 second
# teardown
2017-01-04 16:11:03 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Test ThaliPskMapCache multiple entries
ok 754 Size of the cache should be 2
ok 755 Cache doesn't contain dictionary1
ok 756 Size of the cache should be 1
ok 757 Cache doesn't contain beaconStreamAndSecretDictionary2
# teardown
2017-01-04 16:11:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Start and stop ThaliNotificationServer
ok 758 ThaliMobile.StartUpdateAdvertisingAndListening should be called once
ok 759 ThaliMobile.StopAdvertisingAndListeningshould be called once
# teardown
2017-01-04 16:11:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Pass an empty array to ThaliNotificationServer.start
ok 760 StartUpdateAdvertisingAndListening should not be called
ok 761 ThaliMobile.StopAdvertisingAndListening should be called once
ok 762 no error
ok 763 should be 204
# teardown
2017-01-04 16:11:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Pass a string to ThaliNotificationServer.start
ok 764 StartUpdateAdvertisingAndListening should not be called
# teardown
2017-01-04 16:11:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Pass an empty parameter to ThaliNotificationServer.start
ok 765 StartUpdateAdvertisingAndListening should not be called
# teardown
2017-01-04 16:11:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make an HTTP request to /NotificationBeacons
ok 766 no error
ok 767 should be 200
ok 768 should be equal
ok 769 should be equal
ok 770 (unnamed assert)
ok 771 no error
ok 772 should be 204
# teardown
2017-01-04 16:11:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make an HTTP request to /NotificationBeacons (no keys)
ok 773 error should be null
ok 774 should be 204
# teardown
2017-01-04 16:11:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make an HTTP request to /NotificationBeaconsbefore calling start
ok 775 should be 404
# teardown
2017-01-04 16:11:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make sure peerDictionaryKey is reasonable
ok 776 equal keys
ok 777 not equal connection type
ok 778 same connection type, different buffer
# teardown
# setup
# Make sure start works
2017-01-04 16:11:05 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
ok 779 First start and on called correctly
# teardown
# setup
# Make sure stop works
ok 780 second cleared dictionary
2017-01-04 16:11:05 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
ok 781 First start and on called correctly
ok 782 First stop and removeListener called correctly
ok 783 first action kill called
ok 784 second action kill called
ok 785 first cleared dictionary
ok 786 first cleared pool
ok 787 second cleared dictionary
ok 788 second cleared pool
# teardown
# setup
# Simple peer event
2017-01-04 16:11:05 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
ok 789 listener has been set
ok 790 peer dictionary has expected number of entries
ok 791 Dictionary and pool have same action
ok 792 ads match
ok 793 PouchDB matches
ok 794 DB Names match
ok 795 public keys match
ok 796 peer dictionary has expected number of entries
ok 797 Dictionary and pool have same action
ok 798 ads match
ok 799 PouchDB matches
ok 800 DB Names match
ok 801 public keys match
2017-01-04 16:11:05 - DEBUG thaliReplicationPeerAction: 'We called _complete with  and it caused us to complete'
ok 802 start called once
ok 803 One entry left
ok 804 Dictionary and pool have same action
ok 805 Start never called
ok 806 Kill called once
ok 807 no entries left
ok 808 Third action is dead
ok 809 peer dictionary has expected number of entries
ok 810 Dictionary and pool have same action
ok 811 ads match
ok 812 PouchDB matches
ok 813 DB Names match
ok 814 public keys match
# teardown
# setup
# Server is not there
2017-01-04 16:11:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:05 - DEBUG thaliReplicationPeerAction: 'Got error on replication -  500 connect ECONNREFUSED'
2017-01-04 16:11:05 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: connect ECONNREFUSED  and it caused us to complete'
ok 815 right error
# teardown
2017-01-04 16:11:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Server accepts & closes connection
2017-01-04 16:11:05 - DEBUG thaliReplicationPeerAction: 'Got error on replication -  500 socket hang up'
2017-01-04 16:11:05 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: socket hang up  and it caused us to complete'
ok 816 right error
# teardown
2017-01-04 16:11:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Server always returns 500
2017-01-04 16:11:05 - DEBUG thaliReplicationPeerAction: 'Got error on replication -  500 changes rejected'
2017-01-04 16:11:05 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: changes rejected  and it caused us to complete'
ok 817 Got error as expected
# teardown
2017-01-04 16:11:05 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Server always returns 401
2017-01-04 16:11:06 - DEBUG thaliReplicationPeerAction: 'Got error on replication -  401 changes rejected'
2017-01-04 16:11:06 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: changes rejected  and it caused us to complete'
ok 818 Got error as expected
# teardown
2017-01-04 16:11:06 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Server always returns 403
2017-01-04 16:11:06 - DEBUG thaliReplicationPeerAction: 'Got error on replication -  403 changes rejected'
2017-01-04 16:11:06 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: changes rejected  and it caused us to complete'
ok 819 Got error as expected
# teardown
2017-01-04 16:11:06 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make sure docs replicate
2017-01-04 16:11:06 - DEBUG thaliReplicationPeerAction: 'Replication resumed'
2017-01-04 16:11:06 - DEBUG thaliReplicationPeerAction: 'Got paused with -  '
2017-01-04 16:11:09 - DEBUG thaliReplicationPeerAction: 'We called _complete with  but we are already killed and so we ignored it'
ok 820 should be equal
ok 821 All tests passed!
# teardown
2017-01-04 16:11:09 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Do nothing and make sure we time out
2017-01-04 16:11:09 - DEBUG thaliReplicationPeerAction: 'Got paused with -  '
2017-01-04 16:11:11 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: No activity time out  and it caused us to complete'
2017-01-04 16:11:11 - DEBUG thaliReplicationPeerAction: 'We called _complete with  but this is a second call and so we ignored it'
ok 822 action should be killed
ok 823 Error should be timed out
ok 824 No doc found
# teardown
2017-01-04 16:11:11 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Do something and make sure we time out
2017-01-04 16:11:11 - DEBUG thaliReplicationPeerAction: 'Replication resumed'
2017-01-04 16:11:11 - DEBUG thaliReplicationPeerAction: 'Got paused with -  '
ok 825 should be equal
2017-01-04 16:11:13 - DEBUG thaliReplicationPeerAction: 'We called _complete with error: No activity time out  and it caused us to complete'
2017-01-04 16:11:13 - DEBUG thaliReplicationPeerAction: 'We called _complete with  but this is a second call and so we ignored it'
ok 826 action should be killed
ok 827 Error should be timed out
# teardown
2017-01-04 16:11:13 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Start replicating and then catch error when server goes
ok 828 socket hung up
# teardown
2017-01-04 16:11:13 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# Make sure clone works
ok 829 same getPeerAdvertisesDataForUs
ok 830 Same pouchdB
ok 831 same dbName
ok 832 Same public key
# teardown
# setup
# compareBufferArrays
ok 833 should throw
ok 834 should throw
ok 835 (unnamed assert)
ok 836 (unnamed assert)
ok 837 (unnamed assert)
ok 838 (unnamed assert)
ok 839 (unnamed assert)
# teardown
# setup
# Call start twice and get error
ok 840 should throw
# teardown
# setup
# Start and make sure it runs
# teardown
# setup
# Make sure getTimeWhenRun is right after start
ok 841 (unnamed assert)
# teardown
# setup
# Make sure getTimeWhenRun is -1 after function is called
ok 842 should be equal
# teardown
# setup
# Make sure getTimeWhenRun is -2 when start has not been called and null if stop is called without running
ok 843 should be equal
ok 844 should be equal
ok 845 should throw
# teardown
# setup
# Test TransientState
ok 846 should throw
ok 847 should throw
ok 848 should be equal
ok 849 should be equal
ok 850 should be equal
ok 851 should be equal
ok 852 (unnamed assert)
ok 853 (unnamed assert)
# teardown
# setup
# No peers and empty database
ok 854 verify failed
ok 855 constructor called once
ok 856 constructor called with right args
ok 857 match start arg
ok 858 start called once
ok 859 stop called once
ok 860 stop after start
# teardown
# setup
# One peer and empty DB
ok 861 verify failed
ok 862 constructor called once
ok 863 constructor called with right args
ok 864 match start arg
ok 865 start called once
ok 866 stop called once
ok 867 stop after start
2017-01-04 16:11:13 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# One peer with _Local set behind current seq
ok 868 verify failed
ok 869 constructor called once
ok 870 constructor called with right args
ok 871 match start arg
ok 872 start called once
ok 873 stop called once
ok 874 stop after start
2017-01-04 16:11:13 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# One peer with _Local set equal to current seq
ok 875 verify failed
ok 876 constructor called once
ok 877 constructor called with right args
ok 878 match start arg
ok 879 start called once
ok 880 stop called once
ok 881 stop after start
2017-01-04 16:11:13 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# One peer with _Local set ahead of current seq (and no this should not happen)
ok 882 verify failed
ok 883 constructor called once
ok 884 constructor called with right args
ok 885 match start arg
ok 886 start called once
ok 887 stop called once
ok 888 stop after start
2017-01-04 16:11:13 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# Three peers, one not in DB, one behind and one ahead
ok 889 verify failed
ok 890 constructor called once
ok 891 constructor called with right args
ok 892 match start arg
ok 893 start called once
ok 894 stop called once
ok 895 stop after start
2017-01-04 16:11:13 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# More than maximum peers, make sure we only send maximum allowed
ok 896 verify failed
ok 897 constructor called once
ok 898 constructor called with right args
ok 899 match start arg
ok 900 start called once
ok 901 stop called once
ok 902 stop after start
2017-01-04 16:11:13 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# two peers with empty DB, update the doc
2017-01-04 16:11:13 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
ok 903 verify failed
ok 904 constructor called once
ok 905 constructor called with right args
ok 906 last start before stop
ok 907 empty first start
ok 908 full second start
ok 909 only 2 timers
2017-01-04 16:11:13 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# add doc and make sure tokens refresh when they expire
2017-01-04 16:11:14 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
2017-01-04 16:11:14 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
ok 910 verify failed
ok 911 constructor called once
ok 912 constructor called with right args
ok 913 start before stop
ok 914 We got at least 3 calls to start
ok 915 at least 3
ok 916 default 1
ok 917 1 run
ok 918 default 2
ok 919 2 run
ok 920 default 3
2017-01-04 16:11:14 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# start and stop and start and stop
ok 921 start out null
ok 922 back to null
2017-01-04 16:11:14 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
ok 923 still null
ok 924 verify failed
ok 925 constructor called once
ok 926 constructor called with right args
ok 927 first start before first stop
ok 928 first stop before second start
ok 929 second start before second stop
2017-01-04 16:11:14 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# two identical starts in a row
ok 930 verify failed
ok 931 constructor called once
ok 932 constructor called with right args
ok 933 (unnamed assert)
2017-01-04 16:11:14 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# two different starts in a row
2017-01-04 16:11:14 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
ok 934 verify failed
ok 935 constructor called once
ok 936 constructor called with right args
ok 937 (unnamed assert)
ok 938 (unnamed assert)
# teardown
# setup
# two stops and a start and two stops
ok 939 verify failed
ok 940 constructor called once
ok 941 constructor called with right args
ok 942 start before stop
2017-01-04 16:11:14 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
# teardown
# setup
# we properly enqueue requests so no then needed
2017-01-04 16:11:14 - DEBUG thaliSendNotificationBasedOnReplication: 'We must have stopped because we are complete -{"status":"cancelled"}'
ok 943 verify failed
ok 944 constructor called once
ok 945 constructor called with right args
ok 946 start before stop
# teardown
# setup
# test calculateSeqPointKeyId
ok 947 should be equal
ok 948 should be equal
# teardown
# setup
# #_doImmediateSeqUpdate - server is not there
2017-01-04 16:11:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:14 - DEBUG localSeqManager: 'Got an error trying to update seq {"code":"ECONNREFUSED","errno":"ECONNREFUSED","syscall":"connect","status":500}'
ok 949 Got right error
# teardown
2017-01-04 16:11:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - server accepts & closes connection
2017-01-04 16:11:14 - DEBUG localSeqManager: 'Got an error trying to update seq {"code":"ECONNRESET","status":500}'
ok 950 Got socket hang up
# teardown
2017-01-04 16:11:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - server always returns 500
2017-01-04 16:11:14 - DEBUG localSeqManager: 'Got an error trying to update seq []'
ok 951 Got 500 as expected
# teardown
2017-01-04 16:11:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - create new seq doc
ok 952 should be equal
ok 953 revs are equal
# teardown
2017-01-04 16:11:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - doc exists, need to get rev and update
ok 954 should be equal
ok 955 revs are equal
# teardown
2017-01-04 16:11:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - update seq three times
ok 956 should be equal
ok 957 revs are equal
ok 958 should be equal
ok 959 revs are equal
ok 960 should be equal
ok 961 revs are equal
# teardown
2017-01-04 16:11:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - rev got changed under us
2017-01-04 16:11:14 - DEBUG localSeqManager: 'Got an error trying to update seq {"error":"conflict","reason":"Document update conflict","name":"conflict","status":409,"message":"Document update conflict"}'
ok 962 Our rev is old so we should fail
# teardown
2017-01-04 16:11:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - fail if stop is called
ok 963 confirm stop caused failure
# teardown
2017-01-04 16:11:14 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #_doImmediateSeqUpdate - stop after get but before put fails right
2017-01-04 16:11:15 - DEBUG localSeqManager: 'Got an error trying to update seq {"onPut":true}'
ok 964 stop caused us to fail
ok 965 We specifically failed on a stop before put
# teardown
2017-01-04 16:11:15 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - fail if stop is called
ok 966 failed due to stop
ok 967 failed due to stop
# teardown
2017-01-04 16:11:15 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - set seq for first time
ok 968 should be equal
# teardown
2017-01-04 16:11:15 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - Fail on bad seq value
2017-01-04 16:11:15 - DEBUG localSeqManager: 'Got a bad seq, submitted seq 9, _nextSeqValueToSend: 10'
ok 969 Expected bad seq error
# teardown
2017-01-04 16:11:15 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - do we cancel timer properly on an immediate?
ok 970 Different promises
ok 971 Timer was cancelled
ok 972 should be equal
# teardown
2017-01-04 16:11:15 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - do we wait for blocked update
ok 973 One go and one blocked
ok 974 All blocked
ok 975 Still blocked
ok 976 should be equal
# teardown
2017-01-04 16:11:15 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - test that we wait long enough
ok 977 We waited long enough
ok 978 should be equal
# teardown
2017-01-04 16:11:23 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# #update - test that we pick up new sequences while we wait
ok 979 Should have gotten same timer promise
ok 980 Still same timer promise
ok 981 We waited long enough
ok 982 should be equal
# teardown
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# setup
# test thali manager spies
2017-01-04 16:11:31 - DEBUG thaliManager: 'creating ThaliSendNotificationBasedOnReplication instance'
2017-01-04 16:11:31 - DEBUG thaliManager: 'creating ThaliPullReplicationFromNotification instance'
2017-01-04 16:11:31 - DEBUG thaliManager: 'creating express pouchdb instance'
ok 983 expressPouchDB was called once
ok 984 expressPouchDB was called with 2 arguments
ok 985 expressPouchDB was called with 'PouchDB' as 1-st argument
ok 986 expressPouchDB was called with 'expressPouchDB options' as 2-st argument
ok 987 PouchDB was called once
ok 988 PouchDB was called with 1 arguments
ok 989 PouchDB was called with 'dbName' as 1-st argument
ok 990 ThaliSendNotificationBasedOnReplication was called once
ok 991 ThaliSendNotificationBasedOnReplication was called with 4 arguments
ok 992 ThaliSendNotificationBasedOnReplication was called with 'express.Router instance' as 1-st argument
ok 993 ThaliSendNotificationBasedOnReplication was called with 'ecdhForLocalDevice' as 2-st argument
ok 994 ThaliSendNotificationBasedOnReplication was called with 'thaliConfig.BEACON_MILLISECONDS_TO_EXPIRE' as 3-st argument
ok 995 ThaliSendNotificationBasedOnReplication was called with 'PouchDB instance' as 4-st argument
ok 996 ThaliPullReplicationFromNotification was called once
ok 997 ThaliPullReplicationFromNotification was called with 4 arguments
ok 998 ThaliPullReplicationFromNotification was called with 'PouchDB' as 1-st argument
ok 999 ThaliPullReplicationFromNotification was called with 'dbName' as 2-st argument
ok 1000 ThaliPullReplicationFromNotification was called with 'ThaliPeerPoolInterface instance' as 3-st argument
ok 1001 ThaliPullReplicationFromNotification was called with 'ecdhForLocalDevice' as 4-st argument
ok 1002 Salti was called once
ok 1003 Salti was called with 4 arguments
ok 1004 Salti was called with 'dbName' as 1-st argument
ok 1005 Salti was called with 'acl' as 2-st argument
ok 1006 Salti was called with 'thaliIdCallback' as 3-st argument
ok 1007 Salti was called with 'options' as 4-st argument
2017-01-04 16:11:31 - DEBUG thaliManager: 'starting thaliPullReplicationFromNotification'
2017-01-04 16:11:31 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
2017-01-04 16:11:31 - DEBUG thaliManager: 'starting ThaliMobile'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'listening 51216'
2017-01-04 16:11:31 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:11:31 - DEBUG createNativeListener: 'listening 51217'
2017-01-04 16:11:31 - DEBUG thaliManager: 'start listening for advertisements'
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:11:31 - DEBUG thaliManager: 'start update advertising and listening'
2017-01-04 16:11:31 - DEBUG thaliWifiInfrastructure: 'listening 51218'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:11:31 - DEBUG thaliWifiInfrastructure: 'listening 51220'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:11:31 - DEBUG thaliManager: 'starting thaliSendNotificationBasedOnReplication'
ok 1008 ThaliMobile.start was called once
ok 1009 ThaliMobile.start was called with 3 arguments
ok 1010 ThaliMobile.start was called with 'express.Router instance' as 1-st argument
ok 1011 ThaliMobile.start was called with 'getPskIdToSecret' as 2-st argument
ok 1012 ThaliMobile.start was called with 'networkType' as 3-st argument
ok 1013 ThaliMobile.startListeningForAdvertisements was called once
ok 1014 ThaliMobile.startListeningForAdvertisements was called with 0 arguments
ok 1015 ThaliMobile.startUpdateAdvertisingAndListening was called once
ok 1016 ThaliMobile.startUpdateAdvertisingAndListening was called with 0 arguments
ok 1017 ThaliSendNotificationBasedOnReplication.prototype.start was called once
ok 1018 ThaliSendNotificationBasedOnReplication.prototype.start was called with 1 arguments
ok 1019 ThaliSendNotificationBasedOnReplication.prototype.start was called with 'remoteKeys' as 1-st argument
ok 1020 ThaliPullReplicationFromNotification.prototype.start was called once
ok 1021 ThaliPullReplicationFromNotification.prototype.start was called with 1 arguments
ok 1022 ThaliPullReplicationFromNotification.prototype.start was called with 'remoteKeys' as 1-st argument
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping thaliPeerPoolInterface'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping thaliPullReplicationFromNotification'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping thaliSendNotificationBasedOnReplication'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping advertising and listening'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping listening for advertisements'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping ThaliMobile'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 1023 ThaliMobile.stop was called once
ok 1024 ThaliMobile.stop was called with 0 arguments
ok 1025 ThaliMobile.stopListeningForAdvertisements was called once
ok 1026 ThaliMobile.stopListeningForAdvertisements was called with 0 arguments
ok 1027 ThaliMobile.stopAdvertisingAndListening was called once
ok 1028 ThaliMobile.stopAdvertisingAndListening was called with 0 arguments
ok 1029 ThaliSendNotificationBasedOnReplication.prototype.stop was called once
ok 1030 ThaliSendNotificationBasedOnReplication.prototype.stop was called with 0 arguments
ok 1031 ThaliPullReplicationFromNotification.prototype.stop was called once
ok 1032 ThaliPullReplicationFromNotification.prototype.stop was called with 0 arguments
# teardown
# setup
# test thali manager multiple starts and stops
2017-01-04 16:11:31 - DEBUG thaliManager: 'creating ThaliSendNotificationBasedOnReplication instance'
2017-01-04 16:11:31 - DEBUG thaliManager: 'creating ThaliPullReplicationFromNotification instance'
2017-01-04 16:11:31 - DEBUG thaliManager: 'creating express pouchdb instance'
ok 1033 expressPouchDB was called once
ok 1034 expressPouchDB was called with 2 arguments
ok 1035 expressPouchDB was called with 'PouchDB' as 1-st argument
ok 1036 expressPouchDB was called with 'expressPouchDB options' as 2-st argument
ok 1037 PouchDB was called once
ok 1038 PouchDB was called with 1 arguments
ok 1039 PouchDB was called with 'dbName' as 1-st argument
ok 1040 ThaliSendNotificationBasedOnReplication was called once
ok 1041 ThaliSendNotificationBasedOnReplication was called with 4 arguments
ok 1042 ThaliSendNotificationBasedOnReplication was called with 'express.Router instance' as 1-st argument
ok 1043 ThaliSendNotificationBasedOnReplication was called with 'ecdhForLocalDevice' as 2-st argument
ok 1044 ThaliSendNotificationBasedOnReplication was called with 'thaliConfig.BEACON_MILLISECONDS_TO_EXPIRE' as 3-st argument
ok 1045 ThaliSendNotificationBasedOnReplication was called with 'PouchDB instance' as 4-st argument
ok 1046 ThaliPullReplicationFromNotification was called once
ok 1047 ThaliPullReplicationFromNotification was called with 4 arguments
ok 1048 ThaliPullReplicationFromNotification was called with 'PouchDB' as 1-st argument
ok 1049 ThaliPullReplicationFromNotification was called with 'dbName' as 2-st argument
ok 1050 ThaliPullReplicationFromNotification was called with 'ThaliPeerPoolInterface instance' as 3-st argument
ok 1051 ThaliPullReplicationFromNotification was called with 'ecdhForLocalDevice' as 4-st argument
ok 1052 Salti was called once
ok 1053 Salti was called with 4 arguments
ok 1054 Salti was called with 'dbName' as 1-st argument
ok 1055 Salti was called with 'acl' as 2-st argument
ok 1056 Salti was called with 'thaliIdCallback' as 3-st argument
ok 1057 Salti was called with 'options' as 4-st argument
2017-01-04 16:11:31 - DEBUG thaliManager: 'starting thaliPullReplicationFromNotification'
2017-01-04 16:11:31 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
2017-01-04 16:11:31 - DEBUG thaliManager: 'starting ThaliMobile'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'listening 51221'
2017-01-04 16:11:31 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:11:31 - DEBUG createNativeListener: 'listening 51222'
2017-01-04 16:11:31 - DEBUG thaliManager: 'start listening for advertisements'
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:11:31 - DEBUG thaliManager: 'start update advertising and listening'
2017-01-04 16:11:31 - DEBUG thaliWifiInfrastructure: 'listening 51223'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:11:31 - DEBUG thaliWifiInfrastructure: 'listening 51225'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:11:31 - DEBUG thaliManager: 'starting thaliSendNotificationBasedOnReplication'
ok 1058 ThaliMobile.start was called once
ok 1059 ThaliMobile.start was called with 3 arguments
ok 1060 ThaliMobile.start was called with 'express.Router instance' as 1-st argument
ok 1061 ThaliMobile.start was called with 'getPskIdToSecret' as 2-st argument
ok 1062 ThaliMobile.start was called with 'networkType' as 3-st argument
ok 1063 ThaliMobile.startListeningForAdvertisements was called once
ok 1064 ThaliMobile.startListeningForAdvertisements was called with 0 arguments
ok 1065 ThaliMobile.startUpdateAdvertisingAndListening was called once
ok 1066 ThaliMobile.startUpdateAdvertisingAndListening was called with 0 arguments
ok 1067 ThaliSendNotificationBasedOnReplication.prototype.start was called once
ok 1068 ThaliSendNotificationBasedOnReplication.prototype.start was called with 1 arguments
ok 1069 ThaliSendNotificationBasedOnReplication.prototype.start was called with 'remoteKeys' as 1-st argument
ok 1070 ThaliPullReplicationFromNotification.prototype.start was called once
ok 1071 ThaliPullReplicationFromNotification.prototype.start was called with 1 arguments
ok 1072 ThaliPullReplicationFromNotification.prototype.start was called with 'remoteKeys' as 1-st argument
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping thaliPeerPoolInterface'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping thaliPullReplicationFromNotification'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping thaliSendNotificationBasedOnReplication'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping advertising and listening'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping listening for advertisements'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping ThaliMobile'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 1073 ThaliMobile.stop was called once
ok 1074 ThaliMobile.stop was called with 0 arguments
ok 1075 ThaliMobile.stopListeningForAdvertisements was called once
ok 1076 ThaliMobile.stopListeningForAdvertisements was called with 0 arguments
ok 1077 ThaliMobile.stopAdvertisingAndListening was called once
ok 1078 ThaliMobile.stopAdvertisingAndListening was called with 0 arguments
ok 1079 ThaliSendNotificationBasedOnReplication.prototype.stop was called once
ok 1080 ThaliSendNotificationBasedOnReplication.prototype.stop was called with 0 arguments
ok 1081 ThaliPullReplicationFromNotification.prototype.stop was called once
ok 1082 ThaliPullReplicationFromNotification.prototype.stop was called with 0 arguments
2017-01-04 16:11:31 - DEBUG thaliManager: 'starting thaliPullReplicationFromNotification'
2017-01-04 16:11:31 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
2017-01-04 16:11:31 - DEBUG thaliManager: 'starting ThaliMobile'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'listening 51226'
2017-01-04 16:11:31 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:11:31 - DEBUG createNativeListener: 'listening 51227'
2017-01-04 16:11:31 - DEBUG thaliManager: 'start listening for advertisements'
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:11:31 - DEBUG thaliManager: 'start update advertising and listening'
2017-01-04 16:11:31 - DEBUG thaliWifiInfrastructure: 'listening 51228'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:11:31 - DEBUG thaliWifiInfrastructure: 'listening 51230'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:11:31 - DEBUG thaliManager: 'starting thaliSendNotificationBasedOnReplication'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping thaliPeerPoolInterface'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping thaliPullReplicationFromNotification'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping thaliSendNotificationBasedOnReplication'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping advertising and listening'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping listening for advertisements'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping ThaliMobile'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG thaliManager: 'starting thaliPullReplicationFromNotification'
2017-01-04 16:11:31 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
2017-01-04 16:11:31 - DEBUG thaliManager: 'starting ThaliMobile'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'listening 51231'
2017-01-04 16:11:31 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:11:31 - DEBUG createNativeListener: 'listening 51232'
2017-01-04 16:11:31 - DEBUG thaliManager: 'start listening for advertisements'
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:11:31 - DEBUG thaliManager: 'start update advertising and listening'
2017-01-04 16:11:31 - DEBUG thaliWifiInfrastructure: 'listening 51233'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:11:31 - DEBUG thaliWifiInfrastructure: 'listening 51235'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:11:31 - DEBUG thaliManager: 'starting thaliSendNotificationBasedOnReplication'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping thaliPeerPoolInterface'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping thaliPullReplicationFromNotification'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping thaliSendNotificationBasedOnReplication'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping advertising and listening'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping listening for advertisements'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping ThaliMobile'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG thaliManager: 'starting thaliPullReplicationFromNotification'
2017-01-04 16:11:31 - DEBUG thaliPullReplicationFromNotification: 'starting thaliPeerPoolInterface'
2017-01-04 16:11:31 - DEBUG thaliManager: 'starting ThaliMobile'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'listening 51236'
2017-01-04 16:11:31 - DEBUG createNativeListener: 'Creating Native Server'
2017-01-04 16:11:31 - DEBUG createNativeListener: 'listening 51237'
2017-01-04 16:11:31 - DEBUG thaliManager: 'start listening for advertisements'
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:11:31 - INFO nodeSSDPClientLogger: 'Socket bound'
2017-01-04 16:11:31 - DEBUG thaliManager: 'start update advertising and listening'
2017-01-04 16:11:31 - DEBUG thaliWifiInfrastructure: 'listening 51238'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:11:31 - DEBUG thaliWifiInfrastructure: 'listening 51240'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:11:31 - INFO nodeSSDPServerLogger: 'Socket bound'
2017-01-04 16:11:31 - DEBUG thaliManager: 'starting thaliSendNotificationBasedOnReplication'
ok 1083 ThaliMobile.start was called once
ok 1084 ThaliMobile.start was called with 3 arguments
ok 1085 ThaliMobile.start was called with 'express.Router instance' as 1-st argument
ok 1086 ThaliMobile.start was called with 'getPskIdToSecret' as 2-st argument
ok 1087 ThaliMobile.start was called with 'networkType' as 3-st argument
ok 1088 ThaliMobile.startListeningForAdvertisements was called once
ok 1089 ThaliMobile.startListeningForAdvertisements was called with 0 arguments
ok 1090 ThaliMobile.startUpdateAdvertisingAndListening was called once
ok 1091 ThaliMobile.startUpdateAdvertisingAndListening was called with 0 arguments
ok 1092 ThaliSendNotificationBasedOnReplication.prototype.start was called once
ok 1093 ThaliSendNotificationBasedOnReplication.prototype.start was called with 1 arguments
ok 1094 ThaliSendNotificationBasedOnReplication.prototype.start was called with 'remoteKeys' as 1-st argument
ok 1095 ThaliPullReplicationFromNotification.prototype.start was called once
ok 1096 ThaliPullReplicationFromNotification.prototype.start was called with 1 arguments
ok 1097 ThaliPullReplicationFromNotification.prototype.start was called with 'remoteKeys' as 1-st argument
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping thaliPeerPoolInterface'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping thaliPullReplicationFromNotification'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping thaliSendNotificationBasedOnReplication'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping advertising and listening'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:31 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:11:31 - DEBUG thaliManager: 'stopping listening for advertisements'
2017-01-04 16:11:32 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:11:32 - DEBUG thaliManager: 'stopping ThaliMobile'
2017-01-04 16:11:32 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:11:32 - DEBUG createNativeListener: 'Native Server - close'
2017-01-04 16:11:32 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
# teardown
# setup
# ssdp server should be restarted when wifi toggled
2017-01-04 16:11:32 - DEBUG SimpleThaliTape: 'test was skipped, name: 'ssdp server should be restarted when wifi toggled''
# teardown
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - closeAll can close even when connections open'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - closeAll with promise'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - closeAll properly throws when closing a non open server with eatNotRunning set to false'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - closeAll works even with a server that is not listening yet witheatNotRunning set to true'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call of onCheckpointReached handler on a single db change'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call of multiple onCheckpointReached handlers on a single db change'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call of onCheckpointReached handler on multiple db changes that are in the checkpoints plugin delay interval'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call of onCheckpointReached handler on multiple db changes that are out of the checkpoints plugin delay interval'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - test defaultDirectory'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - test defaultAdapter'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - enqueue and run in order'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - enqueueAtTop and run backwards'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - mix enqueue and enqueueAtTop'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - queues handled independently'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - basic'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - another'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Correctly parses/stringifies USN'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - onPeerLost calls jxcore'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - onPeerDiscovered calls jxcore'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Can call start/stopListeningForAdvertisements'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Calling startListeningForAdvertisements twice is NOT an error'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Calling stopListeningForAdvertisements without calling start is NOT an error'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Can call start/stopUpdateAdvertisingAndListening'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Calling startUpdateAdvertisingAndListening twice is NOT an error'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Can call stopUpdateAdvertisingAndListening twice without start and it is not an error'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - cannot call connect when start listening for advertisements is not active'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - calling createNativeListener directly rejects'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - emits incomingConnectionState'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - emits routerPortConnectionFailed'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server connections all up'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - closing incoming stream cleans outgoing socket'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - closing incoming connection cleans outgoing socket'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - closing outgoing socket cleans associated mux stream'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - closing the whole server cleans everything up'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - we can get a ton of connections and data through and still clean up the server completely'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - simulate mux failure, make sure everything is cleaned up'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native server - timing out the incoming connection cleans everything up'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - calling createPeerListener without calling start produces error'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - calling createPeerListener after calling stop produces error'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can call createPeerListener'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - calling createPeerListener twice with same peerIdentifier should return the same port'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - closing connection to native listener closes everything and triggers new listener'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - closing mux closes listener and triggers a new listener'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerListener - no native server'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerListener - with native server'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerListener - with native server and data transfer'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener is idempotent'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - ask for new peer when we are at maximum and make sure we remove the right existing listener'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - ask for a new peer when we are not at maximum peers and make sure we do not remove any existing listeners'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - test timeout'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - multiple connections out'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - multiple bi-directional connections'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - multiple parallel calls'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - createPeerListener - we shouldn't create a dead pipe'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can create servers manager'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - calling stop without start causes error'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can start/stop servers manager'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - starting twice resolves with listening port'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - terminateIncomingConnection will terminate a connection'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - terminate an Outgoing connection'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startListeningForAdvertisements should fail if start not called'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening should fail if start not called'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #stopListeningForAdvertisements many times'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #startListeningForAdvertisements many times'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #startUpdateAdvertisingAndListening many times'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #stopAdvertisingAndListening many times'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can get the network status before starting'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - error returned with bad router'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - all services are stopped when we call stop'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - make sure terminateConnection is properly hooked up'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - make sure terminateListener is properly hooked up'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - make sure we actually call kill connections properly'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - thaliMobileNativeWrapper is stopped when routerPortConnectionFailed is received'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - We fire failedNativeConnection event when we get failedConnection from thaliTcpServersManager'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can do HTTP requests between peers without coordinator'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - make sure bad PSK connections fail'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - peer changes handled from a queue'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - relaying discoveryAdvertisingStateUpdateNonTCP'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - thaliMobileNativeWrapper is stopped when incomingConnectionToPortNumberFailed is received'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - we successfully receive and replay discoveryAdvertisingStateUpdate'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - After #startListeningForAdvertisements call wifiPeerAvailabilityChanged events should be emitted'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening correctly updates USN'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening generates new peerIdentifier after #stopAdvertisingAndListening has been called'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening sends correct requests'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - messages with invalid location or USN should be ignored'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Delayed own message are still ignored after advertisement has been toggled on and off several times'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - verify that Thali-specific messages are filtered correctly'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startListeningForAdvertisements should fail if start not called'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening should fail if start not called'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #start should fail if called twice in a row'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should not be started after stop is called'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening should fail invalid router has been passed'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening should fail if router server starting fails'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening should start hosting given router object'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening bad psk should be rejected object'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #stop can be called multiple times in a row'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startListeningForAdvertisements can be called multiple times in a row'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #stopListeningForAdvertisements can be called multiple times in a row'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #stopAdvertisingAndListening can be called multiple times in a row'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - functions are run from a queue in the right order'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - does not get peer changes from self'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure we turn on and off the Android multicast locks'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - Make sure we do not use Android locks when we are not on Android'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - network changes are ignored while stopping'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startListeningForAdvertisements returns error if wifi is off and fires event when on'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening returns error if wifi is off and fires event when on'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - when wifi is enabled discovery is activated and peers become available'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startListeningForAdvertisements should fail if start not called'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #startUpdateAdvertisingAndListening should fail if start not called'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #stopListeningForAdvertisements many times'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #startListeningForAdvertisements many times'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #startUpdateAdvertisingAndListening many times'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to call #stopAdvertisingAndListening many times'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #start - Causing native or wifi to fail will cause a promise reject '
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #start should fail if called twice in a row'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #stop should clear watchers and change peers'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - #start subscribes to the WiFi infrastructure events and #stop unsubscribes from them (in WiFi-only mode)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - does not emit duplicate discoveryAdvertisingStateUpdate'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - does not send duplicate availability changes'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can get the network status'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - wifi peer is marked unavailable if announcements stop'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native peer should be removed if no availability updates were received during availability timeout'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerAvailabilityChanged - peer added/removed to/from cache (native)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerAvailabilityChanged - peer added/removed to/from cache (wifi)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - peerAvailabilityChanged - peer with the same id, conn type, host, port and generation is ignored'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native available - new peer is cached'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native available - peer with same port and different generation is cached (BLUETOOTH)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native available - peer with the same port and generation but with enough time for generation to wrap around is cached (BLUETOOTH)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - native available - peer with greater generation is cached (MPCF)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - native available - peer with same or older generation is ignored (MPCF)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native unavailable - new peer is ignored'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - native unavailable - cached peer is removed'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - networkChanged - fires peerAvailabilityChanged event for wifi peers'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - networkChanged - fires peerAvailabilityChanged event for native peers (BLUETOOTH)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - networkChanged - fires peerAvailabilityChanged event for native peers (MPCF)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - multiconnect failure - new peer is ignored (MPCF)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - multiconnect failure - cached peer fires peerAvailabilityChanged (MPCF)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - newAddressPort field (TCP_NATIVE)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - newAddressPort field (BLUETOOTH)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - newAddressPort field (MPCF)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - newAddressPort after listenerRecreatedAfterFailure event (BLUETOOTH)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #getPeerHostInfo - error when peer has not been discovered yet'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #getPeerHostInfo - returns discovered cached native peer (BLUETOOTH)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - #getPeerHostInfo - returns discovered cached native peer and calls `_multiConnect` to retrieve the port (MPCF)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #getPeerHostInfo - returns discovered cached wifi peer'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #disconnect fails on wifi peers'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #disconnect delegates native peers to the native wrapper'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - network changes emitted correctly'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - network changes not emitted in started state'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - network changes not emitted in stopped state'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - calls correct starts when network changes'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - We properly fire peer unavailable and then available when connection fails'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - If a peer is not available (and hence is not in the thaliMobile cache) but we already started trying to connect make sure recreate does not happen'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - does not fire duplicate events after peer listener recreation'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - test getters'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - start and kill'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - double start'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - start after kill'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - make sure ids are unique'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #testThaliPeerAction - check that forever agent can be destroyed'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test PeerDictionary basic functionality'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test PeerDictionary with multiple entries.'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - RESOLVED entries are removed before WAITING state entry.'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - WAITING entries are removed before CONTROLLED_BY_POOL state entry.'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - When CONTROLLED_BY_POOL entry is removed and kill is called.'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolDefault - single action'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolDefault - multiple actions'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolDefault - PSK Pool works'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolDefault - stop'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - make sure that start verifies queue length'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - bad enqueues'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - do not allow same object type'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - make sure we catch kill and dequeue'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - make sure our changes to the action leave kill as idempotent'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #ThaliPeerPoolInterface - make sure that stop removes all actions'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - We reject unrecognized connection type'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - We reject unrecognized action type'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - One action on bluetooth'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - Two notification actions'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - replicateThroughProblems'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - Replication goes first'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - wifi allows many parallel non-replication actions'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - wifi allows no more than 2 simultaneous replication actions for same peerID'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test BEACONS_RETRIEVED_AND_PARSED locally'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test HTTP_BAD_RESPONSE locally'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test NETWORK_PROBLEM locally'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Action fails when getPeerHostInfo fails'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call the start two times'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call the kill before calling the start'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call the kill immediately after the start'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call the kill while waiting a response from the server'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test to exceed the max content size locally'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Close the server socket while the client is waiting a response from the server. Local test.'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Close the client socket while the client is waiting a response from the server. Local test.'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #generatePreambleAndBeacons bad args'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #generatePreambleAndBeacons empty keys to notify'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #generatePreambleAndBeacons multiple keys to notify'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons invalid ECDH public key in beaconStreamWithPreAmble'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons invalid expiration in beaconStreamWithPreAmble'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons expiration out of range lower'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons expiration out of range lower'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons no beacons returns null'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons invalid size for encryptedBeaconKeyId in  beaconStreamWithPreAmble'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons addressBookCallback fails decrypt'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons addressBookCallback returns no matches'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons addressBookCallback returns spurious match'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #parseBeacons addressBookCallback returns public key'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - validate generatePskIdentityField'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - validate generatePskSecret'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - validate generatePskSecrets'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - validate generateBeaconStreamAndSecrets'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Add two Peers.'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - TCP_NATIVE peer loses DNS'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Received beacons with no values for us'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Notification action killed with a superseded'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Resolves an action locally'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Resolves an action locally using ThaliPeerPoolDefault'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Action fails because of a bad hostname.'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - hostaddress is removed when the action is running. '
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - notificationClient does not retry action with BAD_PEER resolution'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - notification client correctly handles peer availability changes of the same peer'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Client to server request locally'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test ThaliPskMapCache clean and expiration'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test ThaliPskMapCache getSecret and getPublic'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test ThaliPskMapCache multiple entries'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Start and stop ThaliNotificationServer'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Pass an empty array to ThaliNotificationServer.start'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Pass a string to ThaliNotificationServer.start'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Pass an empty parameter to ThaliNotificationServer.start'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make an HTTP request to /NotificationBeacons'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make an HTTP request to /NotificationBeacons (no keys)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make an HTTP request to /NotificationBeaconsbefore calling start'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure peerDictionaryKey is reasonable'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure start works'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure stop works'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Simple peer event'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Server is not there'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Server accepts & closes connection'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Server always returns 500'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Server always returns 401'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Server always returns 403'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure docs replicate'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Do nothing and make sure we time out'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Do something and make sure we time out'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Start replicating and then catch error when server goes'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure clone works'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - compareBufferArrays'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Call start twice and get error'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Start and make sure it runs'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure getTimeWhenRun is right after start'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure getTimeWhenRun is -1 after function is called'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Make sure getTimeWhenRun is -2 when start has not been called and null if stop is called without running'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Test TransientState'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - No peers and empty database'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - One peer and empty DB'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - One peer with _Local set behind current seq'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - One peer with _Local set equal to current seq'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - One peer with _Local set ahead of current seq (and no this should not happen)'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - Three peers, one not in DB, one behind and one ahead'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - More than maximum peers, make sure we only send maximum allowed'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - two peers with empty DB, update the doc'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - add doc and make sure tokens refresh when they expire'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - start and stop and start and stop'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - two identical starts in a row'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - two different starts in a row'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - two stops and a start and two stops'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - we properly enqueue requests so no then needed'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - test calculateSeqPointKeyId'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - server is not there'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - server accepts & closes connection'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - server always returns 500'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - create new seq doc'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - doc exists, need to get rev and update'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - update seq three times'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - rev got changed under us'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - fail if stop is called'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #_doImmediateSeqUpdate - stop after get but before put fails right'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - fail if stop is called'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - set seq for first time'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - Fail on bad seq value'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - do we cancel timer properly on an immediate?'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - do we wait for blocked update'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - test that we wait long enough'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - #update - test that we pick up new sequences while we wait'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - test thali manager spies'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - test thali manager multiple starts and stops'
2017-01-04 16:11:32 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - ssdp server should be restarted when wifi toggled'
2017-01-04 16:11:32 - DEBUG SimpleThaliTape: 'all unit tests succeeded, platformName: 'android''
2017-01-04 16:11:32 - DEBUG SimpleThaliTape: '****TEST_LOGGER:[PROCESS_ON_EXIT_SUCCESS]****'
2017-01-04 16:11:32 - INFO runTests: 'Finished'

1..1097
# tests 1097
# pass  1097

# ok


> thali-cordova-plugin-jxcore@1.0.0 test-meta /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore
> jx runTests.js meta_tests

2017-01-04 16:11:35 - INFO runTests: 'Starting tests. Network type: undefined. Platform: android'
2017-01-04 16:11:35 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/meta_tests/testCanBeSkipped.js'
2017-01-04 16:11:35 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/meta_tests/testInstall.js'
2017-01-04 16:11:36 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/meta_tests/testPouchDBAgent.js'
2017-01-04 16:11:36 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/meta_tests/testResultsProcessor.js'
2017-01-04 16:11:36 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/meta_tests/testSync.js'
2017-01-04 16:11:36 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/meta_tests/testTestSendData.js'
2017-01-04 16:11:36 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/meta_tests/testTestUtils.js'
2017-01-04 16:11:36 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/meta_tests/testUnitTestFramework.js'
2017-01-04 16:11:36 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
2017-01-04 16:11:36 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:11:36 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:11:36 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:11:36 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:11:36 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
TAP version 13
# setup
# we should not skip test without 'canBeSkipped' function
ok 1 passed
# teardown
# setup
# we should not skip test with 'canBeSkipped' returned false
ok 2 passed
# teardown
# setup
# we should not skip test with 'canBeSkipped' returned promise with false
ok 3 passed
# teardown
# setup
# we should skip test with 'canBeSkipped' returned true
2017-01-04 16:11:36 - DEBUG SimpleThaliTape: 'test was skipped, name: 'we should skip test with 'canBeSkipped' returned true''
# teardown
# setup
# we should skip test with 'canBeSkipped' returned promise with true
2017-01-04 16:11:36 - DEBUG SimpleThaliTape: 'test was skipped, name: 'we should skip test with 'canBeSkipped' returned promise with true''
# teardown
# setup
# two required plugins should get installed
Trying to install jxcore-cordova version: 0.1.8
[36mDownloading:[39m [32mhttp://jxcore.azureedge.net/jxcore-cordova/0.1.8/release/io.jxcore.node.jx
[39m

[1A[K
Attempt 1 / 3

[1A[K


[1A[K
[36mProgress:[39m [32mDone[39m

[32mExtracting plugin package...[39m

[32mDone.[39m

[32mRemoving plugin from project...[39m

[1A[K
[32mAdding plugin to project...[39m

[31mRemoving plugin from project...[39m

[32mCleaning up...[39m

[32mDone.[39m

ok 4 jxcore cordova plugin is installed
ok 5 thali cordova plugin is installed
# teardown
# setup
# PouchDB agent works as expected
ok 6 error is not empty
ok 7 status should be 404
ok 8 method is 'get'
ok 9 path is ok
ok 10 error is not empty
ok 11 status should be 404
ok 12 method is 'get'
ok 13 path is ok
ok 14 we should call agent more than twice
# teardown
# setup
# should be able to process valid results without exceptions
{ 'name:': 'LGE-Nexus 5_PT7062',
  result: 'OK',
  sendList: 
   [ { connections: 3,
       dataAmount: 100000,
       dataReceived: 100000,
       doneRounds: 1,
       name: '90:E7:C4:FC:13:3C',
       result: 'OK',
       time: 57792,
       tryCount: 1 } ],
  time: 119819 }
{ 'name:': 'HTC-HTC6535LVW_PT3841',
  result: 'OK',
  sendList: 
   [ { connections: 2,
       dataAmount: 100000,
       dataReceived: 100000,
       doneRounds: 5,
       name: 'F8:95:C7:13:51:1E',
       result: 'OK',
       time: 30550,
       tryCount: 1 } ],
  time: 115137 }
{ 'name:': 'A5-1', time: 10005, result: 'TIMEOUT', sendList: [] }
--------------- test report ---------------------
--------------- LGE-Nexus 5_PT7062 --------------------- : 1
Send data : 100% : 57792 ms, 99% : 57792 ms, 95 : 57792 ms, 90% : 57792 ms.
Average data rate: 0.002 MB/s
Result count 1, range 57792 ms to  57792 ms.
Send data failed peers count : 0 [0 %]
Send data never tried peers count : 0 [0 %]
--------------- HTC-HTC6535LVW_PT3841 --------------------- : 2
Send data : 100% : 30550 ms, 99% : 30550 ms, 95 : 30550 ms, 90% : 30550 ms.
Average data rate: 0.003 MB/s
Result count 1, range 30550 ms to  30550 ms.
Send data failed peers count : 0 [0 %]
Send data never tried peers count : 0 [0 %]
--------------- A5-1 --------------------- : 3
No send data results!
--------------- Combined ---------------------
Send data : 100% : 57792 ms, 99% : 57792 ms, 95 : 57792 ms, 90% : 57792 ms.
Average data rate: 0.003 MB/s
--------------- end of test report ---------------------
ok 15 received processed results
# teardown
# setup
# connector should fail if server not running
daya0
oneRoundDownNow
ok 16 received a result to the done event
# teardown
# setup
# connector should be able to send data to a running server
daya1000000
oneRoundDownNow
ok 17 received a result to the done event
# teardown
# setup
# should run test with 5 peers
testSendData created {"timeout":1500000,"rounds":1,"dataTimeout":10000,"dataAmount":1000000,"conReTryTimeout":50,"conReTryCount":5,"peerCount":5}bt-address length : 5
daya1000000
check server
serverPort is 8889
StartBroadcasting started ok
[ { address: 'device-address-0' },
  { address: 'device-address-1' },
  { address: 'device-address-2' },
  { address: 'device-address-3' },
  { address: 'device-address-4' } ]
startWithNextDevice
do fake peer & start
Connect to fake peer: device-address-0
oneRoundDownNow
---- round done--------
startWithNextDevice
do fake peer & start
Connect to fake peer: device-address-1
oneRoundDownNow
---- round done--------
startWithNextDevice
do fake peer & start
Connect to fake peer: device-address-2
oneRoundDownNow
---- round done--------
startWithNextDevice
do fake peer & start
Connect to fake peer: device-address-3
oneRoundDownNow
---- round done--------
startWithNextDevice
do fake peer & start
Connect to fake peer: device-address-4
oneRoundDownNow
---- round done--------
startWithNextDevice
weAreDoneNow, resultArray.length: 5
sendReportNow
ok 18 received a result to the done event
ok 19 should be equal
testSendData stopped
# teardown
# setup
# should return same temporary folder when called multiple times
ok 20 should be equal
# teardown
# setup
# should be able to write to the temporary folder
/var/folders/l4/5qwy3_rs54b7gxzyfpwqt8hc0000gn/T/tmp-6550EA5R3ByuF9Hi
ok 21 no error returned when creating a subfolder
# teardown
# setup
# can call hasRequiredHardware
ok 22 resolves with a boolean
# teardown
2017-01-04 16:12:23 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - we should not skip test without 'canBeSkipped' function'
2017-01-04 16:12:23 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - we should not skip test with 'canBeSkipped' returned false'
2017-01-04 16:12:23 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - we should not skip test with 'canBeSkipped' returned promise with false'
2017-01-04 16:12:23 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - we should skip test with 'canBeSkipped' returned true'
2017-01-04 16:12:23 - INFO SimpleThaliTape: '***TEST_LOGGER result: skipped - we should skip test with 'canBeSkipped' returned promise with true'
2017-01-04 16:12:23 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - two required plugins should get installed'
2017-01-04 16:12:23 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - PouchDB agent works as expected'
2017-01-04 16:12:23 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to process valid results without exceptions'
2017-01-04 16:12:23 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - connector should fail if server not running'
2017-01-04 16:12:23 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - connector should be able to send data to a running server'
2017-01-04 16:12:23 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should run test with 5 peers'
2017-01-04 16:12:23 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should return same temporary folder when called multiple times'
2017-01-04 16:12:23 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - should be able to write to the temporary folder'
2017-01-04 16:12:23 - INFO SimpleThaliTape: '***TEST_LOGGER result: passed - can call hasRequiredHardware'
2017-01-04 16:12:23 - DEBUG SimpleThaliTape: 'all unit tests succeeded, platformName: 'android''
2017-01-04 16:12:23 - DEBUG SimpleThaliTape: '****TEST_LOGGER:[PROCESS_ON_EXIT_SUCCESS]****'
2017-01-04 16:12:23 - INFO runTests: 'Finished'

1..22
# tests 22
# pass  22

# ok

2017-01-04 16:12:24 - INFO HttpServer: 'listening on *:3000'

[33m2017-01-04 16:12:27 - DEBUG UnitTest_app: 'Unit Test app is loaded'
[39m
[33m2017-01-04 16:12:27 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
[39m
[33m2017-01-04 16:12:27 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
[39m
[33m2017-01-04 16:12:27 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:12:27 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:12:27 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:12:27 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
2017-01-04 16:12:27 - DEBUG UnitTest_app: 'My device name is: 'c2f7b9d6-738c-45e4-b216-e1291e758352''
2017-01-04 16:12:27 - WARN testUtils: 'myNameCallback not set!'
[39m
[32m2017-01-04 16:12:27 - DEBUG UnitTest_app: 'Unit Test app is loaded'
[39m
[32m2017-01-04 16:12:27 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
[39m
[32m2017-01-04 16:12:27 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
[39m
[32m2017-01-04 16:12:27 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:12:27 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:12:27 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
[39m
[32m2017-01-04 16:12:27 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
[39m
[32m2017-01-04 16:12:27 - DEBUG UnitTest_app: 'My device name is: '6c33e64d-2e8a-4448-8431-70b315fc92ac''
[39m
[32m2017-01-04 16:12:27 - WARN testUtils: 'myNameCallback not set!'
[39m
[36m2017-01-04 16:12:27 - DEBUG UnitTest_app: 'Unit Test app is loaded'
[39m
[36m2017-01-04 16:12:27 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
[39m
[36m2017-01-04 16:12:27 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
[39m
[36m2017-01-04 16:12:27 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
[39m
[36m2017-01-04 16:12:27 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
[39m
[36m2017-01-04 16:12:27 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:12:27 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
[39m
[36m2017-01-04 16:12:27 - DEBUG UnitTest_app: 'My device name is: '16c492fd-7a89-4ce9-99b1-5edfce508585''
[39m
[36m2017-01-04 16:12:27 - WARN testUtils: 'myNameCallback not set!'
[39m
[33m2017-01-04 16:12:27 - INFO runTests: 'Starting tests. Network type: NATIVE. Platform: android'
[39m
[32m2017-01-04 16:12:27 - INFO runTests: 'Starting tests. Network type: NATIVE. Platform: android'
[39m
[33m2017-01-04 16:12:27 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testMakeIntoCloseAllServer.js'
[39m
[32m2017-01-04 16:12:27 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testMakeIntoCloseAllServer.js'
[39m
[33m2017-01-04 16:12:27 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPouchDBCheckpointPlugin.js'
[39m
[32m2017-01-04 16:12:27 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPouchDBCheckpointPlugin.js'
[39m
[36m2017-01-04 16:12:27 - INFO runTests: 'Starting tests. Network type: NATIVE. Platform: android'
[39m
[36m2017-01-04 16:12:27 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testMakeIntoCloseAllServer.js'
[39m
[36m2017-01-04 16:12:27 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPouchDBCheckpointPlugin.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPouchDBGenerator.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPromiseQueue.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testTests.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testUsn.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testNativeMethod.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNative.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeAndroid.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeiOS.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeDiscoveryCoordinated.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testCreateNativeListener.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPouchDBGenerator.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPouchDBGenerator.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPromiseQueue.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testTests.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testPromiseQueue.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testTests.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testUsn.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testUsn.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testNativeMethod.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testNativeMethod.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNative.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNative.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeAndroid.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeiOS.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeAndroid.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeDiscoveryCoordinated.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testCreateNativeListener.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeiOS.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeDiscoveryCoordinated.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testCreateNativeListener.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testCreatePeerListener.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliTcpServersManager.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeWrapper.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliWifiInfrastructure.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobile.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testCreatePeerListener.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliTcpServersManager.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeWrapper.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testCreatePeerListener.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliTcpServersManager.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeWrapper.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerAction.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliWifiInfrastructure.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobile.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerDictionary.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolDefault.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolInterface.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolOneAtATime.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerAction.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerDictionary.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotification.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolDefault.js'
[39m
[33m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationAction.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolInterface.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolOneAtATime.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotification.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliWifiInfrastructure.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobile.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerAction.js'
[39m
[32m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationAction.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerDictionary.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolDefault.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolInterface.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPeerPoolOneAtATime.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotification.js'
[39m
[36m2017-01-04 16:12:28 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationAction.js'
[39m
[33m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationBeacons.js'
[39m
[33m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationClient.js'
[39m
[33m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationLocal.js'
[39m
[33m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationServer.js'
[39m
[33m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPullReplicationFromNotification.js'
[39m
[33m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPullReplicationFromNotificationCoordinated.js'
[39m
[32m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationBeacons.js'
[39m
[33m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationPeerAction.js'
[39m
[32m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationClient.js'
[39m
[32m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationLocal.js'
[39m
[32m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationServer.js'
[39m
[32m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPullReplicationFromNotification.js'
[39m
[32m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPullReplicationFromNotificationCoordinated.js'
[39m
[32m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationPeerAction.js'
[39m
[32m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationPeerActionCoordinated.js'
[39m
[32m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationUtilities.js'
[39m
[32m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliSendNotificationBasedOnReplication.js'
[39m
[32m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testLocalSeqManager.js'
[39m
[32m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testLocalSeqManagerCoordinated.js'
[39m
[32m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliManager.js'
[39m
[33m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationPeerActionCoordinated.js'
[39m
[33m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationUtilities.js'
[39m
[33m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliSendNotificationBasedOnReplication.js'
[39m
[33m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testLocalSeqManager.js'
[39m
[33m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testLocalSeqManagerCoordinated.js'
[39m
[36m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationBeacons.js'
[39m
[33m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliManager.js'
[39m
[36m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationClient.js'
[39m
[36m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationLocal.js'
[39m
[36m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliNotificationServer.js'
[39m
[36m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPullReplicationFromNotification.js'
[39m
[36m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliPullReplicationFromNotificationCoordinated.js'
[39m
[36m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationPeerAction.js'
[39m
[36m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationPeerActionCoordinated.js'
[39m
[36m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliReplicationUtilities.js'
[39m
[36m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliSendNotificationBasedOnReplication.js'
[39m
[36m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testLocalSeqManager.js'
[39m
[36m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testLocalSeqManagerCoordinated.js'
[39m
[36m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliManager.js'
[39m
[33m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliManagerCoordinated.js'
[39m
[36m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliManagerCoordinated.js'
[39m
[32m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliManagerCoordinated.js'
[39m
[33m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testSSDPServer.js'
[39m
[33m2017-01-04 16:12:29 - INFO CoordinatedClient: 'Connecting to coordination server on http://192.168.1.20:3000/'
[39m
[32m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testSSDPServer.js'
[39m
[36m2017-01-04 16:12:29 - INFO testLoader: 'loading file: /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testSSDPServer.js'
[39m
[32m2017-01-04 16:12:29 - INFO CoordinatedClient: 'Connecting to coordination server on http://192.168.1.20:3000/'
[39m
[36m2017-01-04 16:12:29 - INFO CoordinatedClient: 'Connecting to coordination server on http://192.168.1.20:3000/'
[39m
[33m2017-01-04 16:12:29 - DEBUG CoordinatedClient: 'connected to the test server'
[39m
[32m2017-01-04 16:12:29 - DEBUG CoordinatedClient: 'connected to the test server'
[39m
2017-01-04 16:12:29 - DEBUG HttpServer: 'device presented, name: 'c2f7b9d6-738c-45e4-b216-e1291e758352', uuid: '80768969-a9f1-4fe7-b733-c20423ff1e85', platformName: 'android', type: 'unittest', hasRequiredHardware: 'true', nativeUTFailed: 'false''
2017-01-04 16:12:29 - DEBUG TestFramework: 'device added, name: 'c2f7b9d6-738c-45e4-b216-e1291e758352''

2017-01-04 16:12:29 - DEBUG HttpServer: 'device presented, name: '6c33e64d-2e8a-4448-8431-70b315fc92ac', uuid: 'cb9fc3f3-dbd1-4690-85fa-28cda0b09c5a', platformName: 'android', type: 'unittest', hasRequiredHardware: 'true', nativeUTFailed: 'false''
2017-01-04 16:12:29 - DEBUG TestFramework: 'device added, name: '6c33e64d-2e8a-4448-8431-70b315fc92ac''

[36m2017-01-04 16:12:29 - DEBUG CoordinatedClient: 'connected to the test server'
[39m
2017-01-04 16:12:29 - DEBUG HttpServer: 'device presented, name: '16c492fd-7a89-4ce9-99b1-5edfce508585', uuid: '23a7bf3b-ea41-4ed5-87d6-b2c96a81af08', platformName: 'android', type: 'unittest', hasRequiredHardware: 'true', nativeUTFailed: 'false''

2017-01-04 16:12:29 - DEBUG TestFramework: 'device added, name: '16c492fd-7a89-4ce9-99b1-5edfce508585''

2017-01-04 16:12:29 - INFO TestFramework: 'all required 3 devices are present for platformName: 'android''
2017-01-04 16:12:29 - DEBUG UnitTestFramework: 'starting unit tests on 3 devices, platformName: 'android''
2017-01-04 16:12:29 - DEBUG UnitTestFramework: 'scheduling tests'

[32mTAP version 13
[39m
[32m# setup
[39m
[33mTAP version 13
[39m
[33m# setup
[39m
[36mTAP version 13
[39m
[36m# setup
[39m
2017-01-04 16:12:29 - DEBUG UnitTestFramework: 'tests scheduled'

2017-01-04 16:12:29 - DEBUG UnitTestFramework: '#setup: 'closeAll can close even when connections open''

[33m# closeAll can close even when connections open
[39m
[32m# closeAll can close even when connections open
[39m
[36m# closeAll can close even when connections open
[39m
2017-01-04 16:12:29 - DEBUG UnitTestFramework: '#setup ok: 'closeAll can close even when connections open''
2017-01-04 16:12:29 - DEBUG UnitTestFramework: '#run: 'closeAll can close even when connections open''

[32m2017-01-04 16:12:29 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[32mok 1 not possible to connect to the server anymore
[39m
[32m# teardown
[39m
[33m2017-01-04 16:12:29 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[33mok 1 not possible to connect to the server anymore
[39m
[33m# teardown
[39m
[36m2017-01-04 16:12:29 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36mok 1 not possible to connect to the server anymore
[39m
2017-01-04 16:12:29 - DEBUG UnitTestFramework: '#run ok: 'closeAll can close even when connections open''
2017-01-04 16:12:29 - DEBUG UnitTestFramework: '#teardown: 'closeAll can close even when connections open''

[32m# setup
[39m
[33m# setup
[39m
[36m# teardown
[39m
[36m# setup
[39m
2017-01-04 16:12:29 - DEBUG UnitTestFramework: '#teardown ok: 'closeAll can close even when connections open''
2017-01-04 16:12:29 - DEBUG UnitTestFramework: '#setup: 'closeAll with promise''

[32m# closeAll with promise
[39m
[33m# closeAll with promise
[39m
[36m# closeAll with promise
[39m
2017-01-04 16:12:29 - DEBUG UnitTestFramework: '#setup ok: 'closeAll with promise''

2017-01-04 16:12:29 - DEBUG UnitTestFramework: '#run: 'closeAll with promise''

[32m2017-01-04 16:12:30 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[32mok 2 not possible to connect to the server anymore
[39m
[32m# teardown
[39m
[33m2017-01-04 16:12:30 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[33mok 2 not possible to connect to the server anymore
[39m
[33m# teardown
[39m
[36m2017-01-04 16:12:30 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36mok 2 not possible to connect to the server anymore
[39m
[36m# teardown
[39m
2017-01-04 16:12:30 - DEBUG UnitTestFramework: '#run ok: 'closeAll with promise''
2017-01-04 16:12:30 - DEBUG UnitTestFramework: '#teardown: 'closeAll with promise''

[33m# setup
[39m
[32m# setup
[39m
[36m# setup
[39m
2017-01-04 16:12:30 - DEBUG UnitTestFramework: '#teardown ok: 'closeAll with promise''
2017-01-04 16:12:30 - DEBUG UnitTestFramework: '#setup: 'closeAll properly throws when closing a non open server with eatNotRunning set to false''

[32m# closeAll properly throws when closing a non open server with eatNotRunning set to false
[39m
[33m# closeAll properly throws when closing a non open server with eatNotRunning set to false
[39m
[36m# closeAll properly throws when closing a non open server with eatNotRunning set to false
[39m
2017-01-04 16:12:30 - DEBUG UnitTestFramework: '#setup ok: 'closeAll properly throws when closing a non open server with eatNotRunning set to false''

2017-01-04 16:12:30 - DEBUG UnitTestFramework: '#run: 'closeAll properly throws when closing a non open server with eatNotRunning set to false''

[32m2017-01-04 16:12:30 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[33m2017-01-04 16:12:30 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[33mok 3 Got the right error
[39m
[32mok 3 Got the right error
[39m
[32m# teardown
[39m
[33m# teardown
[39m
[36m2017-01-04 16:12:30 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
ok 3 Got the right error
[39m
2017-01-04 16:12:30 - DEBUG UnitTestFramework: '#run ok: 'closeAll properly throws when closing a non open server with eatNotRunning set to false''
2017-01-04 16:12:30 - DEBUG UnitTestFramework: '#teardown: 'closeAll properly throws when closing a non open server with eatNotRunning set to false''

[33m# setup
[39m
[32m# setup
[39m
[36m# teardown
[39m
[36m# setup
[39m
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#teardown ok: 'closeAll properly throws when closing a non open server with eatNotRunning set to false''
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#setup: 'closeAll works even with a server that is not listening yet witheatNotRunning set to true''

[33m# closeAll works even with a server that is not listening yet witheatNotRunning set to true
[39m
[32m# closeAll works even with a server that is not listening yet witheatNotRunning set to true
[39m
[36m# closeAll works even with a server that is not listening yet witheatNotRunning set to true
[39m
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#setup ok: 'closeAll works even with a server that is not listening yet witheatNotRunning set to true''

2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#run: 'closeAll works even with a server that is not listening yet witheatNotRunning set to true''

[33m2017-01-04 16:12:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[33m# teardown
[39m
[32m2017-01-04 16:12:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[32m# teardown
[39m
[36m2017-01-04 16:12:31 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m# teardown
[39m
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#run ok: 'closeAll works even with a server that is not listening yet witheatNotRunning set to true''
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#teardown: 'closeAll works even with a server that is not listening yet witheatNotRunning set to true''

[33m# setup
[39m
[36m# setup
[39m
[32m# setup
[39m
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#teardown ok: 'closeAll works even with a server that is not listening yet witheatNotRunning set to true''
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#setup: 'Call of onCheckpointReached handler on a single db change''

[33m# Call of onCheckpointReached handler on a single db change
[39m
[32m# Call of onCheckpointReached handler on a single db change
[39m
[36m# Call of onCheckpointReached handler on a single db change
[39m
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#setup ok: 'Call of onCheckpointReached handler on a single db change''
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#run: 'Call of onCheckpointReached handler on a single db change''

[33m# teardown
[39m
[32m# teardown
[39m
[36m# teardown
[39m
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#run ok: 'Call of onCheckpointReached handler on a single db change''
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#teardown: 'Call of onCheckpointReached handler on a single db change''

[33m# setup
[39m
[36m# setup
[39m
[32m# setup
[39m
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#teardown ok: 'Call of onCheckpointReached handler on a single db change''
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#setup: 'Call of multiple onCheckpointReached handlers on a single db change''

[32m# Call of multiple onCheckpointReached handlers on a single db change
[39m
[33m# Call of multiple onCheckpointReached handlers on a single db change
[39m
[36m# Call of multiple onCheckpointReached handlers on a single db change
[39m
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#setup ok: 'Call of multiple onCheckpointReached handlers on a single db change''
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#run: 'Call of multiple onCheckpointReached handlers on a single db change''

[32m# teardown
[39m
[33m# teardown
[39m
[36m# teardown
[39m
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#run ok: 'Call of multiple onCheckpointReached handlers on a single db change''
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#teardown: 'Call of multiple onCheckpointReached handlers on a single db change''

[33m# setup
[39m
[36m# setup
[39m
[32m# setup
[39m
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#teardown ok: 'Call of multiple onCheckpointReached handlers on a single db change''
2017-01-04 16:12:31 - DEBUG UnitTestFramework: '#setup: 'Call of onCheckpointReached handler on multiple db changes that are in the checkpoints plugin delay interval''

[33m# Call of onCheckpointReached handler on multiple db changes that are in the checkpoints plugin delay interval
[39m
[32m# Call of onCheckpointReached handler on multiple db changes that are in the checkpoints plugin delay interval
[39m
[36m# Call of onCheckpointReached handler on multiple db changes that are in the checkpoints plugin delay interval
[39m
2017-01-04 16:12:32 - DEBUG UnitTestFramework: '#setup ok: 'Call of onCheckpointReached handler on multiple db changes that are in the checkpoints plugin delay interval''
2017-01-04 16:12:32 - DEBUG UnitTestFramework: '#run: 'Call of onCheckpointReached handler on multiple db changes that are in the checkpoints plugin delay interval''

[32mok 4 the checkpointReached handler should be called once. Called 1 time(s)
# teardown
[39m
[36mok 4 the checkpointReached handler should be called once. Called 1 time(s)
# teardown
[39m
[33mok 4 the checkpointReached handler should be called once. Called 1 time(s)
[39m
[33m# teardown
[39m
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#run ok: 'Call of onCheckpointReached handler on multiple db changes that are in the checkpoints plugin delay interval''

2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#teardown: 'Call of onCheckpointReached handler on multiple db changes that are in the checkpoints plugin delay interval''

[33m# setup
[39m
[32m# setup
[39m
[36m# setup
[39m
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#teardown ok: 'Call of onCheckpointReached handler on multiple db changes that are in the checkpoints plugin delay interval''
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#setup: 'Call of onCheckpointReached handler on multiple db changes that are out of the checkpoints plugin delay interval''

[32m# Call of onCheckpointReached handler on multiple db changes that are out of the checkpoints plugin delay interval
[39m
[33m# Call of onCheckpointReached handler on multiple db changes that are out of the checkpoints plugin delay interval
[39m
[36m# Call of onCheckpointReached handler on multiple db changes that are out of the checkpoints plugin delay interval
[39m
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#setup ok: 'Call of onCheckpointReached handler on multiple db changes that are out of the checkpoints plugin delay interval''

2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#run: 'Call of onCheckpointReached handler on multiple db changes that are out of the checkpoints plugin delay interval''

[36m# teardown
[39m
[33m# teardown
[39m
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#run ok: 'Call of onCheckpointReached handler on multiple db changes that are out of the checkpoints plugin delay interval''
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#teardown: 'Call of onCheckpointReached handler on multiple db changes that are out of the checkpoints plugin delay interval''

[32m# teardown
[39m
[32m# setup
[39m
[33m# setup
[39m
[36m# setup
[39m
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#teardown ok: 'Call of onCheckpointReached handler on multiple db changes that are out of the checkpoints plugin delay interval''
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#setup: 'test defaultDirectory''

[36m# test defaultDirectory
[39m
[33m# test defaultDirectory
[39m
[32m# test defaultDirectory
[39m
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#setup ok: 'test defaultDirectory''

2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#run: 'test defaultDirectory''

[33mok 5 should be equal
ok 6 should be equal
ok 7 should be equal
# teardown
[39m
[32mok 5 should be equal
ok 6 should be equal
ok 7 should be equal
# teardown
[39m
[36mok 5 should be equal
[39m
[36mok 6 should be equal
[39m
[36mok 7 should be equal
[39m
[36m# teardown
[39m
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#run ok: 'test defaultDirectory''
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#teardown: 'test defaultDirectory''

[33m# setup
[39m
[32m# setup
[39m
[36m# setup
[39m
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#teardown ok: 'test defaultDirectory''
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#setup: 'test defaultAdapter''

[33m# test defaultAdapter
[39m
[36m# test defaultAdapter
[39m
[32m# test defaultAdapter
[39m
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#setup ok: 'test defaultAdapter''

2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#run: 'test defaultAdapter''

[33mok 8 should be equal
ok 9 should be equal
ok 10 should be equal
ok 11 should be equal
ok 12 should be equal
ok 13 should be equal
ok 14 should be equal
ok 15 should be equal
# teardown
[39m
[32mok 8 should be equal
ok 9 should be equal
ok 10 should be equal
ok 11 should be equal
ok 12 should be equal
ok 13 should be equal
ok 14 should be equal
ok 15 should be equal
# teardown
[39m
[36mok 8 should be equal
ok 9 should be equal
[39m
[36mok 10 should be equal
[39m
[36mok 11 should be equal
[39m
[36mok 12 should be equal
[39m
[36mok 13 should be equal
[39m
[36mok 14 should be equal
[39m
[36mok 15 should be equal
[39m
[36m# teardown
[39m
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#run ok: 'test defaultAdapter''
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#teardown: 'test defaultAdapter''

[33m# setup
[39m
[36m# setup
[39m
[32m# setup
[39m
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#teardown ok: 'test defaultAdapter''

2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#setup: 'enqueue and run in order''

[32m# enqueue and run in order
[39m
[33m# enqueue and run in order
[39m
[36m# enqueue and run in order
[39m
2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#setup ok: 'enqueue and run in order''

2017-01-04 16:12:33 - DEBUG UnitTestFramework: '#run: 'enqueue and run in order''

[33m2017-01-04 16:12:33 - WARN pouchDBCheckpointsPlugin: 'Couldn't check db size after destroy'
[39m
[36m2017-01-04 16:12:33 - WARN pouchDBCheckpointsPlugin: 'Couldn't check db size after destroy'
[39m
[33mok 16 firstPromise setTimeout
[39m
[33mok 17 firstPromise result
[39m
[33mok 18 firstPromise testValue
[39m
[36mok 16 firstPromise setTimeout
[39m
[36mok 17 firstPromise result
[39m
[36mok 18 firstPromise testValue
[39m
[32mok 16 firstPromise setTimeout
[39m
[32mok 17 firstPromise result
[39m
[32mok 18 firstPromise testValue
[39m
[33mok 19 secondPromise setTimeout
[39m
[33mok 20 secondPromise result
[39m
[33mok 21 secondPromise testValue
[39m
[33mok 22 thirdPromise in promise
ok 23 thirdPromise result
[39m
[33mok 24 thirdPromise testValue
[39m
[33m# teardown
[39m
[36mok 19 secondPromise setTimeout
[39m
[36mok 20 secondPromise result
[39m
[36mok 21 secondPromise testValue
[39m
[36mok 22 thirdPromise in promise
[39m
[32mok 19 secondPromise setTimeout
[39m
[36mok 23 thirdPromise result
[39m
[32mok 20 secondPromise result
[39m
[32mok 21 secondPromise testValue
[39m
[36mok 24 thirdPromise testValue
[39m
[32mok 22 thirdPromise in promise
[39m
[32mok 23 thirdPromise result
[39m
[36m# teardown
[39m
[32mok 24 thirdPromise testValue
[39m
[32m# teardown
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run ok: 'enqueue and run in order''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown: 'enqueue and run in order''

[32m# setup
[39m
[33m# setup
[39m
[36m# setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown ok: 'enqueue and run in order''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup: 'enqueueAtTop and run backwards''

[33m# enqueueAtTop and run backwards
[39m
[32m# enqueueAtTop and run backwards
[39m
[36m# enqueueAtTop and run backwards
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup ok: 'enqueueAtTop and run backwards''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run: 'enqueueAtTop and run backwards''

[33mok 25 thirdPromise - first to run
[39m
[33mok 26 thirdPromise - in resolve
[39m
[33mok 27 secondPromise - second to run
[39m
[33mok 28 secondPromise - in catch
ok 29 firstPromise - third to run
ok 30 firstPromise - in then
ok 31 testing promises
# teardown
[39m
[36mok 25 thirdPromise - first to run
ok 26 thirdPromise - in resolve
ok 27 secondPromise - second to run
ok 28 secondPromise - in catch
ok 29 firstPromise - third to run
ok 30 firstPromise - in then
[39m
[36mok 31 testing promises
[39m
[36m# teardown
[39m
[32mok 25 thirdPromise - first to run
ok 26 thirdPromise - in resolve
[39m
[32mok 27 secondPromise - second to run
[39m
[32mok 28 secondPromise - in catch
ok 29 firstPromise - third to run
[39m
[32mok 30 firstPromise - in then
[39m
[32mok 31 testing promises
[39m
[32m# teardown
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run ok: 'enqueueAtTop and run backwards''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown: 'enqueueAtTop and run backwards''

[32m# setup
[39m
[33m# setup
[39m
[36m# setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown ok: 'enqueueAtTop and run backwards''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup: 'mix enqueue and enqueueAtTop''

[33m# mix enqueue and enqueueAtTop
[39m
[36m# mix enqueue and enqueueAtTop
[39m
[32m# mix enqueue and enqueueAtTop
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup ok: 'mix enqueue and enqueueAtTop''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run: 'mix enqueue and enqueueAtTop''

[33mok 32 fourth
ok 33 fourth
[39m
[33mok 34 second
ok 35 secondPromise - in then
[39m
[32mok 32 fourth
ok 33 fourth
[39m
[32mok 34 second
ok 35 secondPromise - in then
[39m
[36mok 32 fourth
ok 33 fourth
ok 34 second
ok 35 secondPromise - in then
[39m
[33mok 36 first
[39m
[33mok 37 firstPromise - in catch
[39m
[36mok 36 first
[39m
[33mok 38 third
[39m
[36mok 37 firstPromise - in catch
[39m
[36mok 38 third
[39m
[33mok 39 thirdPromise - in then
[39m
[36mok 39 thirdPromise - in then
[39m
[33mok 40 testingPromises
[39m
[36mok 40 testingPromises
[39m
[33m# teardown
[39m
[32mok 36 first
[39m
[32mok 37 firstPromise - in catch
[39m
[36m# teardown
[39m
[32mok 38 third
[39m
[32mok 39 thirdPromise - in then
[39m
[32mok 40 testingPromises
[39m
[32m# teardown
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run ok: 'mix enqueue and enqueueAtTop''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown: 'mix enqueue and enqueueAtTop''

[33m# setup
[39m
[32m# setup
[39m
[36m# setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown ok: 'mix enqueue and enqueueAtTop''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup: 'queues handled independently''

[33m# queues handled independently
[39m
[32m# queues handled independently
[39m
[36m# queues handled independently
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup ok: 'queues handled independently''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run: 'queues handled independently''

[36mok 41 all short operations completed before the long resolves
[39m
[33mok 41 all short operations completed before the long resolves
[39m
[36m# teardown
[39m
[32mok 41 all short operations completed before the long resolves
[39m
[33m# teardown
[39m
[32m# teardown
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run ok: 'queues handled independently''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown: 'queues handled independently''

[33m# setup
[39m
[32m# setup
[39m
[36m# setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown ok: 'queues handled independently''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup: 'basic''

[33m# basic
[39m
[32m# basic
[39m
[36m# basic
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup ok: 'basic''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run: 'basic''

[32mok 42 sane
[39m
[32m# teardown
[39m
[33mok 42 sane
[39m
[33m# teardown
[39m
[36mok 42 sane
[39m
[36m# teardown
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run ok: 'basic''
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown: 'basic''

[33m# setup
[39m
[32m# setup
[39m
[36m# setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown ok: 'basic''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup: 'another''

[33m# another
[39m
[32m# another
[39m
[36m# another
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup ok: 'another''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run: 'another''

[33mok 43 sane
[39m
[33m# teardown
[39m
[32mok 43 sane
[39m
[32m# teardown
[39m
[36mok 43 sane
[39m
[36m# teardown
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run ok: 'another''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown: 'another''

[33m# setup
[39m
[32m# setup
[39m
[36m# setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown ok: 'another''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup: 'can pass data in setup''

[33m# can pass data in setup
[39m
[32m# can pass data in setup
[39m
[36m# can pass data in setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup ok: 'can pass data in setup''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run: 'can pass data in setup''

[33mok 44 test participant has uuid
[39m
[33mok 45 participant data matches
[39m
[33mok 46 test participant has uuid
[39m
[33mok 47 participant data matches
[39m
[33mok 48 test participant has uuid
ok 49 participant data matches
[39m
[33mok 50 own UUID is found from the participants list
[39m
[33m# teardown
[39m
[32mok 44 test participant has uuid
ok 45 participant data matches
ok 46 test participant has uuid
ok 47 participant data matches
[39m
[32mok 48 test participant has uuid
ok 49 participant data matches
ok 50 own UUID is found from the participants list
[39m
[32m# teardown
[39m
[36mok 44 test participant has uuid
ok 45 participant data matches
[39m
[36mok 46 test participant has uuid
ok 47 participant data matches
ok 48 test participant has uuid
[39m
[36mok 49 participant data matches
ok 50 own UUID is found from the participants list
[39m
[36m# teardown
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run ok: 'can pass data in setup''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown: 'can pass data in setup''

[33m# setup
[39m
[32m# setup
[39m
[36m# setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown ok: 'can pass data in setup''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup: 'Correctly parses/stringifies USN''

[32m# Correctly parses/stringifies USN
[39m
[33m# Correctly parses/stringifies USN
[39m
[36m# Correctly parses/stringifies USN
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup ok: 'Correctly parses/stringifies USN''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run: 'Correctly parses/stringifies USN''

[33mok 51 correctly parses USN string
ok 52 throws if usn has invalid prefix
ok 53 throws if usn has invalid identifier format
ok 54 throws if usn has invalid generation
ok 55 correctly stringifies peer
# teardown
[39m
[32mok 51 correctly parses USN string
[39m
[32mok 52 throws if usn has invalid prefix
[39m
[32mok 53 throws if usn has invalid identifier format
ok 54 throws if usn has invalid generation
ok 55 correctly stringifies peer
[39m
[36mok 51 correctly parses USN string
[39m
[36mok 52 throws if usn has invalid prefix
ok 53 throws if usn has invalid identifier format
ok 54 throws if usn has invalid generation
ok 55 correctly stringifies peer
[39m
[32m# teardown
[39m
[36m# teardown
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run ok: 'Correctly parses/stringifies USN''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown: 'Correctly parses/stringifies USN''

[33m# setup
[39m
[36m# setup
[39m
[32m# setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown ok: 'Correctly parses/stringifies USN''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup: 'onPeerLost calls jxcore''

[33m# onPeerLost calls jxcore
[39m
[33m2017-01-04 16:12:34 - DEBUG CoordinatedClient: 'test was skipped, name: 'onPeerLost calls jxcore''
[39m
[32m# onPeerLost calls jxcore
2017-01-04 16:12:34 - DEBUG CoordinatedClient: 'test was skipped, name: 'onPeerLost calls jxcore''
[39m
[36m# onPeerLost calls jxcore
2017-01-04 16:12:34 - DEBUG CoordinatedClient: 'test was skipped, name: 'onPeerLost calls jxcore''
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup ok: 'onPeerLost calls jxcore''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run: 'onPeerLost calls jxcore''

[33m# teardown
[39m
[32m# teardown
[39m
[36m# teardown
[39m
2017-01-04 16:12:34 - INFO Socket: 'run skipped, test: 'onPeerLost calls jxcore', event: 'run_onPeerLost calls jxcore''

2017-01-04 16:12:34 - INFO Socket: 'run skipped, test: 'onPeerLost calls jxcore', event: 'run_onPeerLost calls jxcore''

2017-01-04 16:12:34 - INFO Socket: 'run skipped, test: 'onPeerLost calls jxcore', event: 'run_onPeerLost calls jxcore''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run ok: 'onPeerLost calls jxcore''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown: 'onPeerLost calls jxcore''

[33m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
[39m
[33m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
[39m
[32m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
[39m
[32m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
[39m
[32m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
[39m
[32m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
[39m
[33m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
[39m
[33m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
[39m
[32m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
[39m
[32m# setup
[39m
[33m# setup
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
[39m
[36m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown ok: 'onPeerLost calls jxcore''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup: 'onPeerDiscovered calls jxcore''

[33m# onPeerDiscovered calls jxcore
[39m
[32m# onPeerDiscovered calls jxcore
2017-01-04 16:12:34 - DEBUG CoordinatedClient: 'test was skipped, name: 'onPeerDiscovered calls jxcore''
[39m
[33m2017-01-04 16:12:34 - DEBUG CoordinatedClient: 'test was skipped, name: 'onPeerDiscovered calls jxcore''
[39m
[36m# onPeerDiscovered calls jxcore
2017-01-04 16:12:34 - DEBUG CoordinatedClient: 'test was skipped, name: 'onPeerDiscovered calls jxcore''
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup ok: 'onPeerDiscovered calls jxcore''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run: 'onPeerDiscovered calls jxcore''

[32m# teardown
[39m
[33m# teardown
[39m
[36m# teardown
[39m
2017-01-04 16:12:34 - INFO Socket: 'run skipped, test: 'onPeerDiscovered calls jxcore', event: 'run_onPeerDiscovered calls jxcore''

2017-01-04 16:12:34 - INFO Socket: 'run skipped, test: 'onPeerDiscovered calls jxcore', event: 'run_onPeerDiscovered calls jxcore''

2017-01-04 16:12:34 - INFO Socket: 'run skipped, test: 'onPeerDiscovered calls jxcore', event: 'run_onPeerDiscovered calls jxcore''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run ok: 'onPeerDiscovered calls jxcore''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown: 'onPeerDiscovered calls jxcore''

[32m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
[39m
[32m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
[39m
[32m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
[39m
[32m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
[39m
[32m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
[39m
[32m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
[39m
[32m# setup
[39m
[33m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
[39m
[33m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
[39m
[33m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
[39m
[33m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
[39m
[33m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
[39m
[33m# setup
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method peerAvailabilityChanged registered to native'
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method discoveryAdvertisingStateUpdateNonTCP registered to native'
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'networkChanged: {"wifi":"on","bluetooth":"on","bluetoothLowEnergy":"on","cellular":"on","bssidName":"c1:5b:05:5a:41:1e","ssidName":"myWifi"}'
[39m
[36m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out networkChangedNonTCP (was in stopped state).'
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method networkChanged registered to native'
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'Method incomingConnectionToPortNumberFailed registered to native'
# setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown ok: 'onPeerDiscovered calls jxcore''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup: 'Can call start/stopListeningForAdvertisements''

[33m# Can call start/stopListeningForAdvertisements
[39m
[32m# Can call start/stopListeningForAdvertisements
[39m
[36m# Can call start/stopListeningForAdvertisements
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup ok: 'Can call start/stopListeningForAdvertisements''
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run: 'Can call start/stopListeningForAdvertisements''

[33m2017-01-04 16:12:34 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
[39m
[33m2017-01-04 16:12:34 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[33m2017-01-04 16:12:34 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[33mok 56 Can call startListeningForAdvertisements without error
[39m
[33m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
[39m
[33m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[33mok 57 Can call stopListeningForAdvertisements without error
[39m
[33m# teardown
[39m
[32m2017-01-04 16:12:34 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[32m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:12:34 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32m2017-01-04 16:12:34 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[32mok 56 Can call startListeningForAdvertisements without error
[39m
[32m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
[39m
[32m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32mok 57 Can call stopListeningForAdvertisements without error
[39m
[32m# teardown
[39m
[36m2017-01-04 16:12:34 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
[39m
[36m2017-01-04 16:12:34 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[36m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36m2017-01-04 16:12:34 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[36mok 56 Can call startListeningForAdvertisements without error
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
[39m
[36m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36mok 57 Can call stopListeningForAdvertisements without error
[39m
[36m# teardown
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run ok: 'Can call start/stopListeningForAdvertisements''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown: 'Can call start/stopListeningForAdvertisements''

[33mok 58 Should be able to call stopListeningForAdvertisements in teardown
[39m
[32mok 58 Should be able to call stopListeningForAdvertisements in teardown
[39m
[33mok 59 Should be able to call stopAdvertisingAndListening in teardown
[39m
[32mok 59 Should be able to call stopAdvertisingAndListening in teardown
[39m
[33mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[32mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[33m# setup
[39m
[32m# setup
[39m
[36mok 58 Should be able to call stopListeningForAdvertisements in teardown
[39m
[36mok 59 Should be able to call stopAdvertisingAndListening in teardown
[39m
[36mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[36m# setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown ok: 'Can call start/stopListeningForAdvertisements''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup: 'Calling startListeningForAdvertisements twice is NOT an error''

[33m# Calling startListeningForAdvertisements twice is NOT an error
[39m
[32m# Calling startListeningForAdvertisements twice is NOT an error
[39m
[36m# Calling startListeningForAdvertisements twice is NOT an error
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup ok: 'Calling startListeningForAdvertisements twice is NOT an error''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run: 'Calling startListeningForAdvertisements twice is NOT an error''

[33m2017-01-04 16:12:34 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[32m2017-01-04 16:12:34 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[33m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
[39m
[33m2017-01-04 16:12:34 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[32m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
[39m
[32m2017-01-04 16:12:34 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[33m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:34 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[32mok 60 Can call startListeningForAdvertisements without error
[39m
[33m2017-01-04 16:12:34 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[33mok 60 Can call startListeningForAdvertisements without error
[39m
[32mok 61 Can call startListeningForAdvertisements twice without error
[39m
[33mok 61 Can call startListeningForAdvertisements twice without error
[39m
[33m# teardown
[39m
[32m# teardown
[39m
[36m2017-01-04 16:12:34 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
[39m
[36m2017-01-04 16:12:34 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[36m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36m2017-01-04 16:12:34 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[36mok 60 Can call startListeningForAdvertisements without error
ok 61 Can call startListeningForAdvertisements twice without error
# teardown
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run ok: 'Calling startListeningForAdvertisements twice is NOT an error''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown: 'Calling startListeningForAdvertisements twice is NOT an error''

[33m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 62 Should be able to call stopListeningForAdvertisements in teardown
ok 63 Should be able to call stopAdvertisingAndListening in teardown
# setup
[39m
[32m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 62 Should be able to call stopListeningForAdvertisements in teardown
ok 63 Should be able to call stopAdvertisingAndListening in teardown
# setup
[39m
[33mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[32mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36mok 62 Should be able to call stopListeningForAdvertisements in teardown
[39m
[36mok 63 Should be able to call stopAdvertisingAndListening in teardown
[39m
[36mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[36m# setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown ok: 'Calling startListeningForAdvertisements twice is NOT an error''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup: 'Calling stopListeningForAdvertisements without calling start is NOT an error''

[33m# Calling stopListeningForAdvertisements without calling start is NOT an error
[39m
[36m# Calling stopListeningForAdvertisements without calling start is NOT an error
[39m
[32m# Calling stopListeningForAdvertisements without calling start is NOT an error
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup ok: 'Calling stopListeningForAdvertisements without calling start is NOT an error''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run: 'Calling stopListeningForAdvertisements without calling start is NOT an error''

[33mok 64 Can call stopListeningForAdvertisements without error
ok 65 Can call stopListeningForAdvertisements without error
# teardown
[39m
[32mok 64 Can call stopListeningForAdvertisements without error
[39m
[32mok 65 Can call stopListeningForAdvertisements without error
[39m
[32m# teardown
[39m
[36mok 64 Can call stopListeningForAdvertisements without error
[39m
[36mok 65 Can call stopListeningForAdvertisements without error
[39m
[36m# teardown
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run ok: 'Calling stopListeningForAdvertisements without calling start is NOT an error''
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown: 'Calling stopListeningForAdvertisements without calling start is NOT an error''

[33mok 66 Should be able to call stopListeningForAdvertisements in teardown
[39m
[33mok 67 Should be able to call stopAdvertisingAndListening in teardown
[39m
[33mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[33m# setup
[39m
[32mok 66 Should be able to call stopListeningForAdvertisements in teardown
ok 67 Should be able to call stopAdvertisingAndListening in teardown
[39m
[36mok 66 Should be able to call stopListeningForAdvertisements in teardown
ok 67 Should be able to call stopAdvertisingAndListening in teardown
[39m
[32mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[32m# setup
[39m
[36mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[36m# setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown ok: 'Calling stopListeningForAdvertisements without calling start is NOT an error''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup: 'Can call start/stopUpdateAdvertisingAndListening''

[33m# Can call start/stopUpdateAdvertisingAndListening
[39m
[32m# Can call start/stopUpdateAdvertisingAndListening
[39m
[36m# Can call start/stopUpdateAdvertisingAndListening
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup ok: 'Can call start/stopUpdateAdvertisingAndListening''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run: 'Can call start/stopUpdateAdvertisingAndListening''

[32m2017-01-04 16:12:34 - DEBUG thaliWifiInfrastructure: 'listening 51275'
2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[32m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[32m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
[39m
[32m2017-01-04 16:12:34 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[32m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[32mok 68 Can call startUpdateAdvertisingAndListening without error
[39m
[32m2017-01-04 16:12:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[33m2017-01-04 16:12:34 - DEBUG thaliWifiInfrastructure: 'listening 51276'
2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[33m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
[39m
[33m2017-01-04 16:12:34 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[33m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[33mok 68 Can call startUpdateAdvertisingAndListening without error
[39m
[33m2017-01-04 16:12:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[32m2017-01-04 16:12:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[32m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
[39m
[32m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32mok 69 Can call stopAdvertisingAndListening without error
[39m
[32m# teardown
[39m
[33m2017-01-04 16:12:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 69 Can call stopAdvertisingAndListening without error
[39m
[33m# teardown
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliWifiInfrastructure: 'listening 51277'
[39m
[36m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[36m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
[39m
[36m2017-01-04 16:12:34 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[36m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[36mok 68 Can call startUpdateAdvertisingAndListening without error
[39m
[36m2017-01-04 16:12:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
[39m
[36m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36mok 69 Can call stopAdvertisingAndListening without error
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run ok: 'Can call start/stopUpdateAdvertisingAndListening''
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown: 'Can call start/stopUpdateAdvertisingAndListening''

[33mok 70 Should be able to call stopListeningForAdvertisements in teardown
[39m
[32mok 70 Should be able to call stopListeningForAdvertisements in teardown
[39m
[32mok 71 Should be able to call stopAdvertisingAndListening in teardown
[39m
[33mok 71 Should be able to call stopAdvertisingAndListening in teardown
[39m
[33mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[32mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[33m# setup
[39m
[32m# setup
[39m
[36m# teardown
[39m
[36mok 70 Should be able to call stopListeningForAdvertisements in teardown
[39m
[36mok 71 Should be able to call stopAdvertisingAndListening in teardown
[39m
[36mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[36m# setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown ok: 'Can call start/stopUpdateAdvertisingAndListening''
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup: 'Calling startUpdateAdvertisingAndListening twice is NOT an error''

[33m# Calling startUpdateAdvertisingAndListening twice is NOT an error
[39m
[32m# Calling startUpdateAdvertisingAndListening twice is NOT an error
[39m
[36m# Calling startUpdateAdvertisingAndListening twice is NOT an error
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup ok: 'Calling startUpdateAdvertisingAndListening twice is NOT an error''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run: 'Calling startUpdateAdvertisingAndListening twice is NOT an error''

[33m2017-01-04 16:12:34 - DEBUG thaliWifiInfrastructure: 'listening 51280'
2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:34 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 72 Can call startUpdateAdvertisingAndListening without error
[39m
[32m2017-01-04 16:12:34 - DEBUG thaliWifiInfrastructure: 'listening 51281'
2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:34 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 72 Can call startUpdateAdvertisingAndListening without error
[39m
[33m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[33m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[33m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[33mok 73 Can call startUpdateAdvertisingAndListening twice without error
[39m
[32m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 73 Can call startUpdateAdvertisingAndListening twice without error
[39m
[33m# teardown
[39m
[32m# teardown
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliWifiInfrastructure: 'listening 51283'
[39m
[36m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[36m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
[39m
[36m2017-01-04 16:12:34 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[36m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[36mok 72 Can call startUpdateAdvertisingAndListening without error
[39m
[36m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[36m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[36m2017-01-04 16:12:34 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[36mok 73 Can call startUpdateAdvertisingAndListening twice without error
[39m
[36m# teardown
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run ok: 'Calling startUpdateAdvertisingAndListening twice is NOT an error''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown: 'Calling startUpdateAdvertisingAndListening twice is NOT an error''

[33mok 74 Should be able to call stopListeningForAdvertisements in teardown
[39m
[33m2017-01-04 16:12:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[33m2017-01-04 16:12:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
[39m
[33m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32mok 74 Should be able to call stopListeningForAdvertisements in teardown
[39m
[32m2017-01-04 16:12:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[33mok 75 Should be able to call stopAdvertisingAndListening in teardown
[39m
[33m# setup
[39m
[32m2017-01-04 16:12:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32mok 75 Should be able to call stopAdvertisingAndListening in teardown
[39m
[32m# setup
[39m
[36mok 74 Should be able to call stopListeningForAdvertisements in teardown
[39m
[36m2017-01-04 16:12:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:34 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:34 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
[39m
[36m2017-01-04 16:12:34 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36mok 75 Should be able to call stopAdvertisingAndListening in teardown
[39m
[36m# setup
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#teardown ok: 'Calling startUpdateAdvertisingAndListening twice is NOT an error''
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup: 'Can call stopUpdateAdvertisingAndListening twice without start and it is not an error''

[33m# Can call stopUpdateAdvertisingAndListening twice without start and it is not an error
[39m
[32m# Can call stopUpdateAdvertisingAndListening twice without start and it is not an error
[39m
[36m# Can call stopUpdateAdvertisingAndListening twice without start and it is not an error
[39m
2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#setup ok: 'Can call stopUpdateAdvertisingAndListening twice without start and it is not an error''

2017-01-04 16:12:34 - DEBUG UnitTestFramework: '#run: 'Can call stopUpdateAdvertisingAndListening twice without start and it is not an error''

[32mok 76 Can call startUpdateAdvertisingAndListening without error
[39m
[32mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[33mok 76 Can call startUpdateAdvertisingAndListening without error
[39m
[33mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[33mok 77 Can call stopAdvertisingAndListening without error
[39m
[32mok 77 Can call stopAdvertisingAndListening without error
[39m
[33mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[33m# teardown
[39m
[32mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[32m# teardown
[39m
[36mok 76 Can call startUpdateAdvertisingAndListening without error
[39m
[36mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[36mok 77 Can call stopAdvertisingAndListening without error
[39m
[36mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[36m# teardown
[39m
2017-01-04 16:12:35 - DEBUG UnitTestFramework: '#run ok: 'Can call stopUpdateAdvertisingAndListening twice without start and it is not an error''
2017-01-04 16:12:35 - DEBUG UnitTestFramework: '#teardown: 'Can call stopUpdateAdvertisingAndListening twice without start and it is not an error''

[33mok 78 Should be able to call stopListeningForAdvertisements in teardown
[39m
[33mok 79 Should be able to call stopAdvertisingAndListening in teardown
[39m
[33mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[32mok 78 Should be able to call stopListeningForAdvertisements in teardown
[39m
[33m# setup
[39m
[32mok 79 Should be able to call stopAdvertisingAndListening in teardown
[39m
[36mok 78 Should be able to call stopListeningForAdvertisements in teardown
[39m
[32mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[32m# setup
[39m
[36mok 79 Should be able to call stopAdvertisingAndListening in teardown
[39m
[36mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[36m# setup
[39m
2017-01-04 16:12:35 - DEBUG UnitTestFramework: '#teardown ok: 'Can call stopUpdateAdvertisingAndListening twice without start and it is not an error''
2017-01-04 16:12:35 - DEBUG UnitTestFramework: '#setup: 'peerAvailabilityChange is called''

[33m# peerAvailabilityChange is called
[39m
[32m# peerAvailabilityChange is called
[39m
[36m# peerAvailabilityChange is called
[39m
2017-01-04 16:12:35 - DEBUG UnitTestFramework: '#setup ok: 'peerAvailabilityChange is called''

2017-01-04 16:12:35 - DEBUG UnitTestFramework: '#run: 'peerAvailabilityChange is called''

[33m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'listening 51286'
[39m
[32m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'listening 51287'
[39m
[33m2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[33m2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[32m2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[33m2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
[39m
[33m2017-01-04 16:12:35 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[32m2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[33m2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[33m2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[32m2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
[39m
[32m2017-01-04 16:12:35 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[32m2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32m2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[33mok 80 Can call startUpdateAdvertisingAndListeningwithout error
[39m
[32mok 80 Can call startUpdateAdvertisingAndListeningwithout error
[39m
[32m2017-01-04 16:12:35 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[33m2017-01-04 16:12:35 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[32m2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
[39m
[32m2017-01-04 16:12:35 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[32m2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[33m2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
[39m
[32m2017-01-04 16:12:35 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[32mok 81 Can call startListeningForAdvertisements without error
[39m
[33m2017-01-04 16:12:35 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:35 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[33mok 81 Can call startListeningForAdvertisements without error
[39m
[32m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"1551f3f0-1d36-4f88-b6d1-d4f26bc65fa2","generation":0,"hostAddress":"127.0.0.1","portNumber":51284}'
ok 82 peers must be an array
ok 83 peers must not be zero-length
ok 84 peer must have only peerIdentifier, peerAvailable and generation properties
ok 85 peerIdentifier must be a string
ok 86 generation must be a number
[39m
[33m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"05f058dc-4b79-4f4e-986c-597e6b80dbbe","generation":0,"hostAddress":"127.0.0.1","portNumber":51285}'
ok 82 peers must be an array
ok 83 peers must not be zero-length
ok 84 peer must have only peerIdentifier, peerAvailable and generation properties
ok 85 peerIdentifier must be a string
ok 86 generation must be a number
[39m
[32m# teardown
[39m
[33m# teardown
[39m
[36m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'listening 51289'
[39m
[36m2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[36m2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[36m2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
[39m
[36m2017-01-04 16:12:35 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[36m2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36m2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[36mok 80 Can call startUpdateAdvertisingAndListeningwithout error
[39m
[36m2017-01-04 16:12:35 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[36m2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
[39m
[36m2017-01-04 16:12:35 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[36m2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36m2017-01-04 16:12:35 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[36mok 81 Can call startListeningForAdvertisements without error
[39m
[33m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"75ba8867-a14f-449d-aefe-3dd69fc4ef22","generation":0,"hostAddress":"127.0.0.1","portNumber":51288}'
[39m
[32m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"75ba8867-a14f-449d-aefe-3dd69fc4ef22","generation":0,"hostAddress":"127.0.0.1","portNumber":51288}'
[39m
[32m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"1551f3f0-1d36-4f88-b6d1-d4f26bc65fa2","generation":0,"hostAddress":"127.0.0.1","portNumber":51284}'
[39m
[33m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"05f058dc-4b79-4f4e-986c-597e6b80dbbe","generation":0,"hostAddress":"127.0.0.1","portNumber":51285}'
[39m
[36m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"1551f3f0-1d36-4f88-b6d1-d4f26bc65fa2","generation":0,"hostAddress":"127.0.0.1","portNumber":51284}'
[39m
[36mok 82 peers must be an array
[39m
[36mok 83 peers must not be zero-length
[39m
[36mok 84 peer must have only peerIdentifier, peerAvailable and generation properties
[39m
[36mok 85 peerIdentifier must be a string
[39m
[36mok 86 generation must be a number
[39m
2017-01-04 16:12:35 - DEBUG UnitTestFramework: '#run ok: 'peerAvailabilityChange is called''
2017-01-04 16:12:35 - DEBUG UnitTestFramework: '#teardown: 'peerAvailabilityChange is called''

[32m2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:35 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 87 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:35 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:35 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 88 Should be able to call stopAdvertisingAndListening in teardown
# setup
[39m
[33m2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:35 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 87 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:35 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:35 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 88 Should be able to call stopAdvertisingAndListening in teardown
# setup
[39m
[36m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"05f058dc-4b79-4f4e-986c-597e6b80dbbe","generation":0,"hostAddress":"127.0.0.1","portNumber":51285}'
[39m
[36m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"05f058dc-4b79-4f4e-986c-597e6b80dbbe","generation":0,"portNumber":null,"hostAddress":null}'
[39m
[36m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"1551f3f0-1d36-4f88-b6d1-d4f26bc65fa2","generation":0,"portNumber":null,"hostAddress":null}'
[39m
[36m# teardown
[39m
[36m2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
[39m
[36m2017-01-04 16:12:35 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[36m2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36mok 87 Should be able to call stopListeningForAdvertisements in teardown
[39m
[36m2017-01-04 16:12:35 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:35 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
[39m
[36m2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36mok 88 Should be able to call stopAdvertisingAndListening in teardown
[39m
[36m# setup
[39m
2017-01-04 16:12:35 - DEBUG UnitTestFramework: '#teardown ok: 'peerAvailabilityChange is called''
2017-01-04 16:12:35 - DEBUG UnitTestFramework: '#setup: 'Can connect to a remote peer''

[33m# Can connect to a remote peer
[39m
[32m# Can connect to a remote peer
[39m
[36m# Can connect to a remote peer
[39m
2017-01-04 16:12:35 - DEBUG UnitTestFramework: '#setup ok: 'Can connect to a remote peer''

2017-01-04 16:12:35 - DEBUG UnitTestFramework: '#run: 'Can connect to a remote peer''

[33m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'listening 51293'
2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:35 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 89 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:12:35 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:12:35 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:35 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 90 Can call startListeningForAdvertisements without error
[39m
[32m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'listening 51295'
2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:35 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 89 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:12:35 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:12:35 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[32m2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32m2017-01-04 16:12:35 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[32mok 90 Can call startListeningForAdvertisements without error
[39m
[33m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"d244e836-c0d4-47c8-8826-34655f8f01b7","generation":0,"hostAddress":"127.0.0.1","portNumber":51294}'
[39m
[33m2017-01-04 16:12:35 - INFO testThaliMobileNative: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"d244e836-c0d4-47c8-8826-34655f8f01b7","peerAvailable":true,"generation":0}]'
[39m
[36m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'listening 51301'
[39m
[32m2017-01-04 16:12:35 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[36m2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
[39m
[36m2017-01-04 16:12:35 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[36m2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36m2017-01-04 16:12:35 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[36mok 89 Can call startUpdateAdvertisingAndListening without error
[39m
[36m2017-01-04 16:12:35 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[36m2017-01-04 16:12:35 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
[39m
[36m2017-01-04 16:12:35 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[36m2017-01-04 16:12:35 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36m2017-01-04 16:12:35 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[36mok 90 Can call startListeningForAdvertisements without error
[39m
[32m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"2a125ec2-86a8-45dd-8af9-4afaf61565f0","generation":0,"hostAddress":"127.0.0.1","portNumber":51297}'
[39m
[32m2017-01-04 16:12:35 - INFO testThaliMobileNative: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"2a125ec2-86a8-45dd-8af9-4afaf61565f0","peerAvailable":true,"generation":0}]'
[39m
[33m2017-01-04 16:12:35 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"2a125ec2-86a8-45dd-8af9-4afaf61565f0","generation":0,"hostAddress":"127.0.0.1","portNumber":51297}'
[39m
[33m2017-01-04 16:12:35 - INFO testThaliMobileNative: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"2a125ec2-86a8-45dd-8af9-4afaf61565f0","peerAvailable":true,"generation":0}]'
[39m
[36m2017-01-04 16:12:35 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[33m2017-01-04 16:12:35 - INFO testThaliMobileNative: ''
[39m
[33mok 91 Must have listeningPort
ok 92 listeningPort must be a number
[39m
[33mok 93 listening port should not be 0
[39m
[33mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[33m# teardown
[39m
[32m2017-01-04 16:12:35 - INFO testThaliMobileNative: ''
[39m
[32mok 91 Must have listeningPort
ok 92 listeningPort must be a number
[39m
[32mok 93 listening port should not be 0
[39m
[32mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[32m# teardown
[39m
[36m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"6bf5dcd1-1e1e-4aac-8fbf-8e5ae6344a78","generation":0,"hostAddress":"127.0.0.1","portNumber":51291}'
2017-01-04 16:12:36 - INFO testThaliMobileNative: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"6bf5dcd1-1e1e-4aac-8fbf-8e5ae6344a78","peerAvailable":true,"generation":0}]'
[39m
[32m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"6bf5dcd1-1e1e-4aac-8fbf-8e5ae6344a78","generation":0,"hostAddress":"127.0.0.1","portNumber":51291}'
2017-01-04 16:12:36 - INFO testThaliMobileNative: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"6bf5dcd1-1e1e-4aac-8fbf-8e5ae6344a78","peerAvailable":true,"generation":0}]'
[39m
[36m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"d244e836-c0d4-47c8-8826-34655f8f01b7","generation":0,"hostAddress":"127.0.0.1","portNumber":51294}'
2017-01-04 16:12:36 - INFO testThaliMobileNative: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"d244e836-c0d4-47c8-8826-34655f8f01b7","peerAvailable":true,"generation":0}]'
[39m
[33m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"d244e836-c0d4-47c8-8826-34655f8f01b7","generation":0,"hostAddress":"127.0.0.1","portNumber":51294}'
2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"2a125ec2-86a8-45dd-8af9-4afaf61565f0","generation":0,"hostAddress":"127.0.0.1","portNumber":51297}'
2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"2a125ec2-86a8-45dd-8af9-4afaf61565f0","generation":0,"hostAddress":"127.0.0.1","portNumber":51297}'
[39m
[36m2017-01-04 16:12:36 - INFO testThaliMobileNative: ''
ok 91 Must have listeningPort
ok 92 listeningPort must be a number
ok 93 listening port should not be 0
[39m
[36mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[36m# teardown
[39m
2017-01-04 16:12:36 - DEBUG UnitTestFramework: '#run ok: 'Can connect to a remote peer''
2017-01-04 16:12:36 - DEBUG UnitTestFramework: '#teardown: 'Can connect to a remote peer''

[33m2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 94 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 95 Should be able to call stopAdvertisingAndListening in teardown
# setup
2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 94 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 95 Should be able to call stopAdvertisingAndListening in teardown
# setup
2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 94 Should be able to call stopListeningForAdvertisements in teardown
[39m
[36m2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
[39m
[36m2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36mok 95 Should be able to call stopAdvertisingAndListening in teardown
[39m
[36m# setup
2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
2017-01-04 16:12:36 - DEBUG UnitTestFramework: '#teardown ok: 'Can connect to a remote peer''
2017-01-04 16:12:36 - DEBUG UnitTestFramework: '#setup: 'Can shift large amounts of data''

[33m# Can shift large amounts of data
[39m
[36m# Can shift large amounts of data
[39m
[32m# Can shift large amounts of data
[39m
2017-01-04 16:12:36 - DEBUG UnitTestFramework: '#setup ok: 'Can shift large amounts of data''
2017-01-04 16:12:36 - DEBUG UnitTestFramework: '#run: 'Can shift large amounts of data''

[32m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'listening 51311'
2017-01-04 16:12:36 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:36 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:36 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 96 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:12:36 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:36 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 97 Can call startListeningForAdvertisements without error
[39m
[33m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'listening 51313'
2017-01-04 16:12:36 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:36 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:36 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 96 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:12:36 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:36 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 97 Can call startListeningForAdvertisements without error
[39m
[32m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"3768f692-6852-4e49-a02c-042a604939da","generation":0,"hostAddress":"127.0.0.1","portNumber":51312}'
[39m
[36m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'listening 51319'
[39m
[36m2017-01-04 16:12:36 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[36m2017-01-04 16:12:36 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[33m2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
[39m
[36m2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[36m2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36m2017-01-04 16:12:36 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[36mok 96 Can call startUpdateAdvertisingAndListening without error
[39m
[36m2017-01-04 16:12:36 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
[39m
[36m2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[36m2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36m2017-01-04 16:12:36 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[36mok 97 Can call startListeningForAdvertisements without error
[39m
[33m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"f5ca67d5-98c6-4624-9bac-120e35984aa7","generation":0,"hostAddress":"127.0.0.1","portNumber":51315}'
[39m
[32m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"f5ca67d5-98c6-4624-9bac-120e35984aa7","generation":0,"hostAddress":"127.0.0.1","portNumber":51315}'
[39m
[36m2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:36 - INFO testThaliMobileNative: ''
[39m
[32mok 98 received should match sent forward
[39m
[33m2017-01-04 16:12:36 - INFO testThaliMobileNative: ''
[39m
[32m# teardown
[39m
[33mok 98 received should match sent forward
[39m
[33m# teardown
[39m
[36m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"71f602c2-c56b-4d39-b896-4a1562f000f1","generation":0,"hostAddress":"127.0.0.1","portNumber":51309}'
[39m
[33m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"71f602c2-c56b-4d39-b896-4a1562f000f1","generation":0,"hostAddress":"127.0.0.1","portNumber":51309}'
[39m
[36m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"3768f692-6852-4e49-a02c-042a604939da","generation":0,"hostAddress":"127.0.0.1","portNumber":51312}'
[39m
[32m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"3768f692-6852-4e49-a02c-042a604939da","generation":0,"hostAddress":"127.0.0.1","portNumber":51312}'
[39m
[33m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"f5ca67d5-98c6-4624-9bac-120e35984aa7","generation":0,"hostAddress":"127.0.0.1","portNumber":51315}'
[39m
[32m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"f5ca67d5-98c6-4624-9bac-120e35984aa7","generation":0,"hostAddress":"127.0.0.1","portNumber":51315}'
[39m
[32m2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:36 - INFO testThaliMobileNative: ''
[39m
[36mok 98 received should match sent forward
[39m
[36m# teardown
[39m
2017-01-04 16:12:36 - DEBUG UnitTestFramework: '#run ok: 'Can shift large amounts of data''

2017-01-04 16:12:36 - DEBUG UnitTestFramework: '#teardown: 'Can shift large amounts of data''

[33m2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 99 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 100 Should be able to call stopAdvertisingAndListening in teardown
# setup
2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 99 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 100 Should be able to call stopAdvertisingAndListening in teardown
# setup
[39m
[36m2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[32m2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
[39m
[32m2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[32m2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32mok 99 Should be able to call stopListeningForAdvertisements in teardown
[39m
[32m2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[32m2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[32m2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[32m2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
[39m
[32m2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:36 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[32m2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
[39m
[32m2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32mok 100 Should be able to call stopAdvertisingAndListening in teardown
[39m
[32m# setup
[39m
[32m2017-01-04 16:12:36 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
2017-01-04 16:12:36 - DEBUG UnitTestFramework: '#teardown ok: 'Can shift large amounts of data''

2017-01-04 16:12:36 - DEBUG UnitTestFramework: '#setup: 'We do not emit peerAvailabilityChanged events until one of the start methods is called''

[33m# We do not emit peerAvailabilityChanged events until one of the start methods is called
[39m
[32m# We do not emit peerAvailabilityChanged events until one of the start methods is called
[39m
[36m# We do not emit peerAvailabilityChanged events until one of the start methods is called
[39m
2017-01-04 16:12:36 - DEBUG UnitTestFramework: '#setup ok: 'We do not emit peerAvailabilityChanged events until one of the start methods is called''

2017-01-04 16:12:36 - DEBUG UnitTestFramework: '#run: 'We do not emit peerAvailabilityChanged events until one of the start methods is called''

[33m2017-01-04 16:12:36 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[33m2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
[39m
[33m2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[33m2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[33m2017-01-04 16:12:36 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[33mok 101 We should start listening fine
[39m
[33m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'listening 51330'
[39m
[33m2017-01-04 16:12:36 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[33m2017-01-04 16:12:36 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[33m2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
[39m
[33m2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[32m2017-01-04 16:12:36 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[33m2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[33m2017-01-04 16:12:36 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[33mok 102 We should start updating fine
[39m
[32m2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
[39m
[32m2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[32m2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32m2017-01-04 16:12:36 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 101 We should start listening fine
[39m
[33m# teardown
[39m
[32m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'listening 51332'
[39m
[32m2017-01-04 16:12:36 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[32m2017-01-04 16:12:36 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[32m2017-01-04 16:12:36 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
[39m
[32m2017-01-04 16:12:36 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[32m2017-01-04 16:12:36 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32m2017-01-04 16:12:36 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[32mok 102 We should start updating fine
[39m
[32m# teardown
[39m
[32m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"59399998-ab9a-4056-9dac-91b1f12106de","generation":0,"hostAddress":"127.0.0.1","portNumber":51329}'
[39m
[33m2017-01-04 16:12:36 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"504e3b8d-d7b9-4179-812e-9057992533c6","generation":0,"hostAddress":"127.0.0.1","portNumber":51331}'
[39m
[32m2017-01-04 16:12:37 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"59399998-ab9a-4056-9dac-91b1f12106de","generation":0,"hostAddress":"127.0.0.1","portNumber":51329}'
[39m
[33m2017-01-04 16:12:37 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"504e3b8d-d7b9-4179-812e-9057992533c6","generation":0,"hostAddress":"127.0.0.1","portNumber":51331}'
[39m
[32m2017-01-04 16:12:37 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"59399998-ab9a-4056-9dac-91b1f12106de","generation":0,"hostAddress":"127.0.0.1","portNumber":51329}'
[39m
[33m2017-01-04 16:12:37 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"504e3b8d-d7b9-4179-812e-9057992533c6","generation":0,"hostAddress":"127.0.0.1","portNumber":51331}'
[39m
[32m2017-01-04 16:12:38 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"59399998-ab9a-4056-9dac-91b1f12106de","generation":0,"hostAddress":"127.0.0.1","portNumber":51329}'
[39m
[33m2017-01-04 16:12:38 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"504e3b8d-d7b9-4179-812e-9057992533c6","generation":0,"hostAddress":"127.0.0.1","portNumber":51331}'
[39m
[32m2017-01-04 16:12:38 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"59399998-ab9a-4056-9dac-91b1f12106de","generation":0,"hostAddress":"127.0.0.1","portNumber":51329}'
[39m
[33m2017-01-04 16:12:38 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"504e3b8d-d7b9-4179-812e-9057992533c6","generation":0,"hostAddress":"127.0.0.1","portNumber":51331}'
[39m
[36m2017-01-04 16:12:38 - DEBUG thaliWifiInfrastructure: 'listening 51334'
[39m
[36m2017-01-04 16:12:38 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[36m2017-01-04 16:12:38 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[36m2017-01-04 16:12:38 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:38 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[36m2017-01-04 16:12:38 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36m2017-01-04 16:12:38 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[36mok 101 Ready to advertise
[39m
[36m2017-01-04 16:12:38 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[36m2017-01-04 16:12:38 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:12:38 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[36m2017-01-04 16:12:38 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36m2017-01-04 16:12:38 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[36mok 102 Ready to listen
[39m
[32m2017-01-04 16:12:38 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"190e2da2-d7a0-46b7-a300-11c01f51bfb3","generation":0,"hostAddress":"127.0.0.1","portNumber":51333}'
[39m
[33m2017-01-04 16:12:38 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"190e2da2-d7a0-46b7-a300-11c01f51bfb3","generation":0,"hostAddress":"127.0.0.1","portNumber":51333}'
[39m
[36m2017-01-04 16:12:39 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"59399998-ab9a-4056-9dac-91b1f12106de","generation":0,"hostAddress":"127.0.0.1","portNumber":51329}'
2017-01-04 16:12:39 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:39 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"504e3b8d-d7b9-4179-812e-9057992533c6","generation":0,"hostAddress":"127.0.0.1","portNumber":51331}'
2017-01-04 16:12:39 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:39 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":false}'
2017-01-04 16:12:39 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":false}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:39 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 103 stop ads worked
[39m
[32m2017-01-04 16:12:39 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"59399998-ab9a-4056-9dac-91b1f12106de","generation":0,"hostAddress":"127.0.0.1","portNumber":51329}'
[39m
[33m2017-01-04 16:12:39 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"504e3b8d-d7b9-4179-812e-9057992533c6","generation":0,"hostAddress":"127.0.0.1","portNumber":51331}'
2017-01-04 16:12:39 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"190e2da2-d7a0-46b7-a300-11c01f51bfb3","generation":0,"portNumber":null,"hostAddress":null}'
[39m
[36m2017-01-04 16:12:39 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:39 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 104 test stop worked
[39m
[32m2017-01-04 16:12:39 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"190e2da2-d7a0-46b7-a300-11c01f51bfb3","generation":0,"portNumber":null,"hostAddress":null}'
[39m
[32m2017-01-04 16:12:39 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"59399998-ab9a-4056-9dac-91b1f12106de","generation":0,"hostAddress":"127.0.0.1","portNumber":51329}'
[39m
[33m2017-01-04 16:12:39 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"504e3b8d-d7b9-4179-812e-9057992533c6","generation":0,"hostAddress":"127.0.0.1","portNumber":51331}'
[39m
[32m2017-01-04 16:12:40 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"59399998-ab9a-4056-9dac-91b1f12106de","generation":0,"hostAddress":"127.0.0.1","portNumber":51329}'
[39m
[33m2017-01-04 16:12:40 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"504e3b8d-d7b9-4179-812e-9057992533c6","generation":0,"hostAddress":"127.0.0.1","portNumber":51331}'
[39m
[32m2017-01-04 16:12:40 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"59399998-ab9a-4056-9dac-91b1f12106de","generation":0,"hostAddress":"127.0.0.1","portNumber":51329}'
[39m
[33m2017-01-04 16:12:40 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"504e3b8d-d7b9-4179-812e-9057992533c6","generation":0,"hostAddress":"127.0.0.1","portNumber":51331}'
[39m
[33m2017-01-04 16:12:41 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"504e3b8d-d7b9-4179-812e-9057992533c6","generation":0,"hostAddress":"127.0.0.1","portNumber":51331}'
[39m
[32m2017-01-04 16:12:41 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"59399998-ab9a-4056-9dac-91b1f12106de","generation":0,"hostAddress":"127.0.0.1","portNumber":51329}'
[39m
[32m2017-01-04 16:12:41 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"59399998-ab9a-4056-9dac-91b1f12106de","generation":0,"hostAddress":"127.0.0.1","portNumber":51329}'
[39m
[33m2017-01-04 16:12:41 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"504e3b8d-d7b9-4179-812e-9057992533c6","generation":0,"hostAddress":"127.0.0.1","portNumber":51331}'
[39m
[36m# teardown
[39m
2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#run ok: 'We do not emit peerAvailabilityChanged events until one of the start methods is called''
2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#teardown: 'We do not emit peerAvailabilityChanged events until one of the start methods is called''

[33m2017-01-04 16:12:42 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:42 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:42 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 103 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:42 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:42 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:42 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:42 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 104 Should be able to call stopAdvertisingAndListening in teardown
# setup
[39m
[32m2017-01-04 16:12:42 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"59399998-ab9a-4056-9dac-91b1f12106de","generation":0,"hostAddress":"127.0.0.1","portNumber":51329}'
[39m
[32m2017-01-04 16:12:42 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"59399998-ab9a-4056-9dac-91b1f12106de","generation":0,"portNumber":null,"hostAddress":null}'
2017-01-04 16:12:42 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:42 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:42 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 103 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:42 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:42 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:42 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:42 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 104 Should be able to call stopAdvertisingAndListening in teardown
# setup
[39m
[36mok 105 Should be able to call stopListeningForAdvertisements in teardown
ok 106 Should be able to call stopAdvertisingAndListening in teardown
# setup
[39m
[36mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#teardown ok: 'We do not emit peerAvailabilityChanged events until one of the start methods is called''
2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#setup: 'Test updating advertising and parallel data transfer''

[33m# Test updating advertising and parallel data transfer
2017-01-04 16:12:42 - DEBUG CoordinatedClient: 'test was skipped, name: 'Test updating advertising and parallel data transfer''
[39m
[32m# Test updating advertising and parallel data transfer
2017-01-04 16:12:42 - DEBUG CoordinatedClient: 'test was skipped, name: 'Test updating advertising and parallel data transfer''
[39m
[36m# Test updating advertising and parallel data transfer
2017-01-04 16:12:42 - DEBUG CoordinatedClient: 'test was skipped, name: 'Test updating advertising and parallel data transfer''
[39m
2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#setup ok: 'Test updating advertising and parallel data transfer''
2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#run: 'Test updating advertising and parallel data transfer''

[33m# teardown
[39m
2017-01-04 16:12:42 - INFO Socket: 'run skipped, test: 'Test updating advertising and parallel data transfer', event: 'run_Test updating advertising and parallel data transfer''
2017-01-04 16:12:42 - INFO Socket: 'run skipped, test: 'Test updating advertising and parallel data transfer', event: 'run_Test updating advertising and parallel data transfer''

[32m# teardown
[39m
[36m# teardown
[39m
2017-01-04 16:12:42 - INFO Socket: 'run skipped, test: 'Test updating advertising and parallel data transfer', event: 'run_Test updating advertising and parallel data transfer''

2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#run ok: 'Test updating advertising and parallel data transfer''
2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#teardown: 'Test updating advertising and parallel data transfer''

[33mok 105 Should be able to call stopListeningForAdvertisements in teardown
ok 106 Should be able to call stopAdvertisingAndListening in teardown
# setup
[39m
[33mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[32mok 105 Should be able to call stopListeningForAdvertisements in teardown
ok 106 Should be able to call stopAdvertisingAndListening in teardown
[39m
[36mok 107 Should be able to call stopListeningForAdvertisements in teardown
ok 108 Should be able to call stopAdvertisingAndListening in teardown
[39m
[32mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[36mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[32m# setup
[39m
[36m# setup
[39m
2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#teardown ok: 'Test updating advertising and parallel data transfer''

2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#setup: 'cannot call connect when start listening for advertisements is not active''

[33m# cannot call connect when start listening for advertisements is not active
[39m
[36m# cannot call connect when start listening for advertisements is not active
[39m
[32m# cannot call connect when start listening for advertisements is not active
[39m
2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#setup ok: 'cannot call connect when start listening for advertisements is not active''
2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#run: 'cannot call connect when start listening for advertisements is not active''

[36mok 109 got right error
[39m
[36m# teardown
[39m
[32mok 107 got right error
[39m
[33mok 107 got right error
[39m
[32m# teardown
[39m
[33m# teardown
[39m
2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#run ok: 'cannot call connect when start listening for advertisements is not active''

2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#teardown: 'cannot call connect when start listening for advertisements is not active''

[36mok 110 Should be able to call stopListeningForAdvertisements in teardown
[39m
[33mok 108 Should be able to call stopListeningForAdvertisements in teardown
[39m
[36mok 111 Should be able to call stopAdvertisingAndListening in teardown
[39m
[33mok 109 Should be able to call stopAdvertisingAndListening in teardown
[39m
[36mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[36m# setup
[39m
[33mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[33m# setup
[39m
[32mok 108 Should be able to call stopListeningForAdvertisements in teardown
[39m
[32mok 109 Should be able to call stopAdvertisingAndListening in teardown
[39m
[32mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[32m# setup
[39m
2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#teardown ok: 'cannot call connect when start listening for advertisements is not active''

2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#setup: 'Get error when trying to double connect to a peer on Android''

[36m# Get error when trying to double connect to a peer on Android
[39m
[32m# Get error when trying to double connect to a peer on Android
[39m
[33m# Get error when trying to double connect to a peer on Android
[39m
2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#setup ok: 'Get error when trying to double connect to a peer on Android''
2017-01-04 16:12:42 - DEBUG UnitTestFramework: '#run: 'Get error when trying to double connect to a peer on Android''

[36m2017-01-04 16:12:42 - DEBUG thaliWifiInfrastructure: 'listening 51338'
[39m
[36m2017-01-04 16:12:42 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[36m2017-01-04 16:12:42 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[36m2017-01-04 16:12:42 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
[39m
[36m2017-01-04 16:12:42 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[36m2017-01-04 16:12:42 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36m2017-01-04 16:12:42 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[36mok 112 Can call startUpdateAdvertisingAndListening without error
[39m
[36m2017-01-04 16:12:42 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[36m2017-01-04 16:12:42 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
[39m
[36m2017-01-04 16:12:42 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[36m2017-01-04 16:12:42 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36m2017-01-04 16:12:42 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[36mok 113 Can call startListeningForAdvertisements without error
[39m
[33m2017-01-04 16:12:42 - DEBUG thaliWifiInfrastructure: 'listening 51340'
[39m
[33m2017-01-04 16:12:42 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:42 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:42 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
[39m
[33m2017-01-04 16:12:42 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:42 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[33m2017-01-04 16:12:42 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 110 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:12:42 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[33m2017-01-04 16:12:42 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:12:42 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:42 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:42 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 111 Can call startListeningForAdvertisements without error
[39m
[36m2017-01-04 16:12:42 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"2fa890e1-b537-455d-b2e7-6242727520d0","generation":0,"hostAddress":"127.0.0.1","portNumber":51339}'
[39m
[32m2017-01-04 16:12:42 - DEBUG thaliWifiInfrastructure: 'listening 51343'
2017-01-04 16:12:42 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:42 - INFO nodeSSDPServerLogger: 'UDP socket bound'
[39m
[32m2017-01-04 16:12:42 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
[39m
[32m2017-01-04 16:12:42 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[32m2017-01-04 16:12:42 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32m2017-01-04 16:12:42 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 110 Can call startUpdateAdvertisingAndListening without error
[39m
[33m2017-01-04 16:12:42 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:42 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
[39m
[32m2017-01-04 16:12:42 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
[39m
[32m2017-01-04 16:12:42 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[32m2017-01-04 16:12:42 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32m2017-01-04 16:12:42 - INFO nodeSSDPClientLogger: 'Socket bound'
[39m
[32mok 111 Can call startListeningForAdvertisements without error
[39m
[36m2017-01-04 16:12:42 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"6bf827e8-cd47-4800-b6df-344f0b33d430","generation":0,"hostAddress":"127.0.0.1","portNumber":51342}'
[39m
[33m2017-01-04 16:12:42 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"6bf827e8-cd47-4800-b6df-344f0b33d430","generation":0,"hostAddress":"127.0.0.1","portNumber":51342}'
[39m
[32m2017-01-04 16:12:42 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[36mok 114 Expected error
ok 115 Null connection as expected
ok 116 Expected error
ok 117 Null connection as expected
[39m
[36m# teardown
[39m
[33mok 112 Expected error
ok 113 Null connection as expected
ok 114 Expected error
ok 115 Null connection as expected
[39m
[33m# teardown
[39m
[32m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"1e8ae4dd-9e5a-479d-8b05-b46f17021664","generation":0,"hostAddress":"127.0.0.1","portNumber":51336}'
[39m
[36m2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[33m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"1e8ae4dd-9e5a-479d-8b05-b46f17021664","generation":0,"hostAddress":"127.0.0.1","portNumber":51336}'
[39m
[32m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"2fa890e1-b537-455d-b2e7-6242727520d0","generation":0,"hostAddress":"127.0.0.1","portNumber":51339}'
[39m
[36m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"2fa890e1-b537-455d-b2e7-6242727520d0","generation":0,"hostAddress":"127.0.0.1","portNumber":51339}'
[39m
[36m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"6bf827e8-cd47-4800-b6df-344f0b33d430","generation":0,"hostAddress":"127.0.0.1","portNumber":51342}'
[39m
[33m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"6bf827e8-cd47-4800-b6df-344f0b33d430","generation":0,"hostAddress":"127.0.0.1","portNumber":51342}'
[39m
[32mok 112 Expected error
ok 113 Null connection as expected
ok 114 Expected error
ok 115 Null connection as expected
[39m
[32m# teardown
[39m
2017-01-04 16:12:43 - DEBUG UnitTestFramework: '#run ok: 'Get error when trying to double connect to a peer on Android''
2017-01-04 16:12:43 - DEBUG UnitTestFramework: '#teardown: 'Get error when trying to double connect to a peer on Android''

[32m2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 116 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 117 Should be able to call stopAdvertisingAndListening in teardown
# setup
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
[33m2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 116 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 117 Should be able to call stopAdvertisingAndListening in teardown
# setup
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36mok 118 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
[39m
[36m2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
[39m
[36m2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 119 Should be able to call stopAdvertisingAndListening in teardown
[39m
[36m# setup
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
2017-01-04 16:12:43 - DEBUG UnitTestFramework: '#teardown ok: 'Get error when trying to double connect to a peer on Android''

2017-01-04 16:12:43 - DEBUG UnitTestFramework: '#setup: '#startUpdateAdvertisingAndListening - ending remote peers connection kills the local connection''

[33m# #startUpdateAdvertisingAndListening - ending remote peers connection kills the local connection
[39m
[32m# #startUpdateAdvertisingAndListening - ending remote peers connection kills the local connection
[39m
[36m# #startUpdateAdvertisingAndListening - ending remote peers connection kills the local connection
[39m
2017-01-04 16:12:43 - DEBUG UnitTestFramework: '#setup ok: '#startUpdateAdvertisingAndListening - ending remote peers connection kills the local connection''

2017-01-04 16:12:43 - DEBUG UnitTestFramework: '#run: '#startUpdateAdvertisingAndListening - ending remote peers connection kills the local connection''

[33m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'listening 51359'
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 118 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:12:43 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:43 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 119 Can call startListeningForAdvertisements without error
[39m
[36m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'listening 51361'
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 120 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:12:43 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:43 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 121 Can call startListeningForAdvertisements without error
[39m
[33m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"f6bb27bf-bc3c-4397-b446-01e61947146e","generation":0,"hostAddress":"127.0.0.1","portNumber":51360}'
2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"f6bb27bf-bc3c-4397-b446-01e61947146e","peerAvailable":true,"generation":0}]'
[39m
[32m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'listening 51364'
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: 'Socket bound'
[39m
[32mok 118 Can call startUpdateAdvertisingAndListening without error
[39m
[32m2017-01-04 16:12:43 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:43 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 119 Can call startListeningForAdvertisements without error
[39m
[36m2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[33m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"bfd43092-1d38-422c-9e98-6eee27d82b62","generation":0,"hostAddress":"127.0.0.1","portNumber":51363}'
2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"bfd43092-1d38-422c-9e98-6eee27d82b62","peerAvailable":true,"generation":0}]'
[39m
[36m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"bfd43092-1d38-422c-9e98-6eee27d82b62","generation":0,"hostAddress":"127.0.0.1","portNumber":51363}'
2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"bfd43092-1d38-422c-9e98-6eee27d82b62","peerAvailable":true,"generation":0}]'
[39m
[32m2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[33m2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'connection {"listeningPort":51365}'
[39m
[36m2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'connection {"listeningPort":51368}'
[39m
[33mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[33m2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'connection to listening port is made'
[39m
[36mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[36m2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'connection to listening port is made'
[39m
[36m2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'outgoingSocket ended  - for peerID Incoming connection relay'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'outgoingSocket ended  - for peerID Incoming connection relay'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
[39m
[33m2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
[39m
[33mok 120 We got the close message and we are closed
ok 121 We got an error which is what we wanted
[39m
[36m2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
ok 122 We got the close message and we are closed
[39m
[36mok 123 We got an error which is what we wanted
[39m
[36m2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[33m# teardown
[39m
[36m# teardown
[39m
[36m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"0d33666e-167f-40b1-876c-1521a4a7395e","generation":0,"hostAddress":"127.0.0.1","portNumber":51357}'
2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"0d33666e-167f-40b1-876c-1521a4a7395e","peerAvailable":true,"generation":0}]'
[39m
[32m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"0d33666e-167f-40b1-876c-1521a4a7395e","generation":0,"hostAddress":"127.0.0.1","portNumber":51357}'
2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"0d33666e-167f-40b1-876c-1521a4a7395e","peerAvailable":true,"generation":0}]'
2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"f6bb27bf-bc3c-4397-b446-01e61947146e","generation":0,"hostAddress":"127.0.0.1","portNumber":51360}'
2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"f6bb27bf-bc3c-4397-b446-01e61947146e","peerAvailable":true,"generation":0}]'
[39m
[33m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"f6bb27bf-bc3c-4397-b446-01e61947146e","generation":0,"hostAddress":"127.0.0.1","portNumber":51360}'
2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"bfd43092-1d38-422c-9e98-6eee27d82b62","generation":0,"hostAddress":"127.0.0.1","portNumber":51363}'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"bfd43092-1d38-422c-9e98-6eee27d82b62","generation":0,"hostAddress":"127.0.0.1","portNumber":51363}'
[39m
[32m2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'connection {"listeningPort":51381}'
[39m
[32mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[32m2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'connection to listening port is made'
[39m
[33m2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'outgoingSocket ended  - for peerID Incoming connection relay'
[39m
[33m2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
ok 120 We got the close message and we are closed
ok 121 We got an error which is what we wanted
[39m
[33m2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
[39m
[33m2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
2017-01-04 16:12:43 - DEBUG UnitTestFramework: '#run ok: '#startUpdateAdvertisingAndListening - ending remote peers connection kills the local connection''
2017-01-04 16:12:43 - DEBUG UnitTestFramework: '#teardown: '#startUpdateAdvertisingAndListening - ending remote peers connection kills the local connection''

[32m# teardown
[39m
[33m2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 122 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 123 Should be able to call stopAdvertisingAndListening in teardown
# setup
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 122 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 123 Should be able to call stopAdvertisingAndListening in teardown
# setup
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 124 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
[39m
[36m2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:43 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
[39m
[36m2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36mok 125 Should be able to call stopAdvertisingAndListening in teardown
[39m
[36m# setup
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
2017-01-04 16:12:43 - DEBUG UnitTestFramework: '#teardown ok: '#startUpdateAdvertisingAndListening - ending remote peers connection kills the local connection''
2017-01-04 16:12:43 - DEBUG UnitTestFramework: '#setup: '#startUpdateAdvertisingAndListening - destroying remote peers connection kills the local connection''

[33m# #startUpdateAdvertisingAndListening - destroying remote peers connection kills the local connection
[39m
[32m# #startUpdateAdvertisingAndListening - destroying remote peers connection kills the local connection
[39m
[36m# #startUpdateAdvertisingAndListening - destroying remote peers connection kills the local connection
[39m
2017-01-04 16:12:43 - DEBUG UnitTestFramework: '#setup ok: '#startUpdateAdvertisingAndListening - destroying remote peers connection kills the local connection''
2017-01-04 16:12:43 - DEBUG UnitTestFramework: '#run: '#startUpdateAdvertisingAndListening - destroying remote peers connection kills the local connection''

[33m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'listening 51393'
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 124 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:12:43 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:43 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 125 Can call startListeningForAdvertisements without error
[39m
[36m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'listening 51394'
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 126 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:12:43 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:43 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 127 Can call startListeningForAdvertisements without error
2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"9e67a219-676b-4f48-9ff9-5abbff4ab211","generation":0,"hostAddress":"127.0.0.1","portNumber":51390}'
2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"9e67a219-676b-4f48-9ff9-5abbff4ab211","peerAvailable":true,"generation":0}]'
[39m
[33m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"3b3cf013-d6ab-488b-90cf-c42781085b58","generation":0,"hostAddress":"127.0.0.1","portNumber":51392}'
2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"3b3cf013-d6ab-488b-90cf-c42781085b58","peerAvailable":true,"generation":0}]'
2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'listening 51399'
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:43 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 124 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:12:43 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:43 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:12:43 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
[39m
[32m2017-01-04 16:12:43 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:43 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 125 Can call startListeningForAdvertisements without error
[39m
[36m2017-01-04 16:12:43 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"14122055-957f-45d1-8c2c-3582bf09be6a","generation":0,"hostAddress":"127.0.0.1","portNumber":51398}'
[39m
[36m2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"14122055-957f-45d1-8c2c-3582bf09be6a","peerAvailable":true,"generation":0}]'
[39m
[33m2017-01-04 16:12:43 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"14122055-957f-45d1-8c2c-3582bf09be6a","generation":0,"hostAddress":"127.0.0.1","portNumber":51398}'
[39m
[33m2017-01-04 16:12:43 - INFO testThaliMobileNativeAndroid: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"14122055-957f-45d1-8c2c-3582bf09be6a","peerAvailable":true,"generation":0}]'
[39m
[36m2017-01-04 16:12:44 - INFO testThaliMobileNativeAndroid: 'connection {"listeningPort":51395}'
[39m
[33m2017-01-04 16:12:44 - INFO testThaliMobileNativeAndroid: 'connection {"listeningPort":51400}'
2017-01-04 16:12:44 - INFO testThaliMobileNativeAndroid: 'connection to listening port is made'
[39m
[33mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[36mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[36m2017-01-04 16:12:44 - INFO testThaliMobileNativeAndroid: 'connection to listening port is made'
2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'outgoingSocket ended  - for peerID Incoming connection relay'
2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
[39m
[33m2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[33m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
[39m
[33mok 126 We got the close message and we are closed
2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'outgoingSocket ended  - for peerID Incoming connection relay'
ok 127 We got an error which is what we wanted
2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
[33m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
ok 128 We got the close message and we are closed
[39m
[36mok 129 We got an error which is what we wanted
[39m
[33m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[33m# teardown
[39m
[36m# teardown
[39m
[36m2017-01-04 16:12:44 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"9e67a219-676b-4f48-9ff9-5abbff4ab211","generation":0,"hostAddress":"127.0.0.1","portNumber":51390}'
[39m
[33m2017-01-04 16:12:44 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"3b3cf013-d6ab-488b-90cf-c42781085b58","generation":0,"hostAddress":"127.0.0.1","portNumber":51392}'
[39m
[32m2017-01-04 16:12:44 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"3b3cf013-d6ab-488b-90cf-c42781085b58","generation":0,"hostAddress":"127.0.0.1","portNumber":51392}'
[39m
[32m2017-01-04 16:12:44 - INFO testThaliMobileNativeAndroid: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"3b3cf013-d6ab-488b-90cf-c42781085b58","peerAvailable":true,"generation":0}]'
[39m
[36m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:44 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"9e67a219-676b-4f48-9ff9-5abbff4ab211","generation":0,"hostAddress":"127.0.0.1","portNumber":51390}'
2017-01-04 16:12:44 - INFO testThaliMobileNativeAndroid: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"9e67a219-676b-4f48-9ff9-5abbff4ab211","peerAvailable":true,"generation":0}]'
[39m
[36m2017-01-04 16:12:44 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"14122055-957f-45d1-8c2c-3582bf09be6a","generation":0,"hostAddress":"127.0.0.1","portNumber":51398}'
[39m
[33m2017-01-04 16:12:44 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"14122055-957f-45d1-8c2c-3582bf09be6a","generation":0,"hostAddress":"127.0.0.1","portNumber":51398}'
[39m
[32m2017-01-04 16:12:44 - INFO testThaliMobileNativeAndroid: 'connection {"listeningPort":51414}'
[39m
[32mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[32m2017-01-04 16:12:44 - INFO testThaliMobileNativeAndroid: 'connection to listening port is made'
[39m
[36m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'outgoingSocket ended  - for peerID Incoming connection relay'
2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
ok 126 We got the close message and we are closed
[39m
[32mok 127 We got an error which is what we wanted
[39m
[36m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[32m# teardown
[39m
2017-01-04 16:12:44 - DEBUG UnitTestFramework: '#run ok: '#startUpdateAdvertisingAndListening - destroying remote peers connection kills the local connection''
2017-01-04 16:12:44 - DEBUG UnitTestFramework: '#teardown: '#startUpdateAdvertisingAndListening - destroying remote peers connection kills the local connection''

[33m2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:44 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:44 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:44 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 128 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:44 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:44 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 129 Should be able to call stopAdvertisingAndListening in teardown
# setup
2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:44 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:44 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:44 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 128 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:44 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
2017-01-04 16:12:44 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 129 Should be able to call stopAdvertisingAndListening in teardown
# setup
[39m
[36m2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:44 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:44 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:44 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
ok 130 Should be able to call stopListeningForAdvertisements in teardown
2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'Got error while disconnecting a peer: null'
[39m
[36m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
[39m
[36m2017-01-04 16:12:44 - DEBUG makeIntoCloseAllServer: 'closeAll called on server'
[39m
[36m2017-01-04 16:12:44 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":false}'
[39m
[36m2017-01-04 16:12:44 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[36mok 131 Should be able to call stopAdvertisingAndListening in teardown
[39m
2017-01-04 16:12:44 - DEBUG UnitTestFramework: '#teardown ok: '#startUpdateAdvertisingAndListening - destroying remote peers connection kills the local connection''
2017-01-04 16:12:44 - DEBUG UnitTestFramework: '#setup: '#startUpdateAdvertisingAndListening - destroying the local connection kills the connection to the remote peer''

[36m# setup
2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
[36m# #startUpdateAdvertisingAndListening - destroying the local connection kills the connection to the remote peer
[39m
[33m# #startUpdateAdvertisingAndListening - destroying the local connection kills the connection to the remote peer
[39m
[32m# #startUpdateAdvertisingAndListening - destroying the local connection kills the connection to the remote peer
[39m
2017-01-04 16:12:44 - DEBUG UnitTestFramework: '#setup ok: '#startUpdateAdvertisingAndListening - destroying the local connection kills the connection to the remote peer''
2017-01-04 16:12:44 - DEBUG UnitTestFramework: '#run: '#startUpdateAdvertisingAndListening - destroying the local connection kills the connection to the remote peer''

[33m2017-01-04 16:12:44 - DEBUG thaliWifiInfrastructure: 'listening 51426'
2017-01-04 16:12:44 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:44 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:44 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:44 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:44 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:44 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 130 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:12:44 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:44 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:12:44 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:44 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:44 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 131 Can call startListeningForAdvertisements without error
[39m
[36m2017-01-04 16:12:44 - DEBUG thaliWifiInfrastructure: 'listening 51429'
2017-01-04 16:12:44 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:44 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:44 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:44 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:44 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:44 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 132 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:12:44 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:44 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
2017-01-04 16:12:44 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:44 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
2017-01-04 16:12:44 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 133 Can call startListeningForAdvertisements without error
[39m
[33m2017-01-04 16:12:44 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"3e57a244-1838-4380-844e-1dabc0ee96ef","generation":0,"hostAddress":"127.0.0.1","portNumber":51428}'
2017-01-04 16:12:44 - INFO testThaliMobileNativeAndroid: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"3e57a244-1838-4380-844e-1dabc0ee96ef","peerAvailable":true,"generation":0}]'
[39m
[36m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:44 - DEBUG thaliWifiInfrastructure: 'listening 51433'
[39m
[32m2017-01-04 16:12:44 - INFO nodeSSDPServerLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:44 - INFO nodeSSDPServerLogger: 'UDP socket bound'
2017-01-04 16:12:44 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":false,"advertisingActive":true}'
2017-01-04 16:12:44 - INFO thaliMobile: 'Received state ({"discoveryActive":false,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:44 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32m2017-01-04 16:12:44 - INFO nodeSSDPServerLogger: 'Socket bound'
ok 130 Can call startUpdateAdvertisingAndListening without error
2017-01-04 16:12:44 - INFO nodeSSDPClientLogger: '{ address: 'http://0.0.0.0:1900' } 'SSDP listening''
2017-01-04 16:12:44 - DEBUG thaliMobileNativeWrapper: 'discoveryAdvertisingStateUpdateNonTCP: {"discoveryActive":true,"advertisingActive":true}'
[39m
[32m2017-01-04 16:12:44 - INFO thaliMobile: 'Received state ({"discoveryActive":true,"advertisingActive":true}) did not match with target ({"started":false,"listening":false,"advertising":false,"networkType":"BOTH"})'
2017-01-04 16:12:44 - INFO thaliMobile: 'Filtered out discoveryAdvertisingStateUpdate (was in stopped state).'
[39m
[32m2017-01-04 16:12:44 - INFO nodeSSDPClientLogger: 'Socket bound'
ok 131 Can call startListeningForAdvertisements without error
[39m
[36m2017-01-04 16:12:44 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"a3fe435f-5c95-452d-8a02-62e67df42c66","generation":0,"hostAddress":"127.0.0.1","portNumber":51423}'
[39m
[36m2017-01-04 16:12:44 - INFO testThaliMobileNativeAndroid: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"a3fe435f-5c95-452d-8a02-62e67df42c66","peerAvailable":true,"generation":0}]'
[39m
[32m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'received incoming socket - for peerID Incoming connection relay'
[39m
[33m2017-01-04 16:12:44 - DEBUG thaliWifiInfrastructure: 'Emitting wifiPeerAvailabilityChanged {"peerIdentifier":"a3fe435f-5c95-452d-8a02-62e67df42c66","generation":0,"hostAddress":"127.0.0.1","portNumber":51423}'
[39m
[33m2017-01-04 16:12:44 - INFO testThaliMobileNativeAndroid: 'Received peerAvailabilityChanged with peers: [{"peerIdentifier":"a3fe435f-5c95-452d-8a02-62e67df42c66","peerAvailable":true,"generation":0}]'
[39m
[33m2017-01-04 16:12:44 - INFO testThaliMobileNativeAndroid: 'connection {"listeningPort":51430}'
[39m
[33mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[33m2017-01-04 16:12:44 - INFO testThaliMobileNativeAndroid: 'connection to listening port is made'
[39m
[33mok 132 We got the close message and we are closed
[39m
[33m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'got an end on peerProxySockets'
[39m
[33m2017-01-04 16:12:44 - ERROR TestsProcess: 'uncaught exception, error: 'ReferenceError: secondConnectionToListeningPort is not defined', stack: 'ReferenceError: secondConnectionToListeningPort is not defined
    at /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeAndroid.js:295:11
    at Socket.<anonymous> (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeAndroid.js:148:25)
    at Socket.g (events.js:160:16)
    at Socket.emit (events.js:79:17)
    at Object.afterConnect [as oncomplete] (net.js:821:10)''
[39m
[33m2017-01-04 16:12:44 - ERROR TestsProcess: '****TEST_LOGGER:[PROCESS_ON_EXIT_FAILED]****'
[39m
[36m2017-01-04 16:12:44 - INFO testThaliMobileNativeAndroid: 'connection {"listeningPort":51434}'
[39m
[36mWarning: a promise was created in a handler but was not returned from it, see http://goo.gl/rRqMUw
    at process._tickCallback (node.js:924:13)
[39m
[36m2017-01-04 16:12:44 - INFO testThaliMobileNativeAndroid: 'connection to listening port is made'
[39m
[36mok 134 We got the close message and we are closed
[39m
[36m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'got an end on peerProxySockets'
[39m
[36m2017-01-04 16:12:44 - ERROR TestsProcess: 'uncaught exception, error: 'ReferenceError: secondConnectionToListeningPort is not defined', stack: 'ReferenceError: secondConnectionToListeningPort is not defined
    at /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeAndroid.js:295:11
    at Socket.<anonymous> (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/bv_tests/testThaliMobileNativeAndroid.js:148:25)
    at Socket.g (events.js:160:16)
    at Socket.emit (events.js:79:17)
    at Object.afterConnect [as oncomplete] (net.js:821:10)''
[39m
[36m2017-01-04 16:12:44 - ERROR TestsProcess: '****TEST_LOGGER:[PROCESS_ON_EXIT_FAILED]****'
[39m
[33mExit code: 1. Exit signal: null[39m
2017-01-04 16:12:44 - INFO HttpServer: 'Socket to device name: 'c2f7b9d6-738c-45e4-b216-e1291e758352' disconnected, reason: 'transport close''

[32m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'incomingSocket ended  - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'incomingSocket closed  - for peerID Incoming connection relay'
[39m
[32m2017-01-04 16:12:44 - DEBUG wifiBasedNativeMock: 'outgoingSocket closed  - for peerID Incoming connection relay'
[39m
[36mExit code: 1. Exit signal: null[39m
2017-01-04 16:12:44 - INFO HttpServer: 'Socket to device name: '16c492fd-7a89-4ce9-99b1-5edfce508585' disconnected, reason: 'transport close''


[0;31merror: command 'jx runCoordinatedTests.js --networkType NATIVE' failed with code 1, file 'build.sh' on line 66[0m
./build.sh CI FAILED - build.sh failure[0m

npm WARN thali-test-server@0.0.1 No repository field.
npm WARN thali-test-server@0.0.1 No license field.
npm http request GET http://192.168.1.100:4873/bluebird
npm http request GET http://192.168.1.100:4873/ip
npm http request GET http://192.168.1.100:4873/body-parser
npm http request GET http://192.168.1.100:4873/express
npm http request GET http://192.168.1.100:4873/javascript-state-machine
npm http request GET http://192.168.1.100:4873/object-assign
npm http request GET http://192.168.1.100:4873/winston
npm http request GET http://192.168.1.100:4873/lie
npm http request GET http://192.168.1.100:4873/long
npm http request GET http://192.168.1.100:4873/multiplex
npm http request GET http://192.168.1.100:4873/urlsafe-base64
npm http request GET http://192.168.1.100:4873/uuid
npm http request GET http://192.168.1.100:4873/request
npm http 304 http://192.168.1.100:4873/express
npm http 304 http://192.168.1.100:4873/bluebird
npm http 200 http://192.168.1.100:4873/ip
npm http 200 http://192.168.1.100:4873/javascript-state-machine
npm http 304 http://192.168.1.100:4873/object-assign
npm http 304 http://192.168.1.100:4873/winston
npm http 200 http://192.168.1.100:4873/body-parser
npm http 200 http://192.168.1.100:4873/long
npm http 200 http://192.168.1.100:4873/urlsafe-base64
npm http 200 http://192.168.1.100:4873/uuid
npm http 200 http://192.168.1.100:4873/multiplex
npm http 200 http://192.168.1.100:4873/lie
npm http 200 http://192.168.1.100:4873/request
npm http request GET http://192.168.1.100:4873/debug
npm http request GET http://192.168.1.100:4873/content-type
npm http request GET http://192.168.1.100:4873/bytes
npm http request GET http://192.168.1.100:4873/depd
npm http request GET http://192.168.1.100:4873/http-errors
npm http request GET http://192.168.1.100:4873/iconv-lite
npm http request GET http://192.168.1.100:4873/on-finished
npm http request GET http://192.168.1.100:4873/qs
npm http request GET http://192.168.1.100:4873/raw-body
npm http request GET http://192.168.1.100:4873/type-is
npm http 304 http://192.168.1.100:4873/debug
npm http 304 http://192.168.1.100:4873/content-type
npm http 304 http://192.168.1.100:4873/depd
npm http 304 http://192.168.1.100:4873/http-errors
npm http 200 http://192.168.1.100:4873/bytes
npm http 304 http://192.168.1.100:4873/qs
npm http 304 http://192.168.1.100:4873/on-finished
npm http 304 http://192.168.1.100:4873/type-is
npm http 200 http://192.168.1.100:4873/raw-body
npm http 200 http://192.168.1.100:4873/iconv-lite
npm http request GET http://192.168.1.100:4873/ms
npm http 304 http://192.168.1.100:4873/ms
npm http request GET http://192.168.1.100:4873/inherits
npm http request GET http://192.168.1.100:4873/statuses
npm http 304 http://192.168.1.100:4873/statuses
npm http 304 http://192.168.1.100:4873/inherits
npm http request GET http://192.168.1.100:4873/ee-first
npm http 304 http://192.168.1.100:4873/ee-first
npm http request GET http://192.168.1.100:4873/unpipe
npm http 304 http://192.168.1.100:4873/unpipe
npm http request GET http://192.168.1.100:4873/media-typer
npm http request GET http://192.168.1.100:4873/mime-types
npm http 304 http://192.168.1.100:4873/media-typer
npm http 304 http://192.168.1.100:4873/mime-types
npm http request GET http://192.168.1.100:4873/mime-db
npm http 304 http://192.168.1.100:4873/mime-db
npm http request GET http://192.168.1.100:4873/accepts
npm http request GET http://192.168.1.100:4873/array-flatten
npm http request GET http://192.168.1.100:4873/content-disposition
npm http request GET http://192.168.1.100:4873/cookie
npm http request GET http://192.168.1.100:4873/cookie-signature
npm http request GET http://192.168.1.100:4873/escape-html
npm http request GET http://192.168.1.100:4873/etag
npm http request GET http://192.168.1.100:4873/finalhandler
npm http request GET http://192.168.1.100:4873/fresh
npm http request GET http://192.168.1.100:4873/merge-descriptors
npm http request GET http://192.168.1.100:4873/methods
npm http request GET http://192.168.1.100:4873/parseurl
npm http request GET http://192.168.1.100:4873/path-to-regexp
npm http request GET http://192.168.1.100:4873/proxy-addr
npm http request GET http://192.168.1.100:4873/range-parser
npm http request GET http://192.168.1.100:4873/send
npm http request GET http://192.168.1.100:4873/serve-static
npm http request GET http://192.168.1.100:4873/utils-merge
npm http request GET http://192.168.1.100:4873/vary
npm http 304 http://192.168.1.100:4873/accepts
npm http 304 http://192.168.1.100:4873/array-flatten
npm http 304 http://192.168.1.100:4873/content-disposition
npm http 304 http://192.168.1.100:4873/cookie
npm http 304 http://192.168.1.100:4873/cookie-signature
npm http 304 http://192.168.1.100:4873/escape-html
npm http 304 http://192.168.1.100:4873/etag
npm http 304 http://192.168.1.100:4873/finalhandler
npm http 304 http://192.168.1.100:4873/fresh
npm http 304 http://192.168.1.100:4873/merge-descriptors
npm http 304 http://192.168.1.100:4873/methods
npm http 304 http://192.168.1.100:4873/parseurl
npm http 304 http://192.168.1.100:4873/path-to-regexp
npm http 304 http://192.168.1.100:4873/range-parser
npm http 304 http://192.168.1.100:4873/proxy-addr
npm http 304 http://192.168.1.100:4873/send
npm http 304 http://192.168.1.100:4873/serve-static
npm http 304 http://192.168.1.100:4873/utils-merge
npm http 304 http://192.168.1.100:4873/vary
npm http request GET http://192.168.1.100:4873/negotiator
npm http 304 http://192.168.1.100:4873/negotiator
npm http request GET http://192.168.1.100:4873/forwarded
npm http request GET http://192.168.1.100:4873/ipaddr.js
npm http 304 http://192.168.1.100:4873/forwarded
npm http 304 http://192.168.1.100:4873/ipaddr.js
npm http request GET http://192.168.1.100:4873/destroy
npm http request GET http://192.168.1.100:4873/mime
npm http 304 http://192.168.1.100:4873/destroy
npm http 304 http://192.168.1.100:4873/mime
npm http request GET http://192.168.1.100:4873/immediate
npm http 200 http://192.168.1.100:4873/immediate
npm http request GET http://192.168.1.100:4873/duplexify
npm http request GET http://192.168.1.100:4873/varint
npm http request GET http://192.168.1.100:4873/xtend
npm http request GET http://192.168.1.100:4873/readable-stream
npm http 304 http://192.168.1.100:4873/duplexify
npm http 200 http://192.168.1.100:4873/xtend
npm http 304 http://192.168.1.100:4873/readable-stream
npm http 200 http://192.168.1.100:4873/varint
npm http request GET http://192.168.1.100:4873/stream-shift
npm http request GET http://192.168.1.100:4873/end-of-stream
npm http 304 http://192.168.1.100:4873/stream-shift
npm http 200 http://192.168.1.100:4873/end-of-stream
npm http request GET http://192.168.1.100:4873/once
npm http 304 http://192.168.1.100:4873/once
npm http request GET http://192.168.1.100:4873/wrappy
npm http 304 http://192.168.1.100:4873/wrappy
npm http request GET http://192.168.1.100:4873/isarray
npm http request GET http://192.168.1.100:4873/buffer-shims
npm http request GET http://192.168.1.100:4873/core-util-is
npm http request GET http://192.168.1.100:4873/string_decoder
npm http request GET http://192.168.1.100:4873/process-nextick-args
npm http request GET http://192.168.1.100:4873/util-deprecate
npm http 304 http://192.168.1.100:4873/isarray
npm http 304 http://192.168.1.100:4873/core-util-is
npm http 304 http://192.168.1.100:4873/string_decoder
npm http 304 http://192.168.1.100:4873/process-nextick-args
npm http 304 http://192.168.1.100:4873/buffer-shims
npm http 304 http://192.168.1.100:4873/util-deprecate
npm http request GET http://192.168.1.100:4873/extend
npm http request GET http://192.168.1.100:4873/bl
npm http request GET http://192.168.1.100:4873/caseless
npm http request GET http://192.168.1.100:4873/node-uuid
npm http request GET http://192.168.1.100:4873/form-data
npm http request GET http://192.168.1.100:4873/json-stringify-safe
npm http request GET http://192.168.1.100:4873/tough-cookie
npm http request GET http://192.168.1.100:4873/tunnel-agent
npm http request GET http://192.168.1.100:4873/http-signature
npm http request GET http://192.168.1.100:4873/oauth-sign
npm http request GET http://192.168.1.100:4873/hawk
npm http request GET http://192.168.1.100:4873/stringstream
npm http request GET http://192.168.1.100:4873/aws-sign2
npm http request GET http://192.168.1.100:4873/isstream
npm http request GET http://192.168.1.100:4873/combined-stream
npm http request GET http://192.168.1.100:4873/har-validator
npm http 200 http://192.168.1.100:4873/extend
npm http 304 http://192.168.1.100:4873/caseless
npm http 200 http://192.168.1.100:4873/bl
npm http 304 http://192.168.1.100:4873/node-uuid
npm http 200 http://192.168.1.100:4873/form-data
npm http 200 http://192.168.1.100:4873/json-stringify-safe
npm http 304 http://192.168.1.100:4873/http-signature
npm http 304 http://192.168.1.100:4873/oauth-sign
npm http 200 http://192.168.1.100:4873/tunnel-agent
npm http 200 http://192.168.1.100:4873/tough-cookie
npm http 304 http://192.168.1.100:4873/stringstream
npm http 304 http://192.168.1.100:4873/aws-sign2
npm http 304 http://192.168.1.100:4873/isstream
npm http 200 http://192.168.1.100:4873/hawk
npm http 200 http://192.168.1.100:4873/combined-stream
npm http 200 http://192.168.1.100:4873/har-validator
npm http request GET http://192.168.1.100:4873/delayed-stream
npm http 304 http://192.168.1.100:4873/delayed-stream
npm http request GET http://192.168.1.100:4873/async
npm http 304 http://192.168.1.100:4873/async
npm http fetch GET http://192.168.1.100:4873/async/-/async-2.1.4.tgz
npm http fetch 200 http://192.168.1.100:4873/async/-/async-2.1.4.tgz
npm http request GET http://192.168.1.100:4873/lodash
npm http 200 http://192.168.1.100:4873/lodash
npm http fetch GET http://192.168.1.100:4873/lodash/-/lodash-4.17.4.tgz
npm http fetch 200 http://192.168.1.100:4873/lodash/-/lodash-4.17.4.tgz
npm http request GET http://192.168.1.100:4873/commander
npm http request GET http://192.168.1.100:4873/chalk
npm http request GET http://192.168.1.100:4873/is-my-json-valid
npm http 200 http://192.168.1.100:4873/is-my-json-valid
npm http 200 http://192.168.1.100:4873/chalk
npm http 200 http://192.168.1.100:4873/commander
npm http request GET http://192.168.1.100:4873/ansi-styles
npm http request GET http://192.168.1.100:4873/escape-string-regexp
npm http request GET http://192.168.1.100:4873/strip-ansi
npm http request GET http://192.168.1.100:4873/supports-color
npm http request GET http://192.168.1.100:4873/has-ansi
npm http 304 http://192.168.1.100:4873/escape-string-regexp
npm http 304 http://192.168.1.100:4873/strip-ansi
npm http 200 http://192.168.1.100:4873/has-ansi
npm http 200 http://192.168.1.100:4873/supports-color
npm http 200 http://192.168.1.100:4873/ansi-styles
npm http request GET http://192.168.1.100:4873/ansi-regex
npm http 304 http://192.168.1.100:4873/ansi-regex
npm http request GET http://192.168.1.100:4873/graceful-readlink
npm http 200 http://192.168.1.100:4873/graceful-readlink
npm http request GET http://192.168.1.100:4873/generate-function
npm http request GET http://192.168.1.100:4873/generate-object-property
npm http request GET http://192.168.1.100:4873/jsonpointer
npm http 304 http://192.168.1.100:4873/generate-object-property
npm http 200 http://192.168.1.100:4873/jsonpointer
npm http 304 http://192.168.1.100:4873/generate-function
npm http fetch GET http://192.168.1.100:4873/jsonpointer/-/jsonpointer-4.0.1.tgz
npm http fetch 200 http://192.168.1.100:4873/jsonpointer/-/jsonpointer-4.0.1.tgz
npm http request GET http://192.168.1.100:4873/is-property
npm http 304 http://192.168.1.100:4873/is-property
npm http request GET http://192.168.1.100:4873/cryptiles
npm http request GET http://192.168.1.100:4873/hoek
npm http request GET http://192.168.1.100:4873/sntp
npm http request GET http://192.168.1.100:4873/boom
npm http 200 http://192.168.1.100:4873/boom
npm http 200 http://192.168.1.100:4873/sntp
npm http 200 http://192.168.1.100:4873/cryptiles
npm http 200 http://192.168.1.100:4873/hoek
npm http request GET http://192.168.1.100:4873/asn1
npm http request GET http://192.168.1.100:4873/assert-plus
npm http request GET http://192.168.1.100:4873/ctype
npm http 200 http://192.168.1.100:4873/assert-plus
npm http 304 http://192.168.1.100:4873/asn1
npm http 304 http://192.168.1.100:4873/ctype
npm http request GET http://192.168.1.100:4873/punycode
npm http 304 http://192.168.1.100:4873/punycode
npm http request GET http://192.168.1.100:4873/jsonschema
npm http 200 http://192.168.1.100:4873/jsonschema
npm http fetch GET http://192.168.1.100:4873/jsonschema/-/jsonschema-1.1.1.tgz
npm http fetch 200 http://192.168.1.100:4873/jsonschema/-/jsonschema-1.1.1.tgz
npm http request GET http://192.168.1.100:4873/colors
npm http request GET http://192.168.1.100:4873/cycle
npm http request GET http://192.168.1.100:4873/eyes
npm http request GET http://192.168.1.100:4873/pkginfo
npm http request GET http://192.168.1.100:4873/stack-trace
npm http 304 http://192.168.1.100:4873/colors
npm http 304 http://192.168.1.100:4873/cycle
npm http 304 http://192.168.1.100:4873/eyes
npm http 304 http://192.168.1.100:4873/pkginfo
npm http 304 http://192.168.1.100:4873/stack-trace
npm http request GET http://192.168.1.100:4873/eslint
npm http request GET http://192.168.1.100:4873/jsdoc
npm http 200 http://192.168.1.100:4873/jsdoc
npm http 200 http://192.168.1.100:4873/eslint
npm http fetch GET http://192.168.1.100:4873/eslint/-/eslint-3.11.1.tgz
npm http fetch 200 http://192.168.1.100:4873/eslint/-/eslint-3.11.1.tgz
npm http request GET http://192.168.1.100:4873/babel-code-frame
npm http request GET http://192.168.1.100:4873/doctrine
npm http request GET http://192.168.1.100:4873/escope
npm http request GET http://192.168.1.100:4873/estraverse
npm http request GET http://192.168.1.100:4873/esutils
npm http request GET http://192.168.1.100:4873/file-entry-cache
npm http request GET http://192.168.1.100:4873/globals
npm http request GET http://192.168.1.100:4873/ignore
npm http request GET http://192.168.1.100:4873/is-resolvable
npm http request GET http://192.168.1.100:4873/js-yaml
npm http request GET http://192.168.1.100:4873/levn
npm http request GET http://192.168.1.100:4873/natural-compare
npm http request GET http://192.168.1.100:4873/optionator
npm http request GET http://192.168.1.100:4873/path-is-inside
npm http request GET http://192.168.1.100:4873/pluralize
npm http request GET http://192.168.1.100:4873/require-uncached
npm http request GET http://192.168.1.100:4873/strip-bom
npm http request GET http://192.168.1.100:4873/table
npm http request GET http://192.168.1.100:4873/text-table
npm http request GET http://192.168.1.100:4873/user-home
npm http request GET http://192.168.1.100:4873/glob
npm http request GET http://192.168.1.100:4873/concat-stream
npm http request GET http://192.168.1.100:4873/espree
npm http request GET http://192.168.1.100:4873/imurmurhash
npm http request GET http://192.168.1.100:4873/json-stable-stringify
npm http request GET http://192.168.1.100:4873/inquirer
npm http request GET http://192.168.1.100:4873/mkdirp
npm http request GET http://192.168.1.100:4873/progress
npm http request GET http://192.168.1.100:4873/strip-json-comments
npm http request GET http://192.168.1.100:4873/shelljs
npm http 200 http://192.168.1.100:4873/babel-code-frame
npm http 200 http://192.168.1.100:4873/esutils
npm http 200 http://192.168.1.100:4873/doctrine
npm http 200 http://192.168.1.100:4873/estraverse
npm http 200 http://192.168.1.100:4873/escope
npm http fetch GET http://192.168.1.100:4873/babel-code-frame/-/babel-code-frame-6.20.0.tgz
npm http fetch GET http://192.168.1.100:4873/esutils/-/esutils-2.0.2.tgz
npm http 200 http://192.168.1.100:4873/file-entry-cache
npm http fetch GET http://192.168.1.100:4873/doctrine/-/doctrine-1.5.0.tgz
npm http fetch GET http://192.168.1.100:4873/estraverse/-/estraverse-4.2.0.tgz
npm http 200 http://192.168.1.100:4873/is-resolvable
npm http 200 http://192.168.1.100:4873/ignore
npm http 200 http://192.168.1.100:4873/globals
npm http 200 http://192.168.1.100:4873/js-yaml
npm http fetch GET http://192.168.1.100:4873/escope/-/escope-3.6.0.tgz
npm http 200 http://192.168.1.100:4873/levn
npm http 200 http://192.168.1.100:4873/path-is-inside
npm http 200 http://192.168.1.100:4873/natural-compare
npm http 200 http://192.168.1.100:4873/optionator
npm http 200 http://192.168.1.100:4873/pluralize
npm http fetch GET http://192.168.1.100:4873/file-entry-cache/-/file-entry-cache-2.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/ignore/-/ignore-3.2.0.tgz
npm http fetch GET http://192.168.1.100:4873/is-resolvable/-/is-resolvable-1.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/globals/-/globals-9.14.0.tgz
npm http fetch GET http://192.168.1.100:4873/js-yaml/-/js-yaml-3.7.0.tgz
npm http 200 http://192.168.1.100:4873/require-uncached
npm http fetch GET http://192.168.1.100:4873/levn/-/levn-0.3.0.tgz
npm http fetch GET http://192.168.1.100:4873/path-is-inside/-/path-is-inside-1.0.2.tgz
npm http 200 http://192.168.1.100:4873/strip-bom
npm http 200 http://192.168.1.100:4873/text-table
npm http 200 http://192.168.1.100:4873/user-home
npm http fetch GET http://192.168.1.100:4873/optionator/-/optionator-0.8.2.tgz
npm http fetch GET http://192.168.1.100:4873/natural-compare/-/natural-compare-1.4.0.tgz
npm http fetch GET http://192.168.1.100:4873/pluralize/-/pluralize-1.2.1.tgz
npm http fetch GET http://192.168.1.100:4873/require-uncached/-/require-uncached-1.0.3.tgz
npm http 200 http://192.168.1.100:4873/table
npm http 304 http://192.168.1.100:4873/glob
npm http fetch GET http://192.168.1.100:4873/text-table/-/text-table-0.2.0.tgz
npm http fetch GET http://192.168.1.100:4873/user-home/-/user-home-2.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/strip-bom/-/strip-bom-3.0.0.tgz
npm http 304 http://192.168.1.100:4873/imurmurhash
npm http 304 http://192.168.1.100:4873/json-stable-stringify
npm http fetch GET http://192.168.1.100:4873/table/-/table-3.8.3.tgz
npm http 200 http://192.168.1.100:4873/concat-stream
npm http 200 http://192.168.1.100:4873/espree
npm http fetch 200 http://192.168.1.100:4873/babel-code-frame/-/babel-code-frame-6.20.0.tgz
npm http fetch 200 http://192.168.1.100:4873/esutils/-/esutils-2.0.2.tgz
npm http fetch 200 http://192.168.1.100:4873/doctrine/-/doctrine-1.5.0.tgz
npm http 200 http://192.168.1.100:4873/inquirer
npm http fetch 200 http://192.168.1.100:4873/estraverse/-/estraverse-4.2.0.tgz
npm http fetch 200 http://192.168.1.100:4873/escope/-/escope-3.6.0.tgz
npm http fetch 200 http://192.168.1.100:4873/file-entry-cache/-/file-entry-cache-2.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/ignore/-/ignore-3.2.0.tgz
npm http fetch 200 http://192.168.1.100:4873/is-resolvable/-/is-resolvable-1.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/json-stable-stringify/-/json-stable-stringify-1.0.1.tgz
npm http 200 http://192.168.1.100:4873/mkdirp
npm http 200 http://192.168.1.100:4873/progress
npm http 200 http://192.168.1.100:4873/strip-json-comments
npm http fetch 200 http://192.168.1.100:4873/js-yaml/-/js-yaml-3.7.0.tgz
npm http fetch 200 http://192.168.1.100:4873/globals/-/globals-9.14.0.tgz
npm http fetch GET http://192.168.1.100:4873/concat-stream/-/concat-stream-1.6.0.tgz
npm http fetch 200 http://192.168.1.100:4873/levn/-/levn-0.3.0.tgz
npm http fetch 200 http://192.168.1.100:4873/path-is-inside/-/path-is-inside-1.0.2.tgz
npm http fetch GET http://192.168.1.100:4873/espree/-/espree-3.3.2.tgz
npm http fetch 200 http://192.168.1.100:4873/optionator/-/optionator-0.8.2.tgz
npm http fetch 200 http://192.168.1.100:4873/natural-compare/-/natural-compare-1.4.0.tgz
npm http fetch 200 http://192.168.1.100:4873/pluralize/-/pluralize-1.2.1.tgz
npm http fetch 200 http://192.168.1.100:4873/require-uncached/-/require-uncached-1.0.3.tgz
npm http fetch 200 http://192.168.1.100:4873/strip-bom/-/strip-bom-3.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/text-table/-/text-table-0.2.0.tgz
npm http fetch 200 http://192.168.1.100:4873/user-home/-/user-home-2.0.0.tgz
npm http 200 http://192.168.1.100:4873/shelljs
npm http fetch 200 http://192.168.1.100:4873/table/-/table-3.8.3.tgz
npm http fetch 200 http://192.168.1.100:4873/json-stable-stringify/-/json-stable-stringify-1.0.1.tgz
npm http fetch 200 http://192.168.1.100:4873/concat-stream/-/concat-stream-1.6.0.tgz
npm http fetch 200 http://192.168.1.100:4873/espree/-/espree-3.3.2.tgz
npm http fetch GET http://192.168.1.100:4873/inquirer/-/inquirer-0.12.0.tgz
npm http fetch 200 http://192.168.1.100:4873/inquirer/-/inquirer-0.12.0.tgz
npm http request GET http://192.168.1.100:4873/js-tokens
npm http 200 http://192.168.1.100:4873/js-tokens
npm http fetch GET http://192.168.1.100:4873/js-tokens/-/js-tokens-2.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/js-tokens/-/js-tokens-2.0.0.tgz
npm http request GET http://192.168.1.100:4873/typedarray
npm http 304 http://192.168.1.100:4873/typedarray
npm http request GET http://192.168.1.100:4873/es6-map
npm http request GET http://192.168.1.100:4873/es6-weak-map
npm http request GET http://192.168.1.100:4873/esrecurse
npm http 200 http://192.168.1.100:4873/es6-map
npm http 200 http://192.168.1.100:4873/esrecurse
npm http 200 http://192.168.1.100:4873/es6-weak-map
npm http fetch GET http://192.168.1.100:4873/es6-map/-/es6-map-0.1.4.tgz
npm http fetch GET http://192.168.1.100:4873/esrecurse/-/esrecurse-4.1.0.tgz
npm http fetch GET http://192.168.1.100:4873/es6-weak-map/-/es6-weak-map-2.0.1.tgz
npm http fetch 200 http://192.168.1.100:4873/es6-map/-/es6-map-0.1.4.tgz
npm http fetch 200 http://192.168.1.100:4873/esrecurse/-/esrecurse-4.1.0.tgz
npm http fetch 200 http://192.168.1.100:4873/es6-weak-map/-/es6-weak-map-2.0.1.tgz
npm http request GET http://192.168.1.100:4873/es6-set
npm http request GET http://192.168.1.100:4873/event-emitter
npm http request GET http://192.168.1.100:4873/d
npm http request GET http://192.168.1.100:4873/es6-iterator
npm http request GET http://192.168.1.100:4873/es5-ext
npm http request GET http://192.168.1.100:4873/es6-symbol
npm http 200 http://192.168.1.100:4873/es6-set
npm http 200 http://192.168.1.100:4873/event-emitter
npm http 200 http://192.168.1.100:4873/es6-iterator
npm http 200 http://192.168.1.100:4873/d
npm http 200 http://192.168.1.100:4873/es5-ext
npm http fetch GET http://192.168.1.100:4873/es6-set/-/es6-set-0.1.4.tgz
npm http fetch GET http://192.168.1.100:4873/event-emitter/-/event-emitter-0.3.4.tgz
npm http fetch 200 http://192.168.1.100:4873/event-emitter/-/event-emitter-0.3.4.tgz
npm http fetch 200 http://192.168.1.100:4873/es6-set/-/es6-set-0.1.4.tgz
npm http 200 http://192.168.1.100:4873/es6-symbol
npm http fetch GET http://192.168.1.100:4873/estraverse/-/estraverse-4.1.1.tgz
npm http fetch 200 http://192.168.1.100:4873/estraverse/-/estraverse-4.1.1.tgz
npm http request GET http://192.168.1.100:4873/acorn-jsx
npm http request GET http://192.168.1.100:4873/acorn
npm http 200 http://192.168.1.100:4873/acorn-jsx
npm http 200 http://192.168.1.100:4873/acorn
npm http fetch GET http://192.168.1.100:4873/acorn-jsx/-/acorn-jsx-3.0.1.tgz
npm http fetch 200 http://192.168.1.100:4873/acorn-jsx/-/acorn-jsx-3.0.1.tgz
npm http fetch GET http://192.168.1.100:4873/acorn/-/acorn-4.0.4.tgz
npm http fetch 200 http://192.168.1.100:4873/acorn/-/acorn-4.0.4.tgz
npm http request GET http://192.168.1.100:4873/flat-cache
npm http 200 http://192.168.1.100:4873/flat-cache
npm http fetch GET http://192.168.1.100:4873/flat-cache/-/flat-cache-1.2.2.tgz
npm http fetch 200 http://192.168.1.100:4873/flat-cache/-/flat-cache-1.2.2.tgz
npm http request GET http://192.168.1.100:4873/circular-json
npm http request GET http://192.168.1.100:4873/del
npm http request GET http://192.168.1.100:4873/write
npm http request GET http://192.168.1.100:4873/graceful-fs
npm http 304 http://192.168.1.100:4873/graceful-fs
npm http 200 http://192.168.1.100:4873/circular-json
npm http 200 http://192.168.1.100:4873/del
npm http 200 http://192.168.1.100:4873/write
npm http fetch GET http://192.168.1.100:4873/circular-json/-/circular-json-0.3.1.tgz
npm http fetch GET http://192.168.1.100:4873/del/-/del-2.2.2.tgz
npm http fetch GET http://192.168.1.100:4873/write/-/write-0.2.1.tgz
npm http fetch 200 http://192.168.1.100:4873/del/-/del-2.2.2.tgz
npm http fetch 200 http://192.168.1.100:4873/write/-/write-0.2.1.tgz
npm http fetch 200 http://192.168.1.100:4873/circular-json/-/circular-json-0.3.1.tgz
npm http request GET http://192.168.1.100:4873/globby
npm http request GET http://192.168.1.100:4873/is-path-cwd
npm http request GET http://192.168.1.100:4873/is-path-in-cwd
npm http request GET http://192.168.1.100:4873/pify
npm http request GET http://192.168.1.100:4873/pinkie-promise
npm http request GET http://192.168.1.100:4873/rimraf
npm http 200 http://192.168.1.100:4873/is-path-cwd
npm http 200 http://192.168.1.100:4873/globby
npm http 304 http://192.168.1.100:4873/pinkie-promise
npm http 200 http://192.168.1.100:4873/pify
npm http 200 http://192.168.1.100:4873/is-path-in-cwd
npm http fetch GET http://192.168.1.100:4873/is-path-cwd/-/is-path-cwd-1.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/is-path-cwd/-/is-path-cwd-1.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/pify/-/pify-2.3.0.tgz
npm http fetch GET http://192.168.1.100:4873/globby/-/globby-5.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/is-path-in-cwd/-/is-path-in-cwd-1.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/pify/-/pify-2.3.0.tgz
npm http fetch 200 http://192.168.1.100:4873/globby/-/globby-5.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/is-path-in-cwd/-/is-path-in-cwd-1.0.0.tgz
npm http 304 http://192.168.1.100:4873/rimraf
npm http request GET http://192.168.1.100:4873/array-union
npm http request GET http://192.168.1.100:4873/arrify
npm http 200 http://192.168.1.100:4873/arrify
npm http 200 http://192.168.1.100:4873/array-union
npm http fetch GET http://192.168.1.100:4873/array-union/-/array-union-1.0.2.tgz
npm http fetch GET http://192.168.1.100:4873/arrify/-/arrify-1.0.1.tgz
npm http fetch 200 http://192.168.1.100:4873/array-union/-/array-union-1.0.2.tgz
npm http fetch 200 http://192.168.1.100:4873/arrify/-/arrify-1.0.1.tgz
npm http request GET http://192.168.1.100:4873/array-uniq
npm http 200 http://192.168.1.100:4873/array-uniq
npm http fetch GET http://192.168.1.100:4873/array-uniq/-/array-uniq-1.0.3.tgz
npm http fetch 200 http://192.168.1.100:4873/array-uniq/-/array-uniq-1.0.3.tgz
npm http request GET http://192.168.1.100:4873/fs.realpath
npm http request GET http://192.168.1.100:4873/inflight
npm http request GET http://192.168.1.100:4873/minimatch
npm http request GET http://192.168.1.100:4873/path-is-absolute
npm http 304 http://192.168.1.100:4873/fs.realpath
npm http 304 http://192.168.1.100:4873/inflight
npm http 304 http://192.168.1.100:4873/path-is-absolute
npm http 304 http://192.168.1.100:4873/minimatch
npm http request GET http://192.168.1.100:4873/brace-expansion
npm http 304 http://192.168.1.100:4873/brace-expansion
npm http request GET http://192.168.1.100:4873/balanced-match
npm http request GET http://192.168.1.100:4873/concat-map
npm http 304 http://192.168.1.100:4873/balanced-match
npm http 304 http://192.168.1.100:4873/concat-map
npm http request GET http://192.168.1.100:4873/pinkie
npm http 304 http://192.168.1.100:4873/pinkie
npm http request GET http://192.168.1.100:4873/is-path-inside
npm http 200 http://192.168.1.100:4873/is-path-inside
npm http fetch GET http://192.168.1.100:4873/is-path-inside/-/is-path-inside-1.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/is-path-inside/-/is-path-inside-1.0.0.tgz
npm http request GET http://192.168.1.100:4873/minimist
npm http 200 http://192.168.1.100:4873/minimist
npm http request GET http://192.168.1.100:4873/string-width
npm http request GET http://192.168.1.100:4873/ansi-escapes
npm http request GET http://192.168.1.100:4873/cli-cursor
npm http request GET http://192.168.1.100:4873/cli-width
npm http request GET http://192.168.1.100:4873/figures
npm http request GET http://192.168.1.100:4873/readline2
npm http request GET http://192.168.1.100:4873/run-async
npm http request GET http://192.168.1.100:4873/rx-lite
npm http request GET http://192.168.1.100:4873/through
npm http 200 http://192.168.1.100:4873/string-width
npm http 200 http://192.168.1.100:4873/ansi-escapes
npm http 304 http://192.168.1.100:4873/cli-cursor
npm http 304 http://192.168.1.100:4873/figures
npm http 304 http://192.168.1.100:4873/cli-width
npm http 304 http://192.168.1.100:4873/readline2
npm http fetch GET http://192.168.1.100:4873/cli-width/-/cli-width-2.1.0.tgz
npm http fetch GET http://192.168.1.100:4873/string-width/-/string-width-1.0.2.tgz
npm http 304 http://192.168.1.100:4873/rx-lite
npm http 200 http://192.168.1.100:4873/run-async
npm http fetch 200 http://192.168.1.100:4873/cli-width/-/cli-width-2.1.0.tgz
npm http fetch 200 http://192.168.1.100:4873/string-width/-/string-width-1.0.2.tgz
npm http 200 http://192.168.1.100:4873/through
npm http request GET http://192.168.1.100:4873/restore-cursor
npm http 304 http://192.168.1.100:4873/restore-cursor
npm http request GET http://192.168.1.100:4873/onetime
npm http request GET http://192.168.1.100:4873/exit-hook
npm http 304 http://192.168.1.100:4873/onetime
npm http 304 http://192.168.1.100:4873/exit-hook
npm http request GET http://192.168.1.100:4873/code-point-at
npm http request GET http://192.168.1.100:4873/is-fullwidth-code-point
npm http request GET http://192.168.1.100:4873/mute-stream
npm http 304 http://192.168.1.100:4873/code-point-at
npm http 304 http://192.168.1.100:4873/is-fullwidth-code-point
npm http 200 http://192.168.1.100:4873/mute-stream
npm http request GET http://192.168.1.100:4873/number-is-nan
npm http 304 http://192.168.1.100:4873/number-is-nan
npm http request GET http://192.168.1.100:4873/tryit
npm http 200 http://192.168.1.100:4873/tryit
npm http fetch GET http://192.168.1.100:4873/tryit/-/tryit-1.0.3.tgz
npm http fetch 200 http://192.168.1.100:4873/tryit/-/tryit-1.0.3.tgz
npm http request GET http://192.168.1.100:4873/argparse
npm http request GET http://192.168.1.100:4873/esprima
npm http 200 http://192.168.1.100:4873/argparse
npm http 200 http://192.168.1.100:4873/esprima
npm http fetch GET http://192.168.1.100:4873/argparse/-/argparse-1.0.9.tgz
npm http fetch 200 http://192.168.1.100:4873/argparse/-/argparse-1.0.9.tgz
npm http request GET http://192.168.1.100:4873/sprintf-js
npm http 200 http://192.168.1.100:4873/sprintf-js
npm http fetch GET http://192.168.1.100:4873/sprintf-js/-/sprintf-js-1.0.3.tgz
npm http fetch 200 http://192.168.1.100:4873/sprintf-js/-/sprintf-js-1.0.3.tgz
npm http request GET http://192.168.1.100:4873/jsonify
npm http 304 http://192.168.1.100:4873/jsonify
npm http request GET http://192.168.1.100:4873/prelude-ls
npm http request GET http://192.168.1.100:4873/type-check
npm http 200 http://192.168.1.100:4873/prelude-ls
npm http 200 http://192.168.1.100:4873/type-check
npm http fetch GET http://192.168.1.100:4873/prelude-ls/-/prelude-ls-1.1.2.tgz
npm http fetch GET http://192.168.1.100:4873/type-check/-/type-check-0.3.2.tgz
npm http fetch 200 http://192.168.1.100:4873/type-check/-/type-check-0.3.2.tgz
npm http fetch 200 http://192.168.1.100:4873/prelude-ls/-/prelude-ls-1.1.2.tgz
npm http request GET http://192.168.1.100:4873/deep-is
npm http request GET http://192.168.1.100:4873/wordwrap
npm http request GET http://192.168.1.100:4873/fast-levenshtein
npm http 200 http://192.168.1.100:4873/deep-is
npm http 200 http://192.168.1.100:4873/wordwrap
npm http 200 http://192.168.1.100:4873/fast-levenshtein
npm http fetch GET http://192.168.1.100:4873/deep-is/-/deep-is-0.1.3.tgz
npm http fetch GET http://192.168.1.100:4873/wordwrap/-/wordwrap-1.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/fast-levenshtein/-/fast-levenshtein-2.0.6.tgz
npm http fetch 200 http://192.168.1.100:4873/deep-is/-/deep-is-0.1.3.tgz
npm http fetch 200 http://192.168.1.100:4873/wordwrap/-/wordwrap-1.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/fast-levenshtein/-/fast-levenshtein-2.0.6.tgz
npm http request GET http://192.168.1.100:4873/caller-path
npm http request GET http://192.168.1.100:4873/resolve-from
npm http 200 http://192.168.1.100:4873/caller-path
npm http 200 http://192.168.1.100:4873/resolve-from
npm http fetch GET http://192.168.1.100:4873/resolve-from/-/resolve-from-1.0.1.tgz
npm http fetch GET http://192.168.1.100:4873/caller-path/-/caller-path-0.1.0.tgz
npm http fetch 200 http://192.168.1.100:4873/resolve-from/-/resolve-from-1.0.1.tgz
npm http fetch 200 http://192.168.1.100:4873/caller-path/-/caller-path-0.1.0.tgz
npm http request GET http://192.168.1.100:4873/callsites
npm http 200 http://192.168.1.100:4873/callsites
npm http fetch GET http://192.168.1.100:4873/callsites/-/callsites-0.2.0.tgz
npm http fetch 200 http://192.168.1.100:4873/callsites/-/callsites-0.2.0.tgz
npm http request GET http://192.168.1.100:4873/interpret
npm http request GET http://192.168.1.100:4873/rechoir
npm http 304 http://192.168.1.100:4873/rechoir
npm http 200 http://192.168.1.100:4873/interpret
npm http request GET http://192.168.1.100:4873/resolve
npm http 200 http://192.168.1.100:4873/resolve
npm http fetch GET http://192.168.1.100:4873/resolve/-/resolve-1.2.0.tgz
npm http fetch 200 http://192.168.1.100:4873/resolve/-/resolve-1.2.0.tgz
npm http request GET http://192.168.1.100:4873/ajv
npm http request GET http://192.168.1.100:4873/ajv-keywords
npm http request GET http://192.168.1.100:4873/slice-ansi
npm http fetch GET http://192.168.1.100:4873/string-width/-/string-width-2.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/string-width/-/string-width-2.0.0.tgz
npm http 200 http://192.168.1.100:4873/slice-ansi
npm http 200 http://192.168.1.100:4873/ajv-keywords
npm http fetch GET http://192.168.1.100:4873/slice-ansi/-/slice-ansi-0.0.4.tgz
npm http fetch GET http://192.168.1.100:4873/ajv-keywords/-/ajv-keywords-1.5.0.tgz
npm http fetch 200 http://192.168.1.100:4873/slice-ansi/-/slice-ansi-0.0.4.tgz
npm http fetch 200 http://192.168.1.100:4873/ajv-keywords/-/ajv-keywords-1.5.0.tgz
npm http 200 http://192.168.1.100:4873/ajv
npm http fetch GET http://192.168.1.100:4873/ajv/-/ajv-4.10.3.tgz
npm http fetch 200 http://192.168.1.100:4873/ajv/-/ajv-4.10.3.tgz
npm http request GET http://192.168.1.100:4873/co
npm http 200 http://192.168.1.100:4873/co
npm http fetch GET http://192.168.1.100:4873/co/-/co-4.6.0.tgz
npm http fetch 200 http://192.168.1.100:4873/co/-/co-4.6.0.tgz
npm http fetch GET http://192.168.1.100:4873/is-fullwidth-code-point/-/is-fullwidth-code-point-2.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/is-fullwidth-code-point/-/is-fullwidth-code-point-2.0.0.tgz
npm http request GET http://192.168.1.100:4873/os-homedir
npm http 304 http://192.168.1.100:4873/os-homedir
npm http request GET http://192.168.1.100:4873/catharsis
npm http request GET http://192.168.1.100:4873/js2xmlparser
npm http request GET http://192.168.1.100:4873/marked
npm http request GET http://192.168.1.100:4873/requizzle
npm http request GET http://192.168.1.100:4873/underscore
npm http request GET http://192.168.1.100:4873/wrench
npm http request GET http://192.168.1.100:4873/async
npm http fetch GET https://github.com/hegemonic/taffydb/tarball/7d100bcee0e997ee4977e273cdce60bd8933050e
npm http 200 http://192.168.1.100:4873/js2xmlparser
npm http 200 http://192.168.1.100:4873/marked
npm http 200 http://192.168.1.100:4873/requizzle
npm http 200 http://192.168.1.100:4873/catharsis
npm http 200 http://192.168.1.100:4873/underscore
npm http 304 http://192.168.1.100:4873/async
npm http 200 http://192.168.1.100:4873/wrench
npm WARN deprecated wrench@1.5.9: wrench.js is deprecated! You should check out fs-extra (https://github.com/jprichardson/node-fs-extra) for any operations you were using wrench for. Thanks for all the usage over the years.
npm http fetch 200 https://github.com/hegemonic/taffydb/tarball/7d100bcee0e997ee4977e273cdce60bd8933050e
npm http request GET http://192.168.1.100:4873/underscore-contrib
npm http 200 http://192.168.1.100:4873/underscore-contrib
npm WARN prefer global marked@0.3.6 should be installed with -g
npm WARN install@0.0.1 No repository field.
npm http request GET http://192.168.1.100:4873/stacky
npm http request GET http://192.168.1.100:4873/balanced-match
npm http request GET http://192.168.1.100:4873/bluebird
npm http request GET http://192.168.1.100:4873/body-parser
npm http request GET http://192.168.1.100:4873/bn.js
npm http request GET http://192.168.1.100:4873/child-process-promise
npm http request GET http://192.168.1.100:4873/concat-map
npm http request GET http://192.168.1.100:4873/express
npm http request GET http://192.168.1.100:4873/inherits
npm http request GET http://192.168.1.100:4873/is-property
npm http request GET http://192.168.1.100:4873/express-pouchdb
npm http request GET http://192.168.1.100:4873/js-extend
npm http request GET http://192.168.1.100:4873/leveldown-mobile
npm http request GET http://192.168.1.100:4873/long
npm http request GET http://192.168.1.100:4873/minimist
npm http request GET http://192.168.1.100:4873/multiplex
npm http request GET http://192.168.1.100:4873/node-uuid
npm http request GET http://192.168.1.100:4873/object-assign
npm http request GET http://192.168.1.100:4873/pouchdb-size
npm http request GET http://192.168.1.100:4873/randomstring
npm http request GET http://192.168.1.100:4873/pouchdb
npm http request GET http://192.168.1.100:4873/proxyquire
npm http request GET http://192.168.1.100:4873/nock
npm http request GET http://192.168.1.100:4873/request
npm http request GET http://192.168.1.100:4873/request-promise
npm http request GET http://192.168.1.100:4873/socket.io-client
npm http request GET http://192.168.1.100:4873/sinon
npm http request GET http://192.168.1.100:4873/supertest
npm http request GET http://192.168.1.100:4873/supertest-as-promised
npm http request GET http://192.168.1.100:4873/tape
npm http request GET http://192.168.1.100:4873/tape-catch
npm http request GET http://192.168.1.100:4873/tmp
npm http request GET http://192.168.1.100:4873/urlsafe-base64
npm http request GET http://192.168.1.100:4873/uuid
npm http request GET http://192.168.1.100:4873/uuid-validate
npm http 200 http://192.168.1.100:4873/stacky
npm http 304 http://192.168.1.100:4873/balanced-match
npm http 304 http://192.168.1.100:4873/bluebird
npm http 304 http://192.168.1.100:4873/body-parser
npm http 304 http://192.168.1.100:4873/child-process-promise
npm http 304 http://192.168.1.100:4873/concat-map
npm http 304 http://192.168.1.100:4873/inherits
npm http 200 http://192.168.1.100:4873/bn.js
npm http fetch GET http://192.168.1.100:4873/stacky/-/stacky-1.3.1.tgz
npm http 304 http://192.168.1.100:4873/express
npm http 304 http://192.168.1.100:4873/is-property
npm http 200 http://192.168.1.100:4873/js-extend
npm http 304 http://192.168.1.100:4873/long
npm http 304 http://192.168.1.100:4873/minimist
npm http 304 http://192.168.1.100:4873/multiplex
npm http 304 http://192.168.1.100:4873/node-uuid
npm http 304 http://192.168.1.100:4873/object-assign
npm http 200 http://192.168.1.100:4873/express-pouchdb
npm http 200 http://192.168.1.100:4873/leveldown-mobile
npm http 304 http://192.168.1.100:4873/randomstring
npm http 200 http://192.168.1.100:4873/pouchdb-size
npm http 200 http://192.168.1.100:4873/proxyquire
npm http 304 http://192.168.1.100:4873/request
npm http 304 http://192.168.1.100:4873/socket.io-client
npm http fetch GET http://192.168.1.100:4873/express-pouchdb/-/express-pouchdb-1.0.6-thali.tgz
npm http 304 http://192.168.1.100:4873/urlsafe-base64
npm http 200 http://192.168.1.100:4873/supertest
npm http 200 http://192.168.1.100:4873/tape-catch
npm http fetch 200 http://192.168.1.100:4873/stacky/-/stacky-1.3.1.tgz
npm http 304 http://192.168.1.100:4873/uuid
npm http 200 http://192.168.1.100:4873/supertest-as-promised
npm http fetch 200 http://192.168.1.100:4873/express-pouchdb/-/express-pouchdb-1.0.6-thali.tgz
npm http 200 http://192.168.1.100:4873/pouchdb
npm http 200 http://192.168.1.100:4873/request-promise
npm http 200 http://192.168.1.100:4873/uuid-validate
npm http 200 http://192.168.1.100:4873/tmp
npm http 200 http://192.168.1.100:4873/tape
npm http fetch GET http://192.168.1.100:4873/pouchdb/-/pouchdb-6.2.0-prerelease-thali.tgz
npm http 200 http://192.168.1.100:4873/sinon
npm http fetch 200 http://192.168.1.100:4873/pouchdb/-/pouchdb-6.2.0-prerelease-thali.tgz
npm http 200 http://192.168.1.100:4873/nock
npm http request GET http://192.168.1.100:4873/bytes
npm http request GET http://192.168.1.100:4873/content-type
npm http request GET http://192.168.1.100:4873/debug
npm http request GET http://192.168.1.100:4873/depd
npm http request GET http://192.168.1.100:4873/http-errors
npm http request GET http://192.168.1.100:4873/iconv-lite
npm http request GET http://192.168.1.100:4873/on-finished
npm http request GET http://192.168.1.100:4873/qs
npm http request GET http://192.168.1.100:4873/raw-body
npm http request GET http://192.168.1.100:4873/type-is
npm http 304 http://192.168.1.100:4873/bytes
npm http 304 http://192.168.1.100:4873/content-type
npm http 304 http://192.168.1.100:4873/debug
npm http 304 http://192.168.1.100:4873/depd
npm http 304 http://192.168.1.100:4873/http-errors
npm http 304 http://192.168.1.100:4873/iconv-lite
npm http 304 http://192.168.1.100:4873/on-finished
npm http 304 http://192.168.1.100:4873/qs
npm http 304 http://192.168.1.100:4873/raw-body
npm http 304 http://192.168.1.100:4873/type-is
npm http request GET http://192.168.1.100:4873/ms
npm http 304 http://192.168.1.100:4873/ms
npm http request GET http://192.168.1.100:4873/statuses
npm http 304 http://192.168.1.100:4873/statuses
npm http request GET http://192.168.1.100:4873/ee-first
npm http 304 http://192.168.1.100:4873/ee-first
npm http request GET http://192.168.1.100:4873/unpipe
npm http 304 http://192.168.1.100:4873/unpipe
npm http request GET http://192.168.1.100:4873/media-typer
npm http request GET http://192.168.1.100:4873/mime-types
npm http 304 http://192.168.1.100:4873/media-typer
npm http 304 http://192.168.1.100:4873/mime-types
npm http request GET http://192.168.1.100:4873/mime-db
npm http 304 http://192.168.1.100:4873/mime-db
npm http request GET http://192.168.1.100:4873/accepts
npm http request GET http://192.168.1.100:4873/array-flatten
npm http request GET http://192.168.1.100:4873/content-disposition
npm http request GET http://192.168.1.100:4873/cookie
npm http request GET http://192.168.1.100:4873/cookie-signature
npm http request GET http://192.168.1.100:4873/escape-html
npm http request GET http://192.168.1.100:4873/etag
npm http request GET http://192.168.1.100:4873/finalhandler
npm http request GET http://192.168.1.100:4873/fresh
npm http request GET http://192.168.1.100:4873/merge-descriptors
npm http request GET http://192.168.1.100:4873/methods
npm http request GET http://192.168.1.100:4873/parseurl
npm http request GET http://192.168.1.100:4873/path-to-regexp
npm http request GET http://192.168.1.100:4873/proxy-addr
npm http request GET http://192.168.1.100:4873/range-parser
npm http request GET http://192.168.1.100:4873/send
npm http request GET http://192.168.1.100:4873/serve-static
npm http request GET http://192.168.1.100:4873/utils-merge
npm http request GET http://192.168.1.100:4873/vary
npm http 304 http://192.168.1.100:4873/accepts
npm http 304 http://192.168.1.100:4873/array-flatten
npm http 304 http://192.168.1.100:4873/content-disposition
npm http 304 http://192.168.1.100:4873/cookie
npm http 304 http://192.168.1.100:4873/cookie-signature
npm http 304 http://192.168.1.100:4873/escape-html
npm http 304 http://192.168.1.100:4873/etag
npm http 304 http://192.168.1.100:4873/finalhandler
npm http 304 http://192.168.1.100:4873/fresh
npm http 304 http://192.168.1.100:4873/merge-descriptors
npm http 304 http://192.168.1.100:4873/parseurl
npm http 304 http://192.168.1.100:4873/methods
npm http 304 http://192.168.1.100:4873/range-parser
npm http 304 http://192.168.1.100:4873/path-to-regexp
npm http 304 http://192.168.1.100:4873/proxy-addr
npm http 304 http://192.168.1.100:4873/send
npm http 304 http://192.168.1.100:4873/serve-static
npm http 304 http://192.168.1.100:4873/utils-merge
npm http 304 http://192.168.1.100:4873/vary
npm http request GET http://192.168.1.100:4873/negotiator
npm http 304 http://192.168.1.100:4873/negotiator
npm http request GET http://192.168.1.100:4873/forwarded
npm http request GET http://192.168.1.100:4873/ipaddr.js
npm http 304 http://192.168.1.100:4873/ipaddr.js
npm http 304 http://192.168.1.100:4873/forwarded
npm http request GET http://192.168.1.100:4873/destroy
npm http request GET http://192.168.1.100:4873/mime
npm http 304 http://192.168.1.100:4873/destroy
npm http 304 http://192.168.1.100:4873/mime
npm http request GET http://192.168.1.100:4873/basic-auth
npm http request GET http://192.168.1.100:4873/cookie-parser
npm http request GET http://192.168.1.100:4873/extend
npm http request GET http://192.168.1.100:4873/compression
npm http request GET http://192.168.1.100:4873/header-case-normalizer
npm http request GET http://192.168.1.100:4873/multiparty
npm http request GET http://192.168.1.100:4873/pouchdb-all-dbs
npm http request GET http://192.168.1.100:4873/pouchdb-auth
npm http request GET http://192.168.1.100:4873/pouchdb-find
npm http request GET http://192.168.1.100:4873/pouchdb-list
npm http request GET http://192.168.1.100:4873/pouchdb-replicator
npm http request GET http://192.168.1.100:4873/pouchdb-update
npm http request GET http://192.168.1.100:4873/pouchdb-vhost
npm http request GET http://192.168.1.100:4873/pouchdb-show
npm http request GET http://192.168.1.100:4873/pouchdb-wrappers
npm http request GET http://192.168.1.100:4873/pouchdb-rewrite
npm http request GET http://192.168.1.100:4873/pouchdb-security
npm http request GET http://192.168.1.100:4873/pouchdb-validation
npm http 304 http://192.168.1.100:4873/extend
npm http 200 http://192.168.1.100:4873/basic-auth
npm http 200 http://192.168.1.100:4873/cookie-parser
npm http 200 http://192.168.1.100:4873/header-case-normalizer
npm http 200 http://192.168.1.100:4873/compression
npm http 200 http://192.168.1.100:4873/pouchdb-all-dbs
npm http 200 http://192.168.1.100:4873/pouchdb-list
npm http 200 http://192.168.1.100:4873/multiparty
npm http 200 http://192.168.1.100:4873/pouchdb-auth
npm http 200 http://192.168.1.100:4873/pouchdb-find
npm http 200 http://192.168.1.100:4873/pouchdb-replicator
npm http 200 http://192.168.1.100:4873/pouchdb-vhost
npm http 200 http://192.168.1.100:4873/pouchdb-update
npm http 200 http://192.168.1.100:4873/pouchdb-show
npm http 200 http://192.168.1.100:4873/pouchdb-wrappers
npm http 200 http://192.168.1.100:4873/pouchdb-rewrite
npm http 200 http://192.168.1.100:4873/pouchdb-security
npm http 200 http://192.168.1.100:4873/pouchdb-validation
npm http request GET http://192.168.1.100:4873/setprototypeof
npm http 304 http://192.168.1.100:4873/setprototypeof
npm http request GET http://192.168.1.100:4873/on-headers
npm http request GET http://192.168.1.100:4873/compressible
npm http 304 http://192.168.1.100:4873/on-headers
npm http 200 http://192.168.1.100:4873/compressible
npm http request GET http://192.168.1.100:4873/readable-stream
npm http request GET http://192.168.1.100:4873/stream-counter
npm http 304 http://192.168.1.100:4873/readable-stream
npm http 200 http://192.168.1.100:4873/stream-counter
npm http request GET http://192.168.1.100:4873/es3ify
npm http request GET http://192.168.1.100:4873/argsarray
npm http request GET http://192.168.1.100:4873/pouchdb-promise
npm http request GET http://192.168.1.100:4873/tiny-queue
npm http 200 http://192.168.1.100:4873/argsarray
npm http 304 http://192.168.1.100:4873/es3ify
npm http 200 http://192.168.1.100:4873/tiny-queue
npm http 200 http://192.168.1.100:4873/pouchdb-promise
npm http request GET http://192.168.1.100:4873/esprima-fb
npm http request GET http://192.168.1.100:4873/jstransform
npm http 304 http://192.168.1.100:4873/esprima-fb
npm http 304 http://192.168.1.100:4873/jstransform
npm http request GET http://192.168.1.100:4873/base62
npm http request GET http://192.168.1.100:4873/source-map
npm http 304 http://192.168.1.100:4873/base62
npm http 304 http://192.168.1.100:4873/source-map
npm http request GET http://192.168.1.100:4873/couchdb-calculate-session-id
npm http request GET http://192.168.1.100:4873/base64url
npm http request GET http://192.168.1.100:4873/crypto-lite
npm http request GET http://192.168.1.100:4873/pouchdb-bulkdocs-wrapper
npm http request GET http://192.168.1.100:4873/pouchdb-plugin-error
npm http request GET http://192.168.1.100:4873/pouchdb-req-http-query
npm http request GET http://192.168.1.100:4873/promise-nodify
npm http request GET http://192.168.1.100:4873/pouchdb-system-db
npm http request GET http://192.168.1.100:4873/secure-random
npm http 200 http://192.168.1.100:4873/base64url
npm http 200 http://192.168.1.100:4873/couchdb-calculate-session-id
npm http 200 http://192.168.1.100:4873/pouchdb-bulkdocs-wrapper
npm http 200 http://192.168.1.100:4873/crypto-lite
npm http 200 http://192.168.1.100:4873/pouchdb-plugin-error
npm http 200 http://192.168.1.100:4873/promise-nodify
npm http 200 http://192.168.1.100:4873/pouchdb-system-db
npm http 200 http://192.168.1.100:4873/secure-random
npm http 200 http://192.168.1.100:4873/pouchdb-req-http-query
npm http request GET http://192.168.1.100:4873/concat-stream
npm http request GET http://192.168.1.100:4873/meow
npm http 304 http://192.168.1.100:4873/concat-stream
npm http 200 http://192.168.1.100:4873/meow
npm http request GET http://192.168.1.100:4873/typedarray
npm http 304 http://192.168.1.100:4873/typedarray
npm http request GET http://192.168.1.100:4873/camelcase-keys
npm http request GET http://192.168.1.100:4873/indent-string
npm http 200 http://192.168.1.100:4873/camelcase-keys
npm http 200 http://192.168.1.100:4873/indent-string
npm http request GET http://192.168.1.100:4873/camelcase
npm http request GET http://192.168.1.100:4873/map-obj
npm http 200 http://192.168.1.100:4873/map-obj
npm http 200 http://192.168.1.100:4873/camelcase
npm http request GET http://192.168.1.100:4873/repeating
npm http request GET http://192.168.1.100:4873/get-stdin
npm http 200 http://192.168.1.100:4873/get-stdin
npm http 304 http://192.168.1.100:4873/repeating
npm http request GET http://192.168.1.100:4873/is-finite
npm http 304 http://192.168.1.100:4873/is-finite
npm http request GET http://192.168.1.100:4873/number-is-nan
npm http 304 http://192.168.1.100:4873/number-is-nan
npm http request GET http://192.168.1.100:4873/aproba
npm http 200 http://192.168.1.100:4873/aproba
npm http request GET http://192.168.1.100:4873/level-write-stream
npm http request GET http://192.168.1.100:4873/fruitdown
npm http request GET http://192.168.1.100:4873/localstorage-down
npm http request GET http://192.168.1.100:4873/pouchdb-collate
npm http request GET http://192.168.1.100:4873/pouchdb-collections
npm http request GET http://192.168.1.100:4873/spark-md5
npm http request GET http://192.168.1.100:4873/through2
npm http request GET http://192.168.1.100:4873/double-ended-queue
npm http request GET http://192.168.1.100:4873/vuvuzela
npm http request GET http://192.168.1.100:4873/es6-promise-pool
npm http request GET http://192.168.1.100:4873/levelup
npm http request GET http://192.168.1.100:4873/memdown
npm http request GET http://192.168.1.100:4873/sublevel-pouchdb
npm http request GET http://192.168.1.100:4873/scope-eval
npm http 200 http://192.168.1.100:4873/level-write-stream
npm http 200 http://192.168.1.100:4873/fruitdown
npm http 200 http://192.168.1.100:4873/localstorage-down
npm http 200 http://192.168.1.100:4873/pouchdb-collections
npm http 200 http://192.168.1.100:4873/pouchdb-collate
npm http 304 http://192.168.1.100:4873/through2
npm http 200 http://192.168.1.100:4873/spark-md5
npm http 200 http://192.168.1.100:4873/double-ended-queue
npm http 200 http://192.168.1.100:4873/vuvuzela
npm http 200 http://192.168.1.100:4873/es6-promise-pool
npm http 200 http://192.168.1.100:4873/sublevel-pouchdb
npm http 200 http://192.168.1.100:4873/memdown
npm http 200 http://192.168.1.100:4873/levelup
npm http 200 http://192.168.1.100:4873/scope-eval
npm http request GET http://192.168.1.100:4873/d64
npm http request GET http://192.168.1.100:4873/abstract-leveldown
npm http 200 http://192.168.1.100:4873/d64
npm http 200 http://192.168.1.100:4873/abstract-leveldown
npm http request GET http://192.168.1.100:4873/xtend
npm http 304 http://192.168.1.100:4873/xtend
npm http request GET http://192.168.1.100:4873/end-stream
npm http 200 http://192.168.1.100:4873/end-stream
npm http request GET http://192.168.1.100:4873/write-stream
npm http 200 http://192.168.1.100:4873/write-stream
npm http request GET http://192.168.1.100:4873/deferred-leveldown
npm http request GET http://192.168.1.100:4873/level-codec
npm http request GET http://192.168.1.100:4873/level-errors
npm http request GET http://192.168.1.100:4873/level-iterator-stream
npm http request GET http://192.168.1.100:4873/prr
npm http request GET http://192.168.1.100:4873/semver
npm http 200 http://192.168.1.100:4873/level-iterator-stream
npm http 200 http://192.168.1.100:4873/level-errors
npm http 200 http://192.168.1.100:4873/level-codec
npm http 200 http://192.168.1.100:4873/prr
npm http 200 http://192.168.1.100:4873/deferred-leveldown
npm http 200 http://192.168.1.100:4873/semver
npm http request GET http://192.168.1.100:4873/errno
npm http 200 http://192.168.1.100:4873/errno
npm http request GET http://192.168.1.100:4873/humble-localstorage
npm http 200 http://192.168.1.100:4873/humble-localstorage
npm http request GET http://192.168.1.100:4873/localstorage-memory
npm http request GET http://192.168.1.100:4873/has-localstorage
npm http 200 http://192.168.1.100:4873/localstorage-memory
npm http 200 http://192.168.1.100:4873/has-localstorage
npm http request GET http://192.168.1.100:4873/ltgt
npm http request GET http://192.168.1.100:4873/functional-red-black-tree
npm http 200 http://192.168.1.100:4873/functional-red-black-tree
npm http 200 http://192.168.1.100:4873/ltgt
npm http request GET http://192.168.1.100:4873/aws-sign2
npm http request GET http://192.168.1.100:4873/aws4
npm http request GET http://192.168.1.100:4873/bl
npm http request GET http://192.168.1.100:4873/caseless
npm http request GET http://192.168.1.100:4873/combined-stream
npm http request GET http://192.168.1.100:4873/form-data
npm http request GET http://192.168.1.100:4873/har-validator
npm http request GET http://192.168.1.100:4873/hawk
npm http request GET http://192.168.1.100:4873/http-signature
npm http request GET http://192.168.1.100:4873/is-typedarray
npm http request GET http://192.168.1.100:4873/isstream
npm http request GET http://192.168.1.100:4873/json-stringify-safe
npm http request GET http://192.168.1.100:4873/oauth-sign
npm http request GET http://192.168.1.100:4873/stringstream
npm http request GET http://192.168.1.100:4873/tough-cookie
npm http request GET http://192.168.1.100:4873/tunnel-agent
npm http 304 http://192.168.1.100:4873/aws-sign2
npm http 304 http://192.168.1.100:4873/aws4
npm http 304 http://192.168.1.100:4873/bl
npm http 304 http://192.168.1.100:4873/caseless
npm http 304 http://192.168.1.100:4873/combined-stream
npm http 304 http://192.168.1.100:4873/form-data
npm http 304 http://192.168.1.100:4873/har-validator
npm http 304 http://192.168.1.100:4873/hawk
npm http 304 http://192.168.1.100:4873/http-signature
npm http 304 http://192.168.1.100:4873/is-typedarray
npm http 304 http://192.168.1.100:4873/isstream
npm http 304 http://192.168.1.100:4873/json-stringify-safe
npm http 304 http://192.168.1.100:4873/oauth-sign
npm http 304 http://192.168.1.100:4873/stringstream
npm http 304 http://192.168.1.100:4873/tough-cookie
npm WARN deprecated tough-cookie@2.2.2: ReDoS vulnerability parsing Set-Cookie https://nodesecurity.io/advisories/130
npm http 304 http://192.168.1.100:4873/tunnel-agent
npm http request GET http://192.168.1.100:4873/isarray
npm http request GET http://192.168.1.100:4873/process-nextick-args
npm http request GET http://192.168.1.100:4873/util-deprecate
npm http 304 http://192.168.1.100:4873/process-nextick-args
npm http 304 http://192.168.1.100:4873/isarray
npm http 304 http://192.168.1.100:4873/util-deprecate
npm http request GET http://192.168.1.100:4873/delayed-stream
npm http 304 http://192.168.1.100:4873/delayed-stream
npm http request GET http://192.168.1.100:4873/async
npm http 304 http://192.168.1.100:4873/async
npm http request GET http://192.168.1.100:4873/lodash
npm http 304 http://192.168.1.100:4873/lodash
npm http request GET http://192.168.1.100:4873/chalk
npm http request GET http://192.168.1.100:4873/is-my-json-valid
npm http request GET http://192.168.1.100:4873/pinkie-promise
npm http 304 http://192.168.1.100:4873/chalk
npm http 304 http://192.168.1.100:4873/pinkie-promise
npm http 304 http://192.168.1.100:4873/is-my-json-valid
npm http request GET http://192.168.1.100:4873/ansi-styles
npm http request GET http://192.168.1.100:4873/escape-string-regexp
npm http request GET http://192.168.1.100:4873/has-ansi
npm http request GET http://192.168.1.100:4873/strip-ansi
npm http request GET http://192.168.1.100:4873/supports-color
npm http 304 http://192.168.1.100:4873/ansi-styles
npm http 304 http://192.168.1.100:4873/has-ansi
npm http 304 http://192.168.1.100:4873/escape-string-regexp
npm http 304 http://192.168.1.100:4873/strip-ansi
npm http 304 http://192.168.1.100:4873/supports-color
npm http request GET http://192.168.1.100:4873/ansi-regex
npm http 304 http://192.168.1.100:4873/ansi-regex
npm http request GET http://192.168.1.100:4873/generate-function
npm http request GET http://192.168.1.100:4873/generate-object-property
npm http request GET http://192.168.1.100:4873/jsonpointer
npm http 304 http://192.168.1.100:4873/generate-function
npm http 304 http://192.168.1.100:4873/jsonpointer
npm http 304 http://192.168.1.100:4873/generate-object-property
npm http request GET http://192.168.1.100:4873/pinkie
npm http 304 http://192.168.1.100:4873/pinkie
npm http request GET http://192.168.1.100:4873/hoek
npm http request GET http://192.168.1.100:4873/boom
npm http request GET http://192.168.1.100:4873/cryptiles
npm http request GET http://192.168.1.100:4873/sntp
npm http 304 http://192.168.1.100:4873/hoek
npm http 304 http://192.168.1.100:4873/boom
npm http 304 http://192.168.1.100:4873/cryptiles
npm http 304 http://192.168.1.100:4873/sntp
npm http request GET http://192.168.1.100:4873/assert-plus
npm http request GET http://192.168.1.100:4873/jsprim
npm http request GET http://192.168.1.100:4873/sshpk
npm http 304 http://192.168.1.100:4873/assert-plus
npm http 304 http://192.168.1.100:4873/jsprim
npm http 304 http://192.168.1.100:4873/sshpk
npm http request GET http://192.168.1.100:4873/extsprintf
npm http request GET http://192.168.1.100:4873/json-schema
npm http request GET http://192.168.1.100:4873/verror
npm http 304 http://192.168.1.100:4873/extsprintf
npm http 304 http://192.168.1.100:4873/json-schema
npm http 304 http://192.168.1.100:4873/verror
npm http request GET http://192.168.1.100:4873/asn1
npm http request GET http://192.168.1.100:4873/dashdash
npm http request GET http://192.168.1.100:4873/getpass
npm http 304 http://192.168.1.100:4873/asn1
npm http 304 http://192.168.1.100:4873/dashdash
npm http 304 http://192.168.1.100:4873/getpass
npm http request GET http://192.168.1.100:4873/pull-stream
npm http 200 http://192.168.1.100:4873/pull-stream
npm http request GET http://192.168.1.100:4873/pull-core
npm http 200 http://192.168.1.100:4873/pull-core
npm http request GET http://192.168.1.100:4873/lie
npm http request GET http://192.168.1.100:4873/bluebird
npm http 304 http://192.168.1.100:4873/lie
npm http 304 http://192.168.1.100:4873/bluebird
npm http request GET http://192.168.1.100:4873/xmlhttprequest-cookie
npm http 200 http://192.168.1.100:4873/xmlhttprequest-cookie
npm http request GET http://192.168.1.100:4873/xmlhttprequest
npm http 200 http://192.168.1.100:4873/xmlhttprequest
npm http request GET http://192.168.1.100:4873/pouchdb-changeslike-wrapper
npm http 200 http://192.168.1.100:4873/pouchdb-changeslike-wrapper
npm http request GET http://192.168.1.100:4873/couchdb-objects
npm http request GET http://192.168.1.100:4873/couchdb-eval
npm http request GET http://192.168.1.100:4873/random-uuid-v4
npm http 200 http://192.168.1.100:4873/random-uuid-v4
npm http 200 http://192.168.1.100:4873/couchdb-eval
npm http 200 http://192.168.1.100:4873/couchdb-objects
npm http request GET http://192.168.1.100:4873/is-empty
npm http 200 http://192.168.1.100:4873/is-empty
npm http request GET http://192.168.1.100:4873/is-array
npm http request GET http://192.168.1.100:4873/pouchdb-extend
npm http request GET http://192.168.1.100:4873/pouchdb-upsert
npm http 200 http://192.168.1.100:4873/is-array
npm http 200 http://192.168.1.100:4873/pouchdb-extend
npm http 200 http://192.168.1.100:4873/pouchdb-upsert
npm http request GET http://192.168.1.100:4873/unreachable-branch-transform
npm http 304 http://192.168.1.100:4873/unreachable-branch-transform
npm http request GET http://192.168.1.100:4873/recast
npm http 304 http://192.168.1.100:4873/recast
npm http request GET http://192.168.1.100:4873/ast-types
npm http 304 http://192.168.1.100:4873/ast-types
npm http request GET http://192.168.1.100:4873/couchdb-render
npm http request GET http://192.168.1.100:4873/extend
npm http 304 http://192.168.1.100:4873/extend
npm http 200 http://192.168.1.100:4873/couchdb-render
npm http request GET http://192.168.1.100:4873/couchdb-resp-completer
npm http 200 http://192.168.1.100:4873/couchdb-resp-completer
npm http request GET http://192.168.1.100:4873/pouchdb-promise
npm http request GET http://192.168.1.100:4873/equals
npm http 304 http://192.168.1.100:4873/pouchdb-promise
npm http 200 http://192.168.1.100:4873/equals
npm http request GET http://192.168.1.100:4873/jkroso-type
npm http 200 http://192.168.1.100:4873/jkroso-type
npm http request GET http://192.168.1.100:4873/pouchdb-route
npm http 200 http://192.168.1.100:4873/pouchdb-route
npm http request GET http://192.168.1.100:4873/get-folder-size
npm http 200 http://192.168.1.100:4873/get-folder-size
npm http request GET http://192.168.1.100:4873/minimist
npm http 304 http://192.168.1.100:4873/minimist
npm http request GET http://192.168.1.100:4873/bindings
npm http request GET http://192.168.1.100:4873/fast-future
npm http 200 http://192.168.1.100:4873/bindings
npm http 200 http://192.168.1.100:4873/fast-future
npm http fetch GET http://192.168.1.100:4873/fast-future/-/fast-future-1.0.2.tgz
npm http fetch 200 http://192.168.1.100:4873/fast-future/-/fast-future-1.0.2.tgz
npm http request GET http://192.168.1.100:4873/duplexify
npm http request GET http://192.168.1.100:4873/varint
npm http request GET http://192.168.1.100:4873/readable-stream
npm http 304 http://192.168.1.100:4873/duplexify
npm http 304 http://192.168.1.100:4873/readable-stream
npm http 304 http://192.168.1.100:4873/varint
npm http request GET http://192.168.1.100:4873/end-of-stream
npm http request GET http://192.168.1.100:4873/stream-shift
npm http 304 http://192.168.1.100:4873/end-of-stream
npm http 304 http://192.168.1.100:4873/stream-shift
npm http request GET http://192.168.1.100:4873/once
npm http 304 http://192.168.1.100:4873/once
npm http request GET http://192.168.1.100:4873/buffer-shims
npm http 304 http://192.168.1.100:4873/buffer-shims
npm http request GET http://192.168.1.100:4873/debug
npm http request GET http://192.168.1.100:4873/propagate
npm http request GET http://192.168.1.100:4873/chai
npm http request GET http://192.168.1.100:4873/deep-equal
npm WARN deprecated lodash@2.4.1: lodash@<3.0.0 is no longer maintained. Upgrade to lodash@^4.0.0.
npm http 304 http://192.168.1.100:4873/debug
npm http 200 http://192.168.1.100:4873/deep-equal
npm http 200 http://192.168.1.100:4873/propagate
npm http 200 http://192.168.1.100:4873/chai
npm http request GET http://192.168.1.100:4873/assertion-error
npm http request GET http://192.168.1.100:4873/deep-eql
npm http request GET http://192.168.1.100:4873/type-detect
npm http 200 http://192.168.1.100:4873/type-detect
npm http 200 http://192.168.1.100:4873/assertion-error
npm http 200 http://192.168.1.100:4873/deep-eql
npm http request GET http://192.168.1.100:4873/ms
npm http 304 http://192.168.1.100:4873/ms
npm http request GET http://192.168.1.100:4873/ip
npm http 304 http://192.168.1.100:4873/ip
npm http request GET http://192.168.1.100:4873/buffer-from
npm http request GET http://192.168.1.100:4873/clone-buffer
npm http request GET http://192.168.1.100:4873/double-ended-queue
npm http request GET http://192.168.1.100:4873/inherits
npm http request GET http://192.168.1.100:4873/level-codec
npm http request GET http://192.168.1.100:4873/levelup
npm http request GET http://192.168.1.100:4873/leveldown
npm http request GET http://192.168.1.100:4873/request
npm http request GET http://192.168.1.100:4873/spark-md5
npm http fetch GET http://192.168.1.100:4873/debug/-/debug-2.4.1.tgz
npm http 200 http://192.168.1.100:4873/clone-buffer
npm http 200 http://192.168.1.100:4873/buffer-from
npm http fetch GET http://192.168.1.100:4873/clone-buffer/-/clone-buffer-1.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/buffer-from/-/buffer-from-0.1.1.tgz
npm http 304 http://192.168.1.100:4873/double-ended-queue
npm http 304 http://192.168.1.100:4873/inherits
npm http fetch GET http://192.168.1.100:4873/double-ended-queue/-/double-ended-queue-2.1.0-0.tgz
npm http 304 http://192.168.1.100:4873/level-codec
npm http fetch 200 http://192.168.1.100:4873/debug/-/debug-2.4.1.tgz
npm http fetch GET http://192.168.1.100:4873/level-codec/-/level-codec-6.2.0.tgz
npm http fetch 200 http://192.168.1.100:4873/clone-buffer/-/clone-buffer-1.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/buffer-from/-/buffer-from-0.1.1.tgz
npm http fetch 200 http://192.168.1.100:4873/double-ended-queue/-/double-ended-queue-2.1.0-0.tgz
npm http fetch 200 http://192.168.1.100:4873/level-codec/-/level-codec-6.2.0.tgz
npm http 304 http://192.168.1.100:4873/levelup
npm http fetch GET http://192.168.1.100:4873/levelup/-/levelup-1.3.3.tgz
npm http fetch 200 http://192.168.1.100:4873/levelup/-/levelup-1.3.3.tgz
npm http 200 http://192.168.1.100:4873/leveldown
npm http 304 http://192.168.1.100:4873/spark-md5
npm http 304 http://192.168.1.100:4873/request
npm http fetch GET http://192.168.1.100:4873/spark-md5/-/spark-md5-3.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/leveldown/-/leveldown-1.5.0.tgz
npm http fetch 200 http://192.168.1.100:4873/spark-md5/-/spark-md5-3.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/leveldown/-/leveldown-1.5.0.tgz
npm http request GET http://192.168.1.100:4873/is-array-buffer-x
npm http 200 http://192.168.1.100:4873/is-array-buffer-x
npm http fetch GET http://192.168.1.100:4873/is-array-buffer-x/-/is-array-buffer-x-1.0.13.tgz
npm http fetch 200 http://192.168.1.100:4873/is-array-buffer-x/-/is-array-buffer-x-1.0.13.tgz
npm http request GET http://192.168.1.100:4873/is-object-like-x
npm http request GET http://192.168.1.100:4873/to-string-tag-x
npm http request GET http://192.168.1.100:4873/has-to-string-tag-x
npm http 200 http://192.168.1.100:4873/to-string-tag-x
npm http 200 http://192.168.1.100:4873/is-object-like-x
npm http 200 http://192.168.1.100:4873/has-to-string-tag-x
npm http fetch GET http://192.168.1.100:4873/to-string-tag-x/-/to-string-tag-x-1.0.11.tgz
npm http fetch GET http://192.168.1.100:4873/is-object-like-x/-/is-object-like-x-1.0.11.tgz
npm http fetch GET http://192.168.1.100:4873/has-to-string-tag-x/-/has-to-string-tag-x-1.0.10.tgz
npm http fetch 200 http://192.168.1.100:4873/to-string-tag-x/-/to-string-tag-x-1.0.11.tgz
npm http fetch 200 http://192.168.1.100:4873/is-object-like-x/-/is-object-like-x-1.0.11.tgz
npm http fetch 200 http://192.168.1.100:4873/has-to-string-tag-x/-/has-to-string-tag-x-1.0.10.tgz
npm http request GET http://192.168.1.100:4873/has-symbol-support-x
npm http 200 http://192.168.1.100:4873/has-symbol-support-x
npm http fetch GET http://192.168.1.100:4873/has-symbol-support-x/-/has-symbol-support-x-1.0.11.tgz
npm http fetch 200 http://192.168.1.100:4873/has-symbol-support-x/-/has-symbol-support-x-1.0.11.tgz
npm http request GET http://192.168.1.100:4873/is-function-x
npm http request GET http://192.168.1.100:4873/is-primitive
npm http 200 http://192.168.1.100:4873/is-primitive
npm http 200 http://192.168.1.100:4873/is-function-x
npm http fetch GET http://192.168.1.100:4873/is-primitive/-/is-primitive-2.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/is-function-x/-/is-function-x-1.0.6.tgz
npm http fetch 200 http://192.168.1.100:4873/is-primitive/-/is-primitive-2.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/is-function-x/-/is-function-x-1.0.6.tgz
npm http request GET http://192.168.1.100:4873/lodash.isnull
npm http request GET http://192.168.1.100:4873/validate.io-undefined
npm http 200 http://192.168.1.100:4873/validate.io-undefined
npm http 200 http://192.168.1.100:4873/lodash.isnull
npm http fetch GET http://192.168.1.100:4873/validate.io-undefined/-/validate.io-undefined-1.0.3.tgz
npm http fetch GET http://192.168.1.100:4873/lodash.isnull/-/lodash.isnull-3.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/validate.io-undefined/-/validate.io-undefined-1.0.3.tgz
npm http fetch 200 http://192.168.1.100:4873/lodash.isnull/-/lodash.isnull-3.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/ms/-/ms-0.7.2.tgz
npm http fetch 200 http://192.168.1.100:4873/ms/-/ms-0.7.2.tgz
npm http request GET http://192.168.1.100:4873/abstract-leveldown
npm http request GET http://192.168.1.100:4873/prebuild
npm http request GET http://192.168.1.100:4873/nan
npm http 304 http://192.168.1.100:4873/abstract-leveldown
npm http 200 http://192.168.1.100:4873/nan
npm http 200 http://192.168.1.100:4873/prebuild
npm http fetch GET http://192.168.1.100:4873/prebuild/-/prebuild-4.5.0.tgz
npm http fetch 200 http://192.168.1.100:4873/prebuild/-/prebuild-4.5.0.tgz
npm http request GET http://192.168.1.100:4873/execspawn
npm http request GET http://192.168.1.100:4873/github-from-package
npm http request GET http://192.168.1.100:4873/ghreleases
npm http request GET http://192.168.1.100:4873/node-ninja
npm http request GET http://192.168.1.100:4873/npmlog
npm http request GET http://192.168.1.100:4873/os-homedir
npm http request GET http://192.168.1.100:4873/node-gyp
npm http request GET http://192.168.1.100:4873/expand-template
npm http request GET http://192.168.1.100:4873/noop-logger
npm http request GET http://192.168.1.100:4873/pump
npm http request GET http://192.168.1.100:4873/rc
npm http request GET http://192.168.1.100:4873/async
npm http request GET http://192.168.1.100:4873/simple-get
npm http request GET http://192.168.1.100:4873/tar-stream
npm http request GET http://192.168.1.100:4873/tar-fs
npm http 200 http://192.168.1.100:4873/execspawn
npm http fetch GET http://192.168.1.100:4873/execspawn/-/execspawn-1.0.1.tgz
npm http 200 http://192.168.1.100:4873/github-from-package
npm http 200 http://192.168.1.100:4873/ghreleases
npm http 200 http://192.168.1.100:4873/node-ninja
npm http 200 http://192.168.1.100:4873/npmlog
npm http 304 http://192.168.1.100:4873/os-homedir
npm http 200 http://192.168.1.100:4873/expand-template
npm http 200 http://192.168.1.100:4873/noop-logger
npm http 200 http://192.168.1.100:4873/pump
npm http 200 http://192.168.1.100:4873/node-gyp
npm http fetch 200 http://192.168.1.100:4873/execspawn/-/execspawn-1.0.1.tgz
npm http 200 http://192.168.1.100:4873/rc
npm http 304 http://192.168.1.100:4873/async
npm http fetch GET http://192.168.1.100:4873/pump/-/pump-1.0.2.tgz
npm http fetch GET http://192.168.1.100:4873/expand-template/-/expand-template-1.0.3.tgz
npm http 200 http://192.168.1.100:4873/simple-get
npm http 200 http://192.168.1.100:4873/tar-fs
npm http 200 http://192.168.1.100:4873/tar-stream
npm http fetch 200 http://192.168.1.100:4873/pump/-/pump-1.0.2.tgz
npm http fetch 200 http://192.168.1.100:4873/expand-template/-/expand-template-1.0.3.tgz
npm http fetch GET http://192.168.1.100:4873/tar-fs/-/tar-fs-1.15.0.tgz
npm http fetch 200 http://192.168.1.100:4873/tar-fs/-/tar-fs-1.15.0.tgz
npm http request GET http://192.168.1.100:4873/util-extend
npm http 200 http://192.168.1.100:4873/util-extend
npm http fetch GET http://192.168.1.100:4873/util-extend/-/util-extend-1.0.3.tgz
npm http fetch 200 http://192.168.1.100:4873/util-extend/-/util-extend-1.0.3.tgz
npm http request GET http://192.168.1.100:4873/after
npm http request GET http://192.168.1.100:4873/ghutils
npm http request GET http://192.168.1.100:4873/simple-mime
npm http request GET http://192.168.1.100:4873/url-template
npm http request GET http://192.168.1.100:4873/ghrepos
npm http 304 http://192.168.1.100:4873/after
npm http 200 http://192.168.1.100:4873/ghutils
npm http 200 http://192.168.1.100:4873/simple-mime
npm http fetch GET http://192.168.1.100:4873/after/-/after-0.8.2.tgz
npm http 200 http://192.168.1.100:4873/url-template
npm http 200 http://192.168.1.100:4873/ghrepos
npm http fetch 200 http://192.168.1.100:4873/after/-/after-0.8.2.tgz
npm http fetch GET http://192.168.1.100:4873/ghutils/-/ghutils-3.2.1.tgz
npm http fetch 200 http://192.168.1.100:4873/ghutils/-/ghutils-3.2.1.tgz
npm http request GET http://192.168.1.100:4873/jsonist
npm http 200 http://192.168.1.100:4873/jsonist
npm http fetch GET http://192.168.1.100:4873/jsonist/-/jsonist-1.3.0.tgz
npm http fetch 200 http://192.168.1.100:4873/jsonist/-/jsonist-1.3.0.tgz
npm http request GET http://192.168.1.100:4873/bl
npm http request GET http://192.168.1.100:4873/hyperquest
npm http 304 http://192.168.1.100:4873/bl
npm http 200 http://192.168.1.100:4873/hyperquest
npm http request GET http://192.168.1.100:4873/duplexer2
npm http 304 http://192.168.1.100:4873/duplexer2
npm http request GET http://192.168.1.100:4873/fstream
npm http request GET http://192.168.1.100:4873/osenv
npm http request GET http://192.168.1.100:4873/nopt
npm http request GET http://192.168.1.100:4873/path-array
npm http request GET http://192.168.1.100:4873/tar
npm http request GET http://192.168.1.100:4873/which
npm http 304 http://192.168.1.100:4873/fstream
npm http 304 http://192.168.1.100:4873/tar
npm http 200 http://192.168.1.100:4873/nopt
npm http 200 http://192.168.1.100:4873/osenv
npm http 200 http://192.168.1.100:4873/path-array
npm http fetch GET http://192.168.1.100:4873/osenv/-/osenv-0.1.4.tgz
npm http 200 http://192.168.1.100:4873/which
npm http fetch 200 http://192.168.1.100:4873/osenv/-/osenv-0.1.4.tgz
npm http fetch GET http://192.168.1.100:4873/which/-/which-1.2.12.tgz
npm http fetch 200 http://192.168.1.100:4873/which/-/which-1.2.12.tgz
npm http request GET http://192.168.1.100:4873/abbrev
npm http 304 http://192.168.1.100:4873/abbrev
npm http request GET http://192.168.1.100:4873/are-we-there-yet
npm http request GET http://192.168.1.100:4873/ansi
npm http request GET http://192.168.1.100:4873/gauge
npm http 200 http://192.168.1.100:4873/are-we-there-yet
npm http 304 http://192.168.1.100:4873/ansi
npm http 200 http://192.168.1.100:4873/gauge
npm http request GET http://192.168.1.100:4873/delegates
npm http 200 http://192.168.1.100:4873/delegates
npm http request GET http://192.168.1.100:4873/has-unicode
npm http request GET http://192.168.1.100:4873/lodash.padend
npm http request GET http://192.168.1.100:4873/lodash.pad
npm http request GET http://192.168.1.100:4873/lodash.padstart
npm http 200 http://192.168.1.100:4873/has-unicode
npm http 200 http://192.168.1.100:4873/lodash.padend
npm http 200 http://192.168.1.100:4873/lodash.pad
npm http 200 http://192.168.1.100:4873/lodash.padstart
npm http fetch GET http://192.168.1.100:4873/lodash.pad/-/lodash.pad-4.5.1.tgz
npm http fetch GET http://192.168.1.100:4873/lodash.padend/-/lodash.padend-4.6.1.tgz
npm http fetch GET http://192.168.1.100:4873/lodash.padstart/-/lodash.padstart-4.6.1.tgz
npm http fetch 200 http://192.168.1.100:4873/lodash.pad/-/lodash.pad-4.5.1.tgz
npm http fetch 200 http://192.168.1.100:4873/lodash.padend/-/lodash.padend-4.6.1.tgz
npm http fetch 200 http://192.168.1.100:4873/lodash.padstart/-/lodash.padstart-4.6.1.tgz
npm http request GET http://192.168.1.100:4873/os-tmpdir
npm http 304 http://192.168.1.100:4873/os-tmpdir
npm http request GET http://192.168.1.100:4873/array-index
npm http 200 http://192.168.1.100:4873/array-index
npm http request GET http://192.168.1.100:4873/es6-symbol
npm http 304 http://192.168.1.100:4873/es6-symbol
npm http request GET http://192.168.1.100:4873/d
npm http request GET http://192.168.1.100:4873/es5-ext
npm http 304 http://192.168.1.100:4873/d
npm http 304 http://192.168.1.100:4873/es5-ext
npm http request GET http://192.168.1.100:4873/es6-iterator
npm http 304 http://192.168.1.100:4873/es6-iterator
npm http request GET http://192.168.1.100:4873/qs
npm http request GET http://192.168.1.100:4873/http-signature
npm http request GET http://192.168.1.100:4873/aws-sign2
npm http request GET http://192.168.1.100:4873/har-validator
npm http 304 http://192.168.1.100:4873/qs
npm http 304 http://192.168.1.100:4873/aws-sign2
npm http 304 http://192.168.1.100:4873/http-signature
npm http 304 http://192.168.1.100:4873/har-validator
npm http request GET http://192.168.1.100:4873/bluebird
npm http 304 http://192.168.1.100:4873/bluebird
npm http request GET http://192.168.1.100:4873/ctype
npm http request GET http://192.168.1.100:4873/asn1
npm http request GET http://192.168.1.100:4873/assert-plus
npm http 304 http://192.168.1.100:4873/ctype
npm http 304 http://192.168.1.100:4873/asn1
npm http 304 http://192.168.1.100:4873/assert-plus
npm http request GET http://192.168.1.100:4873/block-stream
npm http 304 http://192.168.1.100:4873/block-stream
npm http request GET http://192.168.1.100:4873/isexe
npm http 200 http://192.168.1.100:4873/isexe
npm http request GET http://192.168.1.100:4873/strip-json-comments
npm http request GET http://192.168.1.100:4873/deep-extend
npm http request GET http://192.168.1.100:4873/ini
npm http 304 http://192.168.1.100:4873/ini
npm http 304 http://192.168.1.100:4873/strip-json-comments
npm http 200 http://192.168.1.100:4873/deep-extend
npm http request GET http://192.168.1.100:4873/unzip-response
npm http 200 http://192.168.1.100:4873/unzip-response
npm http fetch GET http://192.168.1.100:4873/unzip-response/-/unzip-response-1.0.2.tgz
npm http fetch 200 http://192.168.1.100:4873/unzip-response/-/unzip-response-1.0.2.tgz
npm http request GET http://192.168.1.100:4873/extend
npm http request GET http://192.168.1.100:4873/form-data
npm http request GET http://192.168.1.100:4873/uuid
npm http request GET http://192.168.1.100:4873/tough-cookie
npm http 304 http://192.168.1.100:4873/form-data
npm http 304 http://192.168.1.100:4873/uuid
npm http 304 http://192.168.1.100:4873/tough-cookie
npm http 304 http://192.168.1.100:4873/extend
npm http fetch GET http://192.168.1.100:4873/uuid/-/uuid-3.0.1.tgz
npm http fetch 200 http://192.168.1.100:4873/uuid/-/uuid-3.0.1.tgz
npm http request GET http://192.168.1.100:4873/asynckit
npm http 304 http://192.168.1.100:4873/asynckit
npm http request GET http://192.168.1.100:4873/punycode
npm http 304 http://192.168.1.100:4873/punycode
npm http request GET http://192.168.1.100:4873/module-not-found-error
npm http request GET http://192.168.1.100:4873/fill-keys
npm http 200 http://192.168.1.100:4873/fill-keys
npm http 200 http://192.168.1.100:4873/module-not-found-error
npm http request GET http://192.168.1.100:4873/is-object
npm http 200 http://192.168.1.100:4873/is-object
npm http request GET http://192.168.1.100:4873/array-uniq
npm http 304 http://192.168.1.100:4873/array-uniq
npm http request GET http://192.168.1.100:4873/lodash
npm http 304 http://192.168.1.100:4873/lodash
npm http request GET http://192.168.1.100:4873/jsonschema
npm http 304 http://192.168.1.100:4873/jsonschema
npm http request GET http://192.168.1.100:4873/lolex
npm http request GET http://192.168.1.100:4873/formatio
npm http request GET http://192.168.1.100:4873/util
npm http request GET http://192.168.1.100:4873/samsam
npm http 200 http://192.168.1.100:4873/lolex
npm http 304 http://192.168.1.100:4873/util
npm http 200 http://192.168.1.100:4873/formatio
npm http 200 http://192.168.1.100:4873/samsam
npm http request GET http://192.168.1.100:4873/engine.io-client
npm http request GET http://192.168.1.100:4873/component-bind
npm http request GET http://192.168.1.100:4873/object-component
npm http request GET http://192.168.1.100:4873/component-emitter
npm http request GET http://192.168.1.100:4873/socket.io-parser
npm http request GET http://192.168.1.100:4873/has-binary
npm http request GET http://192.168.1.100:4873/indexof
npm http request GET http://192.168.1.100:4873/parseuri
npm http request GET http://192.168.1.100:4873/to-array
npm http request GET http://192.168.1.100:4873/backo2
npm http 304 http://192.168.1.100:4873/socket.io-parser
npm http 304 http://192.168.1.100:4873/component-bind
npm http 304 http://192.168.1.100:4873/engine.io-client
npm http 304 http://192.168.1.100:4873/component-emitter
npm http 304 http://192.168.1.100:4873/object-component
npm http 304 http://192.168.1.100:4873/has-binary
npm http 304 http://192.168.1.100:4873/indexof
npm http 304 http://192.168.1.100:4873/parseuri
npm http 304 http://192.168.1.100:4873/to-array
npm http 304 http://192.168.1.100:4873/backo2
npm http request GET http://192.168.1.100:4873/has-cors
npm http request GET http://192.168.1.100:4873/ws
npm http request GET http://192.168.1.100:4873/xmlhttprequest-ssl
npm http request GET http://192.168.1.100:4873/engine.io-parser
npm http request GET http://192.168.1.100:4873/parsejson
npm http request GET http://192.168.1.100:4873/parseqs
npm http request GET http://192.168.1.100:4873/component-inherit
npm http request GET http://192.168.1.100:4873/yeast
npm http 304 http://192.168.1.100:4873/has-cors
npm http 304 http://192.168.1.100:4873/ws
npm http 304 http://192.168.1.100:4873/xmlhttprequest-ssl
npm http 304 http://192.168.1.100:4873/parsejson
npm http 304 http://192.168.1.100:4873/engine.io-parser
npm http 304 http://192.168.1.100:4873/component-inherit
npm http 304 http://192.168.1.100:4873/parseqs
npm http 304 http://192.168.1.100:4873/yeast
npm http request GET http://192.168.1.100:4873/arraybuffer.slice
npm http request GET http://192.168.1.100:4873/base64-arraybuffer
npm http request GET http://192.168.1.100:4873/blob
npm http request GET http://192.168.1.100:4873/utf8
npm http 304 http://192.168.1.100:4873/arraybuffer.slice
npm http 304 http://192.168.1.100:4873/base64-arraybuffer
npm http 304 http://192.168.1.100:4873/blob
npm http 304 http://192.168.1.100:4873/utf8
npm http request GET http://192.168.1.100:4873/better-assert
npm http 304 http://192.168.1.100:4873/better-assert
npm http request GET http://192.168.1.100:4873/callsite
npm http 304 http://192.168.1.100:4873/callsite
npm http request GET http://192.168.1.100:4873/options
npm http request GET http://192.168.1.100:4873/ultron
npm http 304 http://192.168.1.100:4873/ultron
npm http 304 http://192.168.1.100:4873/options
npm http request GET http://192.168.1.100:4873/json3
npm http request GET http://192.168.1.100:4873/benchmark
npm http 304 http://192.168.1.100:4873/json3
npm http 304 http://192.168.1.100:4873/benchmark
npm http request GET http://192.168.1.100:4873/superagent
npm http 200 http://192.168.1.100:4873/superagent
npm http request GET http://192.168.1.100:4873/methods
npm http request GET http://192.168.1.100:4873/cookiejar
npm http request GET http://192.168.1.100:4873/formidable
npm http request GET http://192.168.1.100:4873/reduce-component
npm http request GET http://192.168.1.100:4873/readable-stream
npm http 304 http://192.168.1.100:4873/methods
npm http 200 http://192.168.1.100:4873/formidable
npm http 200 http://192.168.1.100:4873/reduce-component
npm http 304 http://192.168.1.100:4873/readable-stream
npm http 200 http://192.168.1.100:4873/cookiejar
npm http request GET http://192.168.1.100:4873/combined-stream
npm http request GET http://192.168.1.100:4873/mime-types
npm http 304 http://192.168.1.100:4873/combined-stream
npm http 304 http://192.168.1.100:4873/mime-types
npm http request GET http://192.168.1.100:4873/delayed-stream
npm http 304 http://192.168.1.100:4873/delayed-stream
npm http request GET http://192.168.1.100:4873/mime-db
npm http 304 http://192.168.1.100:4873/mime-db
npm http request GET http://192.168.1.100:4873/defined
npm http request GET http://192.168.1.100:4873/glob
npm http request GET http://192.168.1.100:4873/resumer
npm http request GET http://192.168.1.100:4873/object-inspect
npm http 304 http://192.168.1.100:4873/defined
npm http 304 http://192.168.1.100:4873/glob
npm http 200 http://192.168.1.100:4873/resumer
npm http 200 http://192.168.1.100:4873/object-inspect
npm WARN prefer global node-ninja@1.0.2 should be installed with -g
npm WARN prefer global node-gyp@3.4.0 should be installed with -g
gyp JXcore NODE-GYP Using node-gyp bundled in npm coming from JXcore
gyp http GET https://jxcore.azureedge.net/jxb311.tar.gz
gyp http 200 https://jxcore.azureedge.net/jxb311.tar.gz
In file included from ../src/batch.cc:2:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
In file included from ../src/batch_async.cc:8:
In file included from ../src/batch.h:9:
In file included from ../src/database.h:16:
In file included from ../../nan/nan.h:48:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
In file included from ../src/database.cc:7:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
In file included from ../src/database_async.cc:7:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
In file included from ../src/iterator.cc:7:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
In file included from ../src/iterator_async.cc:7:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
In file included from ../src/leveldown.cc:8:
In file included from ../src/leveldown.h:9:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
In file included from ../src/leveldown_async.cc:8:
In file included from ../src/leveldown.h:9:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
gyp JXcore NODE-GYP Using node-gyp bundled in npm coming from JXcore
In file included from ../src/batch.cc:4:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:7:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:17:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:7:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:7:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:8:
In file included from ../src/batch_async.h:15:
../src/batch.h:20:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Batch, Batch) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
../src/batch.cc:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  JS_DEFINE_STATE_MARKER(com);
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
../src/batch.cc:118:1: warning: unused variable '__contextORisolate' [-Wunused-variable]
JS_METHOD(Batch, Clear) {
^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:54:3: note: expanded from macro 'JS_METHOD'
  __JS_METHOD_BEGIN_COM()
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:47:3: note: expanded from macro '__JS_METHOD_BEGIN_COM'
  JS_DEFINE_STATE_MARKER_(p___args.GetIsolate()); \
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:94:53: note: expanded from macro 'JS_DEFINE_STATE_MARKER_'
#define JS_DEFINE_STATE_MARKER_(x) JS_ENGINE_MARKER __contextORisolate = x
                                                    ^
15 warnings generated.
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:19:
In file included from ../src/leveldown.h:11:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:17:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
../src/batch.h:20:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Batch, Batch) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:19:
../src/leveldown.h:51:13: warning: unused function 'DisposeStringOrBufferFromSlice' [-Wunused-function]
static void DisposeStringOrBufferFromSlice(JS_LOCAL_VALUE handle,
            ^
14 warnings generated.
In file included from ../src/database.cc:9:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:17:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:18:
../src/batch.h:20:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Batch, Batch) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
../src/database.cc:118:1: warning: unused variable '__contextORisolate' [-Wunused-variable]
JS_METHOD(Database, New) {
^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:54:3: note: expanded from macro 'JS_METHOD'
  __JS_METHOD_BEGIN_COM()
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:47:3: note: expanded from macro '__JS_METHOD_BEGIN_COM'
  JS_DEFINE_STATE_MARKER_(p___args.GetIsolate()); \
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:94:53: note: expanded from macro 'JS_DEFINE_STATE_MARKER_'
#define JS_DEFINE_STATE_MARKER_(x) JS_ENGINE_MARKER __contextORisolate = x
                                                    ^
../src/database.cc:130:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  JS_DEFINE_STATE_MARKER(com);
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
15 warnings generated.
In file included from ../src/database_async.cc:9:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:17:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:15:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:15:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
12 warnings generated.
In file included from ../src/iterator.cc:9:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:17:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
../src/iterator.cc:178:1: warning: unused variable '__contextORisolate' [-Wunused-variable]
JS_METHOD(Iterator, Next) {
^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:54:3: note: expanded from macro 'JS_METHOD'
  __JS_METHOD_BEGIN_COM()
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:47:3: note: expanded from macro '__JS_METHOD_BEGIN_COM'
  JS_DEFINE_STATE_MARKER_(p___args.GetIsolate()); \
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:94:53: note: expanded from macro 'JS_DEFINE_STATE_MARKER_'
#define JS_DEFINE_STATE_MARKER_(x) JS_ENGINE_MARKER __contextORisolate = x
                                                    ^
../src/iterator.cc:195:1: warning: unused variable '__contextORisolate' [-Wunused-variable]
JS_METHOD(Iterator, End) {
^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:54:3: note: expanded from macro 'JS_METHOD'
  __JS_METHOD_BEGIN_COM()
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:47:3: note: expanded from macro '__JS_METHOD_BEGIN_COM'
  JS_DEFINE_STATE_MARKER_(p___args.GetIsolate()); \
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:94:53: note: expanded from macro 'JS_DEFINE_STATE_MARKER_'
#define JS_DEFINE_STATE_MARKER_(x) JS_ENGINE_MARKER __contextORisolate = x
                                                    ^
../src/iterator.cc:222:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  JS_DEFINE_STATE_MARKER(com);
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:19:
../src/leveldown.h:51:13: warning: unused function 'DisposeStringOrBufferFromSlice' [-Wunused-function]
static void DisposeStringOrBufferFromSlice(JS_LOCAL_VALUE handle,
            ^
16 warnings generated.
In file included from ../src/iterator_async.cc:9:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:17:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:19:
../src/leveldown.h:51:13: warning: unused function 'DisposeStringOrBufferFromSlice' [-Wunused-function]
static void DisposeStringOrBufferFromSlice(JS_LOCAL_VALUE handle,
            ^
13 warnings generated.
In file included from ../src/leveldown.cc:10:
In file included from ../src/leveldown.h:11:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:17:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:13:
../src/batch.h:20:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Batch, Batch) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
../src/leveldown.cc:59:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(leveldown, LeveldownWrap) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
../src/leveldown.cc:70:1: warning: unused variable '__contextORisolate' [-Wunused-variable]
JS_METHOD(LeveldownWrap, New) {
^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:54:3: note: expanded from macro 'JS_METHOD'
  __JS_METHOD_BEGIN_COM()
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:47:3: note: expanded from macro '__JS_METHOD_BEGIN_COM'
  JS_DEFINE_STATE_MARKER_(p___args.GetIsolate()); \
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:94:53: note: expanded from macro 'JS_DEFINE_STATE_MARKER_'
#define JS_DEFINE_STATE_MARKER_(x) JS_ENGINE_MARKER __contextORisolate = x
                                                    ^
In file included from ../src/leveldown.cc:10:
../src/leveldown.h:51:13: warning: unused function 'DisposeStringOrBufferFromSlice' [-Wunused-function]
static void DisposeStringOrBufferFromSlice(JS_LOCAL_VALUE handle,
            ^
16 warnings generated.
In file included from ../src/leveldown_async.cc:10:
In file included from ../src/leveldown.h:11:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:13:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:13:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:10:
../src/leveldown.h:51:13: warning: unused function 'DisposeStringOrBufferFromSlice' [-Wunused-function]
static void DisposeStringOrBufferFromSlice(JS_LOCAL_VALUE handle,
            ^
13 warnings generated.
npm WARN EPACKAGEJSON thali-cordova-plugin-jxcore@1.0.0 No repository field.
(node) warning: possible EventEmitter memory leak detected. 11 listeners added. Use emitter.setMaxListeners() to increase limit.
Trace
    at EventEmitter.addListener (events.js:140:15)
    at module.exports (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/pouchdb-all-dbs/lib/index.js:82:9)
    at /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/lib/index.js:143:35
    at tryCatcher (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:504:31)
    at Promise._settlePromise (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:561:18)
    at Promise._settlePromise0 (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:606:10)
    at Promise._settlePromises (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:681:18)
    at Async._drainQueue (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:138:16)
    at Async._drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:148:10)
    at Async.drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:17:14)
    at process._tickCallback (node.js:924:13)
(node) warning: possible EventEmitter memory leak detected. 11 listeners added. Use emitter.setMaxListeners() to increase limit.
Trace
    at EventEmitter.addListener (events.js:140:15)
    at module.exports (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/pouchdb-all-dbs/lib/index.js:57:9)
    at /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/lib/index.js:143:35
    at tryCatcher (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:504:31)
    at Promise._settlePromise (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:561:18)
    at Promise._settlePromise0 (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:606:10)
    at Promise._settlePromises (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:681:18)
    at Async._drainQueue (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:138:16)
    at Async._drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:148:10)
    at Async.drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:17:14)
    at process._tickCallback (node.js:924:13)
(node) warning: possible EventEmitter memory leak detected. 11 listeners added. Use emitter.setMaxListeners() to increase limit.
Trace
    at EventEmitter.addListener (events.js:140:15)
    at module.exports (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/pouchdb-all-dbs/lib/index.js:82:9)
    at /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/lib/index.js:143:35
    at tryCatcher (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:504:31)
    at Promise._settlePromise (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:561:18)
    at Promise._settlePromise0 (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:606:10)
    at Promise._settlePromises (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:681:18)
    at Async._drainQueue (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:138:16)
    at Async._drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:148:10)
    at Async.drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:17:14)
    at process._tickCallback (node.js:924:13)
(node) warning: possible EventEmitter memory leak detected. 11 listeners added. Use emitter.setMaxListeners() to increase limit.
Trace
    at EventEmitter.addListener (events.js:140:15)
    at module.exports (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/pouchdb-all-dbs/lib/index.js:57:9)
    at /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/lib/index.js:143:35
    at tryCatcher (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:504:31)
    at Promise._settlePromise (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:561:18)
    at Promise._settlePromise0 (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:606:10)
    at Promise._settlePromises (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:681:18)
    at Async._drainQueue (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:138:16)
    at Async._drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:148:10)
    at Async.drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:17:14)
    at process._tickCallback (node.js:924:13)
(node) warning: possible EventEmitter memory leak detected. 11 listeners added. Use emitter.setMaxListeners() to increase limit.
Trace
    at EventEmitter.addListener (events.js:140:15)
    at module.exports (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/pouchdb-all-dbs/lib/index.js:82:9)
    at /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/lib/index.js:143:35
    at tryCatcher (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:504:31)
    at Promise._settlePromise (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:561:18)
    at Promise._settlePromise0 (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:606:10)
    at Promise._settlePromises (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:681:18)
    at Async._drainQueue (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:138:16)
    at Async._drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:148:10)
    at Async.drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:17:14)
    at process._tickCallback (node.js:924:13)
(node) warning: possible EventEmitter memory leak detected. 11 listeners added. Use emitter.setMaxListeners() to increase limit.
Trace
    at EventEmitter.addListener (events.js:140:15)
    at module.exports (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/pouchdb-all-dbs/lib/index.js:57:9)
    at /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/lib/index.js:143:35
    at tryCatcher (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:504:31)
    at Promise._settlePromise (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:561:18)
    at Promise._settlePromise0 (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:606:10)
    at Promise._settlePromises (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:681:18)
    at Async._drainQueue (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:138:16)
    at Async._drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:148:10)
    at Async.drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:17:14)
    at process._tickCallback (node.js:924:13)

```

Error: Command failed: npm WARN thali-test-server@0.0.1 No repository field.
npm WARN thali-test-server@0.0.1 No license field.
npm http request GET http://192.168.1.100:4873/bluebird
npm http request GET http://192.168.1.100:4873/ip
npm http request GET http://192.168.1.100:4873/body-parser
npm http request GET http://192.168.1.100:4873/express
npm http request GET http://192.168.1.100:4873/javascript-state-machine
npm http request GET http://192.168.1.100:4873/object-assign
npm http request GET http://192.168.1.100:4873/winston
npm http request GET http://192.168.1.100:4873/lie
npm http request GET http://192.168.1.100:4873/long
npm http request GET http://192.168.1.100:4873/multiplex
npm http request GET http://192.168.1.100:4873/urlsafe-base64
npm http request GET http://192.168.1.100:4873/uuid
npm http request GET http://192.168.1.100:4873/request
npm http 304 http://192.168.1.100:4873/express
npm http 304 http://192.168.1.100:4873/bluebird
npm http 200 http://192.168.1.100:4873/ip
npm http 200 http://192.168.1.100:4873/javascript-state-machine
npm http 304 http://192.168.1.100:4873/object-assign
npm http 304 http://192.168.1.100:4873/winston
npm http 200 http://192.168.1.100:4873/body-parser
npm http 200 http://192.168.1.100:4873/long
npm http 200 http://192.168.1.100:4873/urlsafe-base64
npm http 200 http://192.168.1.100:4873/uuid
npm http 200 http://192.168.1.100:4873/multiplex
npm http 200 http://192.168.1.100:4873/lie
npm http 200 http://192.168.1.100:4873/request
npm http request GET http://192.168.1.100:4873/debug
npm http request GET http://192.168.1.100:4873/content-type
npm http request GET http://192.168.1.100:4873/bytes
npm http request GET http://192.168.1.100:4873/depd
npm http request GET http://192.168.1.100:4873/http-errors
npm http request GET http://192.168.1.100:4873/iconv-lite
npm http request GET http://192.168.1.100:4873/on-finished
npm http request GET http://192.168.1.100:4873/qs
npm http request GET http://192.168.1.100:4873/raw-body
npm http request GET http://192.168.1.100:4873/type-is
npm http 304 http://192.168.1.100:4873/debug
npm http 304 http://192.168.1.100:4873/content-type
npm http 304 http://192.168.1.100:4873/depd
npm http 304 http://192.168.1.100:4873/http-errors
npm http 200 http://192.168.1.100:4873/bytes
npm http 304 http://192.168.1.100:4873/qs
npm http 304 http://192.168.1.100:4873/on-finished
npm http 304 http://192.168.1.100:4873/type-is
npm http 200 http://192.168.1.100:4873/raw-body
npm http 200 http://192.168.1.100:4873/iconv-lite
npm http request GET http://192.168.1.100:4873/ms
npm http 304 http://192.168.1.100:4873/ms
npm http request GET http://192.168.1.100:4873/inherits
npm http request GET http://192.168.1.100:4873/statuses
npm http 304 http://192.168.1.100:4873/statuses
npm http 304 http://192.168.1.100:4873/inherits
npm http request GET http://192.168.1.100:4873/ee-first
npm http 304 http://192.168.1.100:4873/ee-first
npm http request GET http://192.168.1.100:4873/unpipe
npm http 304 http://192.168.1.100:4873/unpipe
npm http request GET http://192.168.1.100:4873/media-typer
npm http request GET http://192.168.1.100:4873/mime-types
npm http 304 http://192.168.1.100:4873/media-typer
npm http 304 http://192.168.1.100:4873/mime-types
npm http request GET http://192.168.1.100:4873/mime-db
npm http 304 http://192.168.1.100:4873/mime-db
npm http request GET http://192.168.1.100:4873/accepts
npm http request GET http://192.168.1.100:4873/array-flatten
npm http request GET http://192.168.1.100:4873/content-disposition
npm http request GET http://192.168.1.100:4873/cookie
npm http request GET http://192.168.1.100:4873/cookie-signature
npm http request GET http://192.168.1.100:4873/escape-html
npm http request GET http://192.168.1.100:4873/etag
npm http request GET http://192.168.1.100:4873/finalhandler
npm http request GET http://192.168.1.100:4873/fresh
npm http request GET http://192.168.1.100:4873/merge-descriptors
npm http request GET http://192.168.1.100:4873/methods
npm http request GET http://192.168.1.100:4873/parseurl
npm http request GET http://192.168.1.100:4873/path-to-regexp
npm http request GET http://192.168.1.100:4873/proxy-addr
npm http request GET http://192.168.1.100:4873/range-parser
npm http request GET http://192.168.1.100:4873/send
npm http request GET http://192.168.1.100:4873/serve-static
npm http request GET http://192.168.1.100:4873/utils-merge
npm http request GET http://192.168.1.100:4873/vary
npm http 304 http://192.168.1.100:4873/accepts
npm http 304 http://192.168.1.100:4873/array-flatten
npm http 304 http://192.168.1.100:4873/content-disposition
npm http 304 http://192.168.1.100:4873/cookie
npm http 304 http://192.168.1.100:4873/cookie-signature
npm http 304 http://192.168.1.100:4873/escape-html
npm http 304 http://192.168.1.100:4873/etag
npm http 304 http://192.168.1.100:4873/finalhandler
npm http 304 http://192.168.1.100:4873/fresh
npm http 304 http://192.168.1.100:4873/merge-descriptors
npm http 304 http://192.168.1.100:4873/methods
npm http 304 http://192.168.1.100:4873/parseurl
npm http 304 http://192.168.1.100:4873/path-to-regexp
npm http 304 http://192.168.1.100:4873/range-parser
npm http 304 http://192.168.1.100:4873/proxy-addr
npm http 304 http://192.168.1.100:4873/send
npm http 304 http://192.168.1.100:4873/serve-static
npm http 304 http://192.168.1.100:4873/utils-merge
npm http 304 http://192.168.1.100:4873/vary
npm http request GET http://192.168.1.100:4873/negotiator
npm http 304 http://192.168.1.100:4873/negotiator
npm http request GET http://192.168.1.100:4873/forwarded
npm http request GET http://192.168.1.100:4873/ipaddr.js
npm http 304 http://192.168.1.100:4873/forwarded
npm http 304 http://192.168.1.100:4873/ipaddr.js
npm http request GET http://192.168.1.100:4873/destroy
npm http request GET http://192.168.1.100:4873/mime
npm http 304 http://192.168.1.100:4873/destroy
npm http 304 http://192.168.1.100:4873/mime
npm http request GET http://192.168.1.100:4873/immediate
npm http 200 http://192.168.1.100:4873/immediate
npm http request GET http://192.168.1.100:4873/duplexify
npm http request GET http://192.168.1.100:4873/varint
npm http request GET http://192.168.1.100:4873/xtend
npm http request GET http://192.168.1.100:4873/readable-stream
npm http 304 http://192.168.1.100:4873/duplexify
npm http 200 http://192.168.1.100:4873/xtend
npm http 304 http://192.168.1.100:4873/readable-stream
npm http 200 http://192.168.1.100:4873/varint
npm http request GET http://192.168.1.100:4873/stream-shift
npm http request GET http://192.168.1.100:4873/end-of-stream
npm http 304 http://192.168.1.100:4873/stream-shift
npm http 200 http://192.168.1.100:4873/end-of-stream
npm http request GET http://192.168.1.100:4873/once
npm http 304 http://192.168.1.100:4873/once
npm http request GET http://192.168.1.100:4873/wrappy
npm http 304 http://192.168.1.100:4873/wrappy
npm http request GET http://192.168.1.100:4873/isarray
npm http request GET http://192.168.1.100:4873/buffer-shims
npm http request GET http://192.168.1.100:4873/core-util-is
npm http request GET http://192.168.1.100:4873/string_decoder
npm http request GET http://192.168.1.100:4873/process-nextick-args
npm http request GET http://192.168.1.100:4873/util-deprecate
npm http 304 http://192.168.1.100:4873/isarray
npm http 304 http://192.168.1.100:4873/core-util-is
npm http 304 http://192.168.1.100:4873/string_decoder
npm http 304 http://192.168.1.100:4873/process-nextick-args
npm http 304 http://192.168.1.100:4873/buffer-shims
npm http 304 http://192.168.1.100:4873/util-deprecate
npm http request GET http://192.168.1.100:4873/extend
npm http request GET http://192.168.1.100:4873/bl
npm http request GET http://192.168.1.100:4873/caseless
npm http request GET http://192.168.1.100:4873/node-uuid
npm http request GET http://192.168.1.100:4873/form-data
npm http request GET http://192.168.1.100:4873/json-stringify-safe
npm http request GET http://192.168.1.100:4873/tough-cookie
npm http request GET http://192.168.1.100:4873/tunnel-agent
npm http request GET http://192.168.1.100:4873/http-signature
npm http request GET http://192.168.1.100:4873/oauth-sign
npm http request GET http://192.168.1.100:4873/hawk
npm http request GET http://192.168.1.100:4873/stringstream
npm http request GET http://192.168.1.100:4873/aws-sign2
npm http request GET http://192.168.1.100:4873/isstream
npm http request GET http://192.168.1.100:4873/combined-stream
npm http request GET http://192.168.1.100:4873/har-validator
npm http 200 http://192.168.1.100:4873/extend
npm http 304 http://192.168.1.100:4873/caseless
npm http 200 http://192.168.1.100:4873/bl
npm http 304 http://192.168.1.100:4873/node-uuid
npm http 200 http://192.168.1.100:4873/form-data
npm http 200 http://192.168.1.100:4873/json-stringify-safe
npm http 304 http://192.168.1.100:4873/http-signature
npm http 304 http://192.168.1.100:4873/oauth-sign
npm http 200 http://192.168.1.100:4873/tunnel-agent
npm http 200 http://192.168.1.100:4873/tough-cookie
npm http 304 http://192.168.1.100:4873/stringstream
npm http 304 http://192.168.1.100:4873/aws-sign2
npm http 304 http://192.168.1.100:4873/isstream
npm http 200 http://192.168.1.100:4873/hawk
npm http 200 http://192.168.1.100:4873/combined-stream
npm http 200 http://192.168.1.100:4873/har-validator
npm http request GET http://192.168.1.100:4873/delayed-stream
npm http 304 http://192.168.1.100:4873/delayed-stream
npm http request GET http://192.168.1.100:4873/async
npm http 304 http://192.168.1.100:4873/async
npm http fetch GET http://192.168.1.100:4873/async/-/async-2.1.4.tgz
npm http fetch 200 http://192.168.1.100:4873/async/-/async-2.1.4.tgz
npm http request GET http://192.168.1.100:4873/lodash
npm http 200 http://192.168.1.100:4873/lodash
npm http fetch GET http://192.168.1.100:4873/lodash/-/lodash-4.17.4.tgz
npm http fetch 200 http://192.168.1.100:4873/lodash/-/lodash-4.17.4.tgz
npm http request GET http://192.168.1.100:4873/commander
npm http request GET http://192.168.1.100:4873/chalk
npm http request GET http://192.168.1.100:4873/is-my-json-valid
npm http 200 http://192.168.1.100:4873/is-my-json-valid
npm http 200 http://192.168.1.100:4873/chalk
npm http 200 http://192.168.1.100:4873/commander
npm http request GET http://192.168.1.100:4873/ansi-styles
npm http request GET http://192.168.1.100:4873/escape-string-regexp
npm http request GET http://192.168.1.100:4873/strip-ansi
npm http request GET http://192.168.1.100:4873/supports-color
npm http request GET http://192.168.1.100:4873/has-ansi
npm http 304 http://192.168.1.100:4873/escape-string-regexp
npm http 304 http://192.168.1.100:4873/strip-ansi
npm http 200 http://192.168.1.100:4873/has-ansi
npm http 200 http://192.168.1.100:4873/supports-color
npm http 200 http://192.168.1.100:4873/ansi-styles
npm http request GET http://192.168.1.100:4873/ansi-regex
npm http 304 http://192.168.1.100:4873/ansi-regex
npm http request GET http://192.168.1.100:4873/graceful-readlink
npm http 200 http://192.168.1.100:4873/graceful-readlink
npm http request GET http://192.168.1.100:4873/generate-function
npm http request GET http://192.168.1.100:4873/generate-object-property
npm http request GET http://192.168.1.100:4873/jsonpointer
npm http 304 http://192.168.1.100:4873/generate-object-property
npm http 200 http://192.168.1.100:4873/jsonpointer
npm http 304 http://192.168.1.100:4873/generate-function
npm http fetch GET http://192.168.1.100:4873/jsonpointer/-/jsonpointer-4.0.1.tgz
npm http fetch 200 http://192.168.1.100:4873/jsonpointer/-/jsonpointer-4.0.1.tgz
npm http request GET http://192.168.1.100:4873/is-property
npm http 304 http://192.168.1.100:4873/is-property
npm http request GET http://192.168.1.100:4873/cryptiles
npm http request GET http://192.168.1.100:4873/hoek
npm http request GET http://192.168.1.100:4873/sntp
npm http request GET http://192.168.1.100:4873/boom
npm http 200 http://192.168.1.100:4873/boom
npm http 200 http://192.168.1.100:4873/sntp
npm http 200 http://192.168.1.100:4873/cryptiles
npm http 200 http://192.168.1.100:4873/hoek
npm http request GET http://192.168.1.100:4873/asn1
npm http request GET http://192.168.1.100:4873/assert-plus
npm http request GET http://192.168.1.100:4873/ctype
npm http 200 http://192.168.1.100:4873/assert-plus
npm http 304 http://192.168.1.100:4873/asn1
npm http 304 http://192.168.1.100:4873/ctype
npm http request GET http://192.168.1.100:4873/punycode
npm http 304 http://192.168.1.100:4873/punycode
npm http request GET http://192.168.1.100:4873/jsonschema
npm http 200 http://192.168.1.100:4873/jsonschema
npm http fetch GET http://192.168.1.100:4873/jsonschema/-/jsonschema-1.1.1.tgz
npm http fetch 200 http://192.168.1.100:4873/jsonschema/-/jsonschema-1.1.1.tgz
npm http request GET http://192.168.1.100:4873/colors
npm http request GET http://192.168.1.100:4873/cycle
npm http request GET http://192.168.1.100:4873/eyes
npm http request GET http://192.168.1.100:4873/pkginfo
npm http request GET http://192.168.1.100:4873/stack-trace
npm http 304 http://192.168.1.100:4873/colors
npm http 304 http://192.168.1.100:4873/cycle
npm http 304 http://192.168.1.100:4873/eyes
npm http 304 http://192.168.1.100:4873/pkginfo
npm http 304 http://192.168.1.100:4873/stack-trace
npm http request GET http://192.168.1.100:4873/eslint
npm http request GET http://192.168.1.100:4873/jsdoc
npm http 200 http://192.168.1.100:4873/jsdoc
npm http 200 http://192.168.1.100:4873/eslint
npm http fetch GET http://192.168.1.100:4873/eslint/-/eslint-3.11.1.tgz
npm http fetch 200 http://192.168.1.100:4873/eslint/-/eslint-3.11.1.tgz
npm http request GET http://192.168.1.100:4873/babel-code-frame
npm http request GET http://192.168.1.100:4873/doctrine
npm http request GET http://192.168.1.100:4873/escope
npm http request GET http://192.168.1.100:4873/estraverse
npm http request GET http://192.168.1.100:4873/esutils
npm http request GET http://192.168.1.100:4873/file-entry-cache
npm http request GET http://192.168.1.100:4873/globals
npm http request GET http://192.168.1.100:4873/ignore
npm http request GET http://192.168.1.100:4873/is-resolvable
npm http request GET http://192.168.1.100:4873/js-yaml
npm http request GET http://192.168.1.100:4873/levn
npm http request GET http://192.168.1.100:4873/natural-compare
npm http request GET http://192.168.1.100:4873/optionator
npm http request GET http://192.168.1.100:4873/path-is-inside
npm http request GET http://192.168.1.100:4873/pluralize
npm http request GET http://192.168.1.100:4873/require-uncached
npm http request GET http://192.168.1.100:4873/strip-bom
npm http request GET http://192.168.1.100:4873/table
npm http request GET http://192.168.1.100:4873/text-table
npm http request GET http://192.168.1.100:4873/user-home
npm http request GET http://192.168.1.100:4873/glob
npm http request GET http://192.168.1.100:4873/concat-stream
npm http request GET http://192.168.1.100:4873/espree
npm http request GET http://192.168.1.100:4873/imurmurhash
npm http request GET http://192.168.1.100:4873/json-stable-stringify
npm http request GET http://192.168.1.100:4873/inquirer
npm http request GET http://192.168.1.100:4873/mkdirp
npm http request GET http://192.168.1.100:4873/progress
npm http request GET http://192.168.1.100:4873/strip-json-comments
npm http request GET http://192.168.1.100:4873/shelljs
npm http 200 http://192.168.1.100:4873/babel-code-frame
npm http 200 http://192.168.1.100:4873/esutils
npm http 200 http://192.168.1.100:4873/doctrine
npm http 200 http://192.168.1.100:4873/estraverse
npm http 200 http://192.168.1.100:4873/escope
npm http fetch GET http://192.168.1.100:4873/babel-code-frame/-/babel-code-frame-6.20.0.tgz
npm http fetch GET http://192.168.1.100:4873/esutils/-/esutils-2.0.2.tgz
npm http 200 http://192.168.1.100:4873/file-entry-cache
npm http fetch GET http://192.168.1.100:4873/doctrine/-/doctrine-1.5.0.tgz
npm http fetch GET http://192.168.1.100:4873/estraverse/-/estraverse-4.2.0.tgz
npm http 200 http://192.168.1.100:4873/is-resolvable
npm http 200 http://192.168.1.100:4873/ignore
npm http 200 http://192.168.1.100:4873/globals
npm http 200 http://192.168.1.100:4873/js-yaml
npm http fetch GET http://192.168.1.100:4873/escope/-/escope-3.6.0.tgz
npm http 200 http://192.168.1.100:4873/levn
npm http 200 http://192.168.1.100:4873/path-is-inside
npm http 200 http://192.168.1.100:4873/natural-compare
npm http 200 http://192.168.1.100:4873/optionator
npm http 200 http://192.168.1.100:4873/pluralize
npm http fetch GET http://192.168.1.100:4873/file-entry-cache/-/file-entry-cache-2.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/ignore/-/ignore-3.2.0.tgz
npm http fetch GET http://192.168.1.100:4873/is-resolvable/-/is-resolvable-1.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/globals/-/globals-9.14.0.tgz
npm http fetch GET http://192.168.1.100:4873/js-yaml/-/js-yaml-3.7.0.tgz
npm http 200 http://192.168.1.100:4873/require-uncached
npm http fetch GET http://192.168.1.100:4873/levn/-/levn-0.3.0.tgz
npm http fetch GET http://192.168.1.100:4873/path-is-inside/-/path-is-inside-1.0.2.tgz
npm http 200 http://192.168.1.100:4873/strip-bom
npm http 200 http://192.168.1.100:4873/text-table
npm http 200 http://192.168.1.100:4873/user-home
npm http fetch GET http://192.168.1.100:4873/optionator/-/optionator-0.8.2.tgz
npm http fetch GET http://192.168.1.100:4873/natural-compare/-/natural-compare-1.4.0.tgz
npm http fetch GET http://192.168.1.100:4873/pluralize/-/pluralize-1.2.1.tgz
npm http fetch GET http://192.168.1.100:4873/require-uncached/-/require-uncached-1.0.3.tgz
npm http 200 http://192.168.1.100:4873/table
npm http 304 http://192.168.1.100:4873/glob
npm http fetch GET http://192.168.1.100:4873/text-table/-/text-table-0.2.0.tgz
npm http fetch GET http://192.168.1.100:4873/user-home/-/user-home-2.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/strip-bom/-/strip-bom-3.0.0.tgz
npm http 304 http://192.168.1.100:4873/imurmurhash
npm http 304 http://192.168.1.100:4873/json-stable-stringify
npm http fetch GET http://192.168.1.100:4873/table/-/table-3.8.3.tgz
npm http 200 http://192.168.1.100:4873/concat-stream
npm http 200 http://192.168.1.100:4873/espree
npm http fetch 200 http://192.168.1.100:4873/babel-code-frame/-/babel-code-frame-6.20.0.tgz
npm http fetch 200 http://192.168.1.100:4873/esutils/-/esutils-2.0.2.tgz
npm http fetch 200 http://192.168.1.100:4873/doctrine/-/doctrine-1.5.0.tgz
npm http 200 http://192.168.1.100:4873/inquirer
npm http fetch 200 http://192.168.1.100:4873/estraverse/-/estraverse-4.2.0.tgz
npm http fetch 200 http://192.168.1.100:4873/escope/-/escope-3.6.0.tgz
npm http fetch 200 http://192.168.1.100:4873/file-entry-cache/-/file-entry-cache-2.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/ignore/-/ignore-3.2.0.tgz
npm http fetch 200 http://192.168.1.100:4873/is-resolvable/-/is-resolvable-1.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/json-stable-stringify/-/json-stable-stringify-1.0.1.tgz
npm http 200 http://192.168.1.100:4873/mkdirp
npm http 200 http://192.168.1.100:4873/progress
npm http 200 http://192.168.1.100:4873/strip-json-comments
npm http fetch 200 http://192.168.1.100:4873/js-yaml/-/js-yaml-3.7.0.tgz
npm http fetch 200 http://192.168.1.100:4873/globals/-/globals-9.14.0.tgz
npm http fetch GET http://192.168.1.100:4873/concat-stream/-/concat-stream-1.6.0.tgz
npm http fetch 200 http://192.168.1.100:4873/levn/-/levn-0.3.0.tgz
npm http fetch 200 http://192.168.1.100:4873/path-is-inside/-/path-is-inside-1.0.2.tgz
npm http fetch GET http://192.168.1.100:4873/espree/-/espree-3.3.2.tgz
npm http fetch 200 http://192.168.1.100:4873/optionator/-/optionator-0.8.2.tgz
npm http fetch 200 http://192.168.1.100:4873/natural-compare/-/natural-compare-1.4.0.tgz
npm http fetch 200 http://192.168.1.100:4873/pluralize/-/pluralize-1.2.1.tgz
npm http fetch 200 http://192.168.1.100:4873/require-uncached/-/require-uncached-1.0.3.tgz
npm http fetch 200 http://192.168.1.100:4873/strip-bom/-/strip-bom-3.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/text-table/-/text-table-0.2.0.tgz
npm http fetch 200 http://192.168.1.100:4873/user-home/-/user-home-2.0.0.tgz
npm http 200 http://192.168.1.100:4873/shelljs
npm http fetch 200 http://192.168.1.100:4873/table/-/table-3.8.3.tgz
npm http fetch 200 http://192.168.1.100:4873/json-stable-stringify/-/json-stable-stringify-1.0.1.tgz
npm http fetch 200 http://192.168.1.100:4873/concat-stream/-/concat-stream-1.6.0.tgz
npm http fetch 200 http://192.168.1.100:4873/espree/-/espree-3.3.2.tgz
npm http fetch GET http://192.168.1.100:4873/inquirer/-/inquirer-0.12.0.tgz
npm http fetch 200 http://192.168.1.100:4873/inquirer/-/inquirer-0.12.0.tgz
npm http request GET http://192.168.1.100:4873/js-tokens
npm http 200 http://192.168.1.100:4873/js-tokens
npm http fetch GET http://192.168.1.100:4873/js-tokens/-/js-tokens-2.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/js-tokens/-/js-tokens-2.0.0.tgz
npm http request GET http://192.168.1.100:4873/typedarray
npm http 304 http://192.168.1.100:4873/typedarray
npm http request GET http://192.168.1.100:4873/es6-map
npm http request GET http://192.168.1.100:4873/es6-weak-map
npm http request GET http://192.168.1.100:4873/esrecurse
npm http 200 http://192.168.1.100:4873/es6-map
npm http 200 http://192.168.1.100:4873/esrecurse
npm http 200 http://192.168.1.100:4873/es6-weak-map
npm http fetch GET http://192.168.1.100:4873/es6-map/-/es6-map-0.1.4.tgz
npm http fetch GET http://192.168.1.100:4873/esrecurse/-/esrecurse-4.1.0.tgz
npm http fetch GET http://192.168.1.100:4873/es6-weak-map/-/es6-weak-map-2.0.1.tgz
npm http fetch 200 http://192.168.1.100:4873/es6-map/-/es6-map-0.1.4.tgz
npm http fetch 200 http://192.168.1.100:4873/esrecurse/-/esrecurse-4.1.0.tgz
npm http fetch 200 http://192.168.1.100:4873/es6-weak-map/-/es6-weak-map-2.0.1.tgz
npm http request GET http://192.168.1.100:4873/es6-set
npm http request GET http://192.168.1.100:4873/event-emitter
npm http request GET http://192.168.1.100:4873/d
npm http request GET http://192.168.1.100:4873/es6-iterator
npm http request GET http://192.168.1.100:4873/es5-ext
npm http request GET http://192.168.1.100:4873/es6-symbol
npm http 200 http://192.168.1.100:4873/es6-set
npm http 200 http://192.168.1.100:4873/event-emitter
npm http 200 http://192.168.1.100:4873/es6-iterator
npm http 200 http://192.168.1.100:4873/d
npm http 200 http://192.168.1.100:4873/es5-ext
npm http fetch GET http://192.168.1.100:4873/es6-set/-/es6-set-0.1.4.tgz
npm http fetch GET http://192.168.1.100:4873/event-emitter/-/event-emitter-0.3.4.tgz
npm http fetch 200 http://192.168.1.100:4873/event-emitter/-/event-emitter-0.3.4.tgz
npm http fetch 200 http://192.168.1.100:4873/es6-set/-/es6-set-0.1.4.tgz
npm http 200 http://192.168.1.100:4873/es6-symbol
npm http fetch GET http://192.168.1.100:4873/estraverse/-/estraverse-4.1.1.tgz
npm http fetch 200 http://192.168.1.100:4873/estraverse/-/estraverse-4.1.1.tgz
npm http request GET http://192.168.1.100:4873/acorn-jsx
npm http request GET http://192.168.1.100:4873/acorn
npm http 200 http://192.168.1.100:4873/acorn-jsx
npm http 200 http://192.168.1.100:4873/acorn
npm http fetch GET http://192.168.1.100:4873/acorn-jsx/-/acorn-jsx-3.0.1.tgz
npm http fetch 200 http://192.168.1.100:4873/acorn-jsx/-/acorn-jsx-3.0.1.tgz
npm http fetch GET http://192.168.1.100:4873/acorn/-/acorn-4.0.4.tgz
npm http fetch 200 http://192.168.1.100:4873/acorn/-/acorn-4.0.4.tgz
npm http request GET http://192.168.1.100:4873/flat-cache
npm http 200 http://192.168.1.100:4873/flat-cache
npm http fetch GET http://192.168.1.100:4873/flat-cache/-/flat-cache-1.2.2.tgz
npm http fetch 200 http://192.168.1.100:4873/flat-cache/-/flat-cache-1.2.2.tgz
npm http request GET http://192.168.1.100:4873/circular-json
npm http request GET http://192.168.1.100:4873/del
npm http request GET http://192.168.1.100:4873/write
npm http request GET http://192.168.1.100:4873/graceful-fs
npm http 304 http://192.168.1.100:4873/graceful-fs
npm http 200 http://192.168.1.100:4873/circular-json
npm http 200 http://192.168.1.100:4873/del
npm http 200 http://192.168.1.100:4873/write
npm http fetch GET http://192.168.1.100:4873/circular-json/-/circular-json-0.3.1.tgz
npm http fetch GET http://192.168.1.100:4873/del/-/del-2.2.2.tgz
npm http fetch GET http://192.168.1.100:4873/write/-/write-0.2.1.tgz
npm http fetch 200 http://192.168.1.100:4873/del/-/del-2.2.2.tgz
npm http fetch 200 http://192.168.1.100:4873/write/-/write-0.2.1.tgz
npm http fetch 200 http://192.168.1.100:4873/circular-json/-/circular-json-0.3.1.tgz
npm http request GET http://192.168.1.100:4873/globby
npm http request GET http://192.168.1.100:4873/is-path-cwd
npm http request GET http://192.168.1.100:4873/is-path-in-cwd
npm http request GET http://192.168.1.100:4873/pify
npm http request GET http://192.168.1.100:4873/pinkie-promise
npm http request GET http://192.168.1.100:4873/rimraf
npm http 200 http://192.168.1.100:4873/is-path-cwd
npm http 200 http://192.168.1.100:4873/globby
npm http 304 http://192.168.1.100:4873/pinkie-promise
npm http 200 http://192.168.1.100:4873/pify
npm http 200 http://192.168.1.100:4873/is-path-in-cwd
npm http fetch GET http://192.168.1.100:4873/is-path-cwd/-/is-path-cwd-1.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/is-path-cwd/-/is-path-cwd-1.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/pify/-/pify-2.3.0.tgz
npm http fetch GET http://192.168.1.100:4873/globby/-/globby-5.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/is-path-in-cwd/-/is-path-in-cwd-1.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/pify/-/pify-2.3.0.tgz
npm http fetch 200 http://192.168.1.100:4873/globby/-/globby-5.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/is-path-in-cwd/-/is-path-in-cwd-1.0.0.tgz
npm http 304 http://192.168.1.100:4873/rimraf
npm http request GET http://192.168.1.100:4873/array-union
npm http request GET http://192.168.1.100:4873/arrify
npm http 200 http://192.168.1.100:4873/arrify
npm http 200 http://192.168.1.100:4873/array-union
npm http fetch GET http://192.168.1.100:4873/array-union/-/array-union-1.0.2.tgz
npm http fetch GET http://192.168.1.100:4873/arrify/-/arrify-1.0.1.tgz
npm http fetch 200 http://192.168.1.100:4873/array-union/-/array-union-1.0.2.tgz
npm http fetch 200 http://192.168.1.100:4873/arrify/-/arrify-1.0.1.tgz
npm http request GET http://192.168.1.100:4873/array-uniq
npm http 200 http://192.168.1.100:4873/array-uniq
npm http fetch GET http://192.168.1.100:4873/array-uniq/-/array-uniq-1.0.3.tgz
npm http fetch 200 http://192.168.1.100:4873/array-uniq/-/array-uniq-1.0.3.tgz
npm http request GET http://192.168.1.100:4873/fs.realpath
npm http request GET http://192.168.1.100:4873/inflight
npm http request GET http://192.168.1.100:4873/minimatch
npm http request GET http://192.168.1.100:4873/path-is-absolute
npm http 304 http://192.168.1.100:4873/fs.realpath
npm http 304 http://192.168.1.100:4873/inflight
npm http 304 http://192.168.1.100:4873/path-is-absolute
npm http 304 http://192.168.1.100:4873/minimatch
npm http request GET http://192.168.1.100:4873/brace-expansion
npm http 304 http://192.168.1.100:4873/brace-expansion
npm http request GET http://192.168.1.100:4873/balanced-match
npm http request GET http://192.168.1.100:4873/concat-map
npm http 304 http://192.168.1.100:4873/balanced-match
npm http 304 http://192.168.1.100:4873/concat-map
npm http request GET http://192.168.1.100:4873/pinkie
npm http 304 http://192.168.1.100:4873/pinkie
npm http request GET http://192.168.1.100:4873/is-path-inside
npm http 200 http://192.168.1.100:4873/is-path-inside
npm http fetch GET http://192.168.1.100:4873/is-path-inside/-/is-path-inside-1.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/is-path-inside/-/is-path-inside-1.0.0.tgz
npm http request GET http://192.168.1.100:4873/minimist
npm http 200 http://192.168.1.100:4873/minimist
npm http request GET http://192.168.1.100:4873/string-width
npm http request GET http://192.168.1.100:4873/ansi-escapes
npm http request GET http://192.168.1.100:4873/cli-cursor
npm http request GET http://192.168.1.100:4873/cli-width
npm http request GET http://192.168.1.100:4873/figures
npm http request GET http://192.168.1.100:4873/readline2
npm http request GET http://192.168.1.100:4873/run-async
npm http request GET http://192.168.1.100:4873/rx-lite
npm http request GET http://192.168.1.100:4873/through
npm http 200 http://192.168.1.100:4873/string-width
npm http 200 http://192.168.1.100:4873/ansi-escapes
npm http 304 http://192.168.1.100:4873/cli-cursor
npm http 304 http://192.168.1.100:4873/figures
npm http 304 http://192.168.1.100:4873/cli-width
npm http 304 http://192.168.1.100:4873/readline2
npm http fetch GET http://192.168.1.100:4873/cli-width/-/cli-width-2.1.0.tgz
npm http fetch GET http://192.168.1.100:4873/string-width/-/string-width-1.0.2.tgz
npm http 304 http://192.168.1.100:4873/rx-lite
npm http 200 http://192.168.1.100:4873/run-async
npm http fetch 200 http://192.168.1.100:4873/cli-width/-/cli-width-2.1.0.tgz
npm http fetch 200 http://192.168.1.100:4873/string-width/-/string-width-1.0.2.tgz
npm http 200 http://192.168.1.100:4873/through
npm http request GET http://192.168.1.100:4873/restore-cursor
npm http 304 http://192.168.1.100:4873/restore-cursor
npm http request GET http://192.168.1.100:4873/onetime
npm http request GET http://192.168.1.100:4873/exit-hook
npm http 304 http://192.168.1.100:4873/onetime
npm http 304 http://192.168.1.100:4873/exit-hook
npm http request GET http://192.168.1.100:4873/code-point-at
npm http request GET http://192.168.1.100:4873/is-fullwidth-code-point
npm http request GET http://192.168.1.100:4873/mute-stream
npm http 304 http://192.168.1.100:4873/code-point-at
npm http 304 http://192.168.1.100:4873/is-fullwidth-code-point
npm http 200 http://192.168.1.100:4873/mute-stream
npm http request GET http://192.168.1.100:4873/number-is-nan
npm http 304 http://192.168.1.100:4873/number-is-nan
npm http request GET http://192.168.1.100:4873/tryit
npm http 200 http://192.168.1.100:4873/tryit
npm http fetch GET http://192.168.1.100:4873/tryit/-/tryit-1.0.3.tgz
npm http fetch 200 http://192.168.1.100:4873/tryit/-/tryit-1.0.3.tgz
npm http request GET http://192.168.1.100:4873/argparse
npm http request GET http://192.168.1.100:4873/esprima
npm http 200 http://192.168.1.100:4873/argparse
npm http 200 http://192.168.1.100:4873/esprima
npm http fetch GET http://192.168.1.100:4873/argparse/-/argparse-1.0.9.tgz
npm http fetch 200 http://192.168.1.100:4873/argparse/-/argparse-1.0.9.tgz
npm http request GET http://192.168.1.100:4873/sprintf-js
npm http 200 http://192.168.1.100:4873/sprintf-js
npm http fetch GET http://192.168.1.100:4873/sprintf-js/-/sprintf-js-1.0.3.tgz
npm http fetch 200 http://192.168.1.100:4873/sprintf-js/-/sprintf-js-1.0.3.tgz
npm http request GET http://192.168.1.100:4873/jsonify
npm http 304 http://192.168.1.100:4873/jsonify
npm http request GET http://192.168.1.100:4873/prelude-ls
npm http request GET http://192.168.1.100:4873/type-check
npm http 200 http://192.168.1.100:4873/prelude-ls
npm http 200 http://192.168.1.100:4873/type-check
npm http fetch GET http://192.168.1.100:4873/prelude-ls/-/prelude-ls-1.1.2.tgz
npm http fetch GET http://192.168.1.100:4873/type-check/-/type-check-0.3.2.tgz
npm http fetch 200 http://192.168.1.100:4873/type-check/-/type-check-0.3.2.tgz
npm http fetch 200 http://192.168.1.100:4873/prelude-ls/-/prelude-ls-1.1.2.tgz
npm http request GET http://192.168.1.100:4873/deep-is
npm http request GET http://192.168.1.100:4873/wordwrap
npm http request GET http://192.168.1.100:4873/fast-levenshtein
npm http 200 http://192.168.1.100:4873/deep-is
npm http 200 http://192.168.1.100:4873/wordwrap
npm http 200 http://192.168.1.100:4873/fast-levenshtein
npm http fetch GET http://192.168.1.100:4873/deep-is/-/deep-is-0.1.3.tgz
npm http fetch GET http://192.168.1.100:4873/wordwrap/-/wordwrap-1.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/fast-levenshtein/-/fast-levenshtein-2.0.6.tgz
npm http fetch 200 http://192.168.1.100:4873/deep-is/-/deep-is-0.1.3.tgz
npm http fetch 200 http://192.168.1.100:4873/wordwrap/-/wordwrap-1.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/fast-levenshtein/-/fast-levenshtein-2.0.6.tgz
npm http request GET http://192.168.1.100:4873/caller-path
npm http request GET http://192.168.1.100:4873/resolve-from
npm http 200 http://192.168.1.100:4873/caller-path
npm http 200 http://192.168.1.100:4873/resolve-from
npm http fetch GET http://192.168.1.100:4873/resolve-from/-/resolve-from-1.0.1.tgz
npm http fetch GET http://192.168.1.100:4873/caller-path/-/caller-path-0.1.0.tgz
npm http fetch 200 http://192.168.1.100:4873/resolve-from/-/resolve-from-1.0.1.tgz
npm http fetch 200 http://192.168.1.100:4873/caller-path/-/caller-path-0.1.0.tgz
npm http request GET http://192.168.1.100:4873/callsites
npm http 200 http://192.168.1.100:4873/callsites
npm http fetch GET http://192.168.1.100:4873/callsites/-/callsites-0.2.0.tgz
npm http fetch 200 http://192.168.1.100:4873/callsites/-/callsites-0.2.0.tgz
npm http request GET http://192.168.1.100:4873/interpret
npm http request GET http://192.168.1.100:4873/rechoir
npm http 304 http://192.168.1.100:4873/rechoir
npm http 200 http://192.168.1.100:4873/interpret
npm http request GET http://192.168.1.100:4873/resolve
npm http 200 http://192.168.1.100:4873/resolve
npm http fetch GET http://192.168.1.100:4873/resolve/-/resolve-1.2.0.tgz
npm http fetch 200 http://192.168.1.100:4873/resolve/-/resolve-1.2.0.tgz
npm http request GET http://192.168.1.100:4873/ajv
npm http request GET http://192.168.1.100:4873/ajv-keywords
npm http request GET http://192.168.1.100:4873/slice-ansi
npm http fetch GET http://192.168.1.100:4873/string-width/-/string-width-2.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/string-width/-/string-width-2.0.0.tgz
npm http 200 http://192.168.1.100:4873/slice-ansi
npm http 200 http://192.168.1.100:4873/ajv-keywords
npm http fetch GET http://192.168.1.100:4873/slice-ansi/-/slice-ansi-0.0.4.tgz
npm http fetch GET http://192.168.1.100:4873/ajv-keywords/-/ajv-keywords-1.5.0.tgz
npm http fetch 200 http://192.168.1.100:4873/slice-ansi/-/slice-ansi-0.0.4.tgz
npm http fetch 200 http://192.168.1.100:4873/ajv-keywords/-/ajv-keywords-1.5.0.tgz
npm http 200 http://192.168.1.100:4873/ajv
npm http fetch GET http://192.168.1.100:4873/ajv/-/ajv-4.10.3.tgz
npm http fetch 200 http://192.168.1.100:4873/ajv/-/ajv-4.10.3.tgz
npm http request GET http://192.168.1.100:4873/co
npm http 200 http://192.168.1.100:4873/co
npm http fetch GET http://192.168.1.100:4873/co/-/co-4.6.0.tgz
npm http fetch 200 http://192.168.1.100:4873/co/-/co-4.6.0.tgz
npm http fetch GET http://192.168.1.100:4873/is-fullwidth-code-point/-/is-fullwidth-code-point-2.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/is-fullwidth-code-point/-/is-fullwidth-code-point-2.0.0.tgz
npm http request GET http://192.168.1.100:4873/os-homedir
npm http 304 http://192.168.1.100:4873/os-homedir
npm http request GET http://192.168.1.100:4873/catharsis
npm http request GET http://192.168.1.100:4873/js2xmlparser
npm http request GET http://192.168.1.100:4873/marked
npm http request GET http://192.168.1.100:4873/requizzle
npm http request GET http://192.168.1.100:4873/underscore
npm http request GET http://192.168.1.100:4873/wrench
npm http request GET http://192.168.1.100:4873/async
npm http fetch GET https://github.com/hegemonic/taffydb/tarball/7d100bcee0e997ee4977e273cdce60bd8933050e
npm http 200 http://192.168.1.100:4873/js2xmlparser
npm http 200 http://192.168.1.100:4873/marked
npm http 200 http://192.168.1.100:4873/requizzle
npm http 200 http://192.168.1.100:4873/catharsis
npm http 200 http://192.168.1.100:4873/underscore
npm http 304 http://192.168.1.100:4873/async
npm http 200 http://192.168.1.100:4873/wrench
npm WARN deprecated wrench@1.5.9: wrench.js is deprecated! You should check out fs-extra (https://github.com/jprichardson/node-fs-extra) for any operations you were using wrench for. Thanks for all the usage over the years.
npm http fetch 200 https://github.com/hegemonic/taffydb/tarball/7d100bcee0e997ee4977e273cdce60bd8933050e
npm http request GET http://192.168.1.100:4873/underscore-contrib
npm http 200 http://192.168.1.100:4873/underscore-contrib
npm WARN prefer global marked@0.3.6 should be installed with -g
npm WARN install@0.0.1 No repository field.
npm http request GET http://192.168.1.100:4873/stacky
npm http request GET http://192.168.1.100:4873/balanced-match
npm http request GET http://192.168.1.100:4873/bluebird
npm http request GET http://192.168.1.100:4873/body-parser
npm http request GET http://192.168.1.100:4873/bn.js
npm http request GET http://192.168.1.100:4873/child-process-promise
npm http request GET http://192.168.1.100:4873/concat-map
npm http request GET http://192.168.1.100:4873/express
npm http request GET http://192.168.1.100:4873/inherits
npm http request GET http://192.168.1.100:4873/is-property
npm http request GET http://192.168.1.100:4873/express-pouchdb
npm http request GET http://192.168.1.100:4873/js-extend
npm http request GET http://192.168.1.100:4873/leveldown-mobile
npm http request GET http://192.168.1.100:4873/long
npm http request GET http://192.168.1.100:4873/minimist
npm http request GET http://192.168.1.100:4873/multiplex
npm http request GET http://192.168.1.100:4873/node-uuid
npm http request GET http://192.168.1.100:4873/object-assign
npm http request GET http://192.168.1.100:4873/pouchdb-size
npm http request GET http://192.168.1.100:4873/randomstring
npm http request GET http://192.168.1.100:4873/pouchdb
npm http request GET http://192.168.1.100:4873/proxyquire
npm http request GET http://192.168.1.100:4873/nock
npm http request GET http://192.168.1.100:4873/request
npm http request GET http://192.168.1.100:4873/request-promise
npm http request GET http://192.168.1.100:4873/socket.io-client
npm http request GET http://192.168.1.100:4873/sinon
npm http request GET http://192.168.1.100:4873/supertest
npm http request GET http://192.168.1.100:4873/supertest-as-promised
npm http request GET http://192.168.1.100:4873/tape
npm http request GET http://192.168.1.100:4873/tape-catch
npm http request GET http://192.168.1.100:4873/tmp
npm http request GET http://192.168.1.100:4873/urlsafe-base64
npm http request GET http://192.168.1.100:4873/uuid
npm http request GET http://192.168.1.100:4873/uuid-validate
npm http 200 http://192.168.1.100:4873/stacky
npm http 304 http://192.168.1.100:4873/balanced-match
npm http 304 http://192.168.1.100:4873/bluebird
npm http 304 http://192.168.1.100:4873/body-parser
npm http 304 http://192.168.1.100:4873/child-process-promise
npm http 304 http://192.168.1.100:4873/concat-map
npm http 304 http://192.168.1.100:4873/inherits
npm http 200 http://192.168.1.100:4873/bn.js
npm http fetch GET http://192.168.1.100:4873/stacky/-/stacky-1.3.1.tgz
npm http 304 http://192.168.1.100:4873/express
npm http 304 http://192.168.1.100:4873/is-property
npm http 200 http://192.168.1.100:4873/js-extend
npm http 304 http://192.168.1.100:4873/long
npm http 304 http://192.168.1.100:4873/minimist
npm http 304 http://192.168.1.100:4873/multiplex
npm http 304 http://192.168.1.100:4873/node-uuid
npm http 304 http://192.168.1.100:4873/object-assign
npm http 200 http://192.168.1.100:4873/express-pouchdb
npm http 200 http://192.168.1.100:4873/leveldown-mobile
npm http 304 http://192.168.1.100:4873/randomstring
npm http 200 http://192.168.1.100:4873/pouchdb-size
npm http 200 http://192.168.1.100:4873/proxyquire
npm http 304 http://192.168.1.100:4873/request
npm http 304 http://192.168.1.100:4873/socket.io-client
npm http fetch GET http://192.168.1.100:4873/express-pouchdb/-/express-pouchdb-1.0.6-thali.tgz
npm http 304 http://192.168.1.100:4873/urlsafe-base64
npm http 200 http://192.168.1.100:4873/supertest
npm http 200 http://192.168.1.100:4873/tape-catch
npm http fetch 200 http://192.168.1.100:4873/stacky/-/stacky-1.3.1.tgz
npm http 304 http://192.168.1.100:4873/uuid
npm http 200 http://192.168.1.100:4873/supertest-as-promised
npm http fetch 200 http://192.168.1.100:4873/express-pouchdb/-/express-pouchdb-1.0.6-thali.tgz
npm http 200 http://192.168.1.100:4873/pouchdb
npm http 200 http://192.168.1.100:4873/request-promise
npm http 200 http://192.168.1.100:4873/uuid-validate
npm http 200 http://192.168.1.100:4873/tmp
npm http 200 http://192.168.1.100:4873/tape
npm http fetch GET http://192.168.1.100:4873/pouchdb/-/pouchdb-6.2.0-prerelease-thali.tgz
npm http 200 http://192.168.1.100:4873/sinon
npm http fetch 200 http://192.168.1.100:4873/pouchdb/-/pouchdb-6.2.0-prerelease-thali.tgz
npm http 200 http://192.168.1.100:4873/nock
npm http request GET http://192.168.1.100:4873/bytes
npm http request GET http://192.168.1.100:4873/content-type
npm http request GET http://192.168.1.100:4873/debug
npm http request GET http://192.168.1.100:4873/depd
npm http request GET http://192.168.1.100:4873/http-errors
npm http request GET http://192.168.1.100:4873/iconv-lite
npm http request GET http://192.168.1.100:4873/on-finished
npm http request GET http://192.168.1.100:4873/qs
npm http request GET http://192.168.1.100:4873/raw-body
npm http request GET http://192.168.1.100:4873/type-is
npm http 304 http://192.168.1.100:4873/bytes
npm http 304 http://192.168.1.100:4873/content-type
npm http 304 http://192.168.1.100:4873/debug
npm http 304 http://192.168.1.100:4873/depd
npm http 304 http://192.168.1.100:4873/http-errors
npm http 304 http://192.168.1.100:4873/iconv-lite
npm http 304 http://192.168.1.100:4873/on-finished
npm http 304 http://192.168.1.100:4873/qs
npm http 304 http://192.168.1.100:4873/raw-body
npm http 304 http://192.168.1.100:4873/type-is
npm http request GET http://192.168.1.100:4873/ms
npm http 304 http://192.168.1.100:4873/ms
npm http request GET http://192.168.1.100:4873/statuses
npm http 304 http://192.168.1.100:4873/statuses
npm http request GET http://192.168.1.100:4873/ee-first
npm http 304 http://192.168.1.100:4873/ee-first
npm http request GET http://192.168.1.100:4873/unpipe
npm http 304 http://192.168.1.100:4873/unpipe
npm http request GET http://192.168.1.100:4873/media-typer
npm http request GET http://192.168.1.100:4873/mime-types
npm http 304 http://192.168.1.100:4873/media-typer
npm http 304 http://192.168.1.100:4873/mime-types
npm http request GET http://192.168.1.100:4873/mime-db
npm http 304 http://192.168.1.100:4873/mime-db
npm http request GET http://192.168.1.100:4873/accepts
npm http request GET http://192.168.1.100:4873/array-flatten
npm http request GET http://192.168.1.100:4873/content-disposition
npm http request GET http://192.168.1.100:4873/cookie
npm http request GET http://192.168.1.100:4873/cookie-signature
npm http request GET http://192.168.1.100:4873/escape-html
npm http request GET http://192.168.1.100:4873/etag
npm http request GET http://192.168.1.100:4873/finalhandler
npm http request GET http://192.168.1.100:4873/fresh
npm http request GET http://192.168.1.100:4873/merge-descriptors
npm http request GET http://192.168.1.100:4873/methods
npm http request GET http://192.168.1.100:4873/parseurl
npm http request GET http://192.168.1.100:4873/path-to-regexp
npm http request GET http://192.168.1.100:4873/proxy-addr
npm http request GET http://192.168.1.100:4873/range-parser
npm http request GET http://192.168.1.100:4873/send
npm http request GET http://192.168.1.100:4873/serve-static
npm http request GET http://192.168.1.100:4873/utils-merge
npm http request GET http://192.168.1.100:4873/vary
npm http 304 http://192.168.1.100:4873/accepts
npm http 304 http://192.168.1.100:4873/array-flatten
npm http 304 http://192.168.1.100:4873/content-disposition
npm http 304 http://192.168.1.100:4873/cookie
npm http 304 http://192.168.1.100:4873/cookie-signature
npm http 304 http://192.168.1.100:4873/escape-html
npm http 304 http://192.168.1.100:4873/etag
npm http 304 http://192.168.1.100:4873/finalhandler
npm http 304 http://192.168.1.100:4873/fresh
npm http 304 http://192.168.1.100:4873/merge-descriptors
npm http 304 http://192.168.1.100:4873/parseurl
npm http 304 http://192.168.1.100:4873/methods
npm http 304 http://192.168.1.100:4873/range-parser
npm http 304 http://192.168.1.100:4873/path-to-regexp
npm http 304 http://192.168.1.100:4873/proxy-addr
npm http 304 http://192.168.1.100:4873/send
npm http 304 http://192.168.1.100:4873/serve-static
npm http 304 http://192.168.1.100:4873/utils-merge
npm http 304 http://192.168.1.100:4873/vary
npm http request GET http://192.168.1.100:4873/negotiator
npm http 304 http://192.168.1.100:4873/negotiator
npm http request GET http://192.168.1.100:4873/forwarded
npm http request GET http://192.168.1.100:4873/ipaddr.js
npm http 304 http://192.168.1.100:4873/ipaddr.js
npm http 304 http://192.168.1.100:4873/forwarded
npm http request GET http://192.168.1.100:4873/destroy
npm http request GET http://192.168.1.100:4873/mime
npm http 304 http://192.168.1.100:4873/destroy
npm http 304 http://192.168.1.100:4873/mime
npm http request GET http://192.168.1.100:4873/basic-auth
npm http request GET http://192.168.1.100:4873/cookie-parser
npm http request GET http://192.168.1.100:4873/extend
npm http request GET http://192.168.1.100:4873/compression
npm http request GET http://192.168.1.100:4873/header-case-normalizer
npm http request GET http://192.168.1.100:4873/multiparty
npm http request GET http://192.168.1.100:4873/pouchdb-all-dbs
npm http request GET http://192.168.1.100:4873/pouchdb-auth
npm http request GET http://192.168.1.100:4873/pouchdb-find
npm http request GET http://192.168.1.100:4873/pouchdb-list
npm http request GET http://192.168.1.100:4873/pouchdb-replicator
npm http request GET http://192.168.1.100:4873/pouchdb-update
npm http request GET http://192.168.1.100:4873/pouchdb-vhost
npm http request GET http://192.168.1.100:4873/pouchdb-show
npm http request GET http://192.168.1.100:4873/pouchdb-wrappers
npm http request GET http://192.168.1.100:4873/pouchdb-rewrite
npm http request GET http://192.168.1.100:4873/pouchdb-security
npm http request GET http://192.168.1.100:4873/pouchdb-validation
npm http 304 http://192.168.1.100:4873/extend
npm http 200 http://192.168.1.100:4873/basic-auth
npm http 200 http://192.168.1.100:4873/cookie-parser
npm http 200 http://192.168.1.100:4873/header-case-normalizer
npm http 200 http://192.168.1.100:4873/compression
npm http 200 http://192.168.1.100:4873/pouchdb-all-dbs
npm http 200 http://192.168.1.100:4873/pouchdb-list
npm http 200 http://192.168.1.100:4873/multiparty
npm http 200 http://192.168.1.100:4873/pouchdb-auth
npm http 200 http://192.168.1.100:4873/pouchdb-find
npm http 200 http://192.168.1.100:4873/pouchdb-replicator
npm http 200 http://192.168.1.100:4873/pouchdb-vhost
npm http 200 http://192.168.1.100:4873/pouchdb-update
npm http 200 http://192.168.1.100:4873/pouchdb-show
npm http 200 http://192.168.1.100:4873/pouchdb-wrappers
npm http 200 http://192.168.1.100:4873/pouchdb-rewrite
npm http 200 http://192.168.1.100:4873/pouchdb-security
npm http 200 http://192.168.1.100:4873/pouchdb-validation
npm http request GET http://192.168.1.100:4873/setprototypeof
npm http 304 http://192.168.1.100:4873/setprototypeof
npm http request GET http://192.168.1.100:4873/on-headers
npm http request GET http://192.168.1.100:4873/compressible
npm http 304 http://192.168.1.100:4873/on-headers
npm http 200 http://192.168.1.100:4873/compressible
npm http request GET http://192.168.1.100:4873/readable-stream
npm http request GET http://192.168.1.100:4873/stream-counter
npm http 304 http://192.168.1.100:4873/readable-stream
npm http 200 http://192.168.1.100:4873/stream-counter
npm http request GET http://192.168.1.100:4873/es3ify
npm http request GET http://192.168.1.100:4873/argsarray
npm http request GET http://192.168.1.100:4873/pouchdb-promise
npm http request GET http://192.168.1.100:4873/tiny-queue
npm http 200 http://192.168.1.100:4873/argsarray
npm http 304 http://192.168.1.100:4873/es3ify
npm http 200 http://192.168.1.100:4873/tiny-queue
npm http 200 http://192.168.1.100:4873/pouchdb-promise
npm http request GET http://192.168.1.100:4873/esprima-fb
npm http request GET http://192.168.1.100:4873/jstransform
npm http 304 http://192.168.1.100:4873/esprima-fb
npm http 304 http://192.168.1.100:4873/jstransform
npm http request GET http://192.168.1.100:4873/base62
npm http request GET http://192.168.1.100:4873/source-map
npm http 304 http://192.168.1.100:4873/base62
npm http 304 http://192.168.1.100:4873/source-map
npm http request GET http://192.168.1.100:4873/couchdb-calculate-session-id
npm http request GET http://192.168.1.100:4873/base64url
npm http request GET http://192.168.1.100:4873/crypto-lite
npm http request GET http://192.168.1.100:4873/pouchdb-bulkdocs-wrapper
npm http request GET http://192.168.1.100:4873/pouchdb-plugin-error
npm http request GET http://192.168.1.100:4873/pouchdb-req-http-query
npm http request GET http://192.168.1.100:4873/promise-nodify
npm http request GET http://192.168.1.100:4873/pouchdb-system-db
npm http request GET http://192.168.1.100:4873/secure-random
npm http 200 http://192.168.1.100:4873/base64url
npm http 200 http://192.168.1.100:4873/couchdb-calculate-session-id
npm http 200 http://192.168.1.100:4873/pouchdb-bulkdocs-wrapper
npm http 200 http://192.168.1.100:4873/crypto-lite
npm http 200 http://192.168.1.100:4873/pouchdb-plugin-error
npm http 200 http://192.168.1.100:4873/promise-nodify
npm http 200 http://192.168.1.100:4873/pouchdb-system-db
npm http 200 http://192.168.1.100:4873/secure-random
npm http 200 http://192.168.1.100:4873/pouchdb-req-http-query
npm http request GET http://192.168.1.100:4873/concat-stream
npm http request GET http://192.168.1.100:4873/meow
npm http 304 http://192.168.1.100:4873/concat-stream
npm http 200 http://192.168.1.100:4873/meow
npm http request GET http://192.168.1.100:4873/typedarray
npm http 304 http://192.168.1.100:4873/typedarray
npm http request GET http://192.168.1.100:4873/camelcase-keys
npm http request GET http://192.168.1.100:4873/indent-string
npm http 200 http://192.168.1.100:4873/camelcase-keys
npm http 200 http://192.168.1.100:4873/indent-string
npm http request GET http://192.168.1.100:4873/camelcase
npm http request GET http://192.168.1.100:4873/map-obj
npm http 200 http://192.168.1.100:4873/map-obj
npm http 200 http://192.168.1.100:4873/camelcase
npm http request GET http://192.168.1.100:4873/repeating
npm http request GET http://192.168.1.100:4873/get-stdin
npm http 200 http://192.168.1.100:4873/get-stdin
npm http 304 http://192.168.1.100:4873/repeating
npm http request GET http://192.168.1.100:4873/is-finite
npm http 304 http://192.168.1.100:4873/is-finite
npm http request GET http://192.168.1.100:4873/number-is-nan
npm http 304 http://192.168.1.100:4873/number-is-nan
npm http request GET http://192.168.1.100:4873/aproba
npm http 200 http://192.168.1.100:4873/aproba
npm http request GET http://192.168.1.100:4873/level-write-stream
npm http request GET http://192.168.1.100:4873/fruitdown
npm http request GET http://192.168.1.100:4873/localstorage-down
npm http request GET http://192.168.1.100:4873/pouchdb-collate
npm http request GET http://192.168.1.100:4873/pouchdb-collections
npm http request GET http://192.168.1.100:4873/spark-md5
npm http request GET http://192.168.1.100:4873/through2
npm http request GET http://192.168.1.100:4873/double-ended-queue
npm http request GET http://192.168.1.100:4873/vuvuzela
npm http request GET http://192.168.1.100:4873/es6-promise-pool
npm http request GET http://192.168.1.100:4873/levelup
npm http request GET http://192.168.1.100:4873/memdown
npm http request GET http://192.168.1.100:4873/sublevel-pouchdb
npm http request GET http://192.168.1.100:4873/scope-eval
npm http 200 http://192.168.1.100:4873/level-write-stream
npm http 200 http://192.168.1.100:4873/fruitdown
npm http 200 http://192.168.1.100:4873/localstorage-down
npm http 200 http://192.168.1.100:4873/pouchdb-collections
npm http 200 http://192.168.1.100:4873/pouchdb-collate
npm http 304 http://192.168.1.100:4873/through2
npm http 200 http://192.168.1.100:4873/spark-md5
npm http 200 http://192.168.1.100:4873/double-ended-queue
npm http 200 http://192.168.1.100:4873/vuvuzela
npm http 200 http://192.168.1.100:4873/es6-promise-pool
npm http 200 http://192.168.1.100:4873/sublevel-pouchdb
npm http 200 http://192.168.1.100:4873/memdown
npm http 200 http://192.168.1.100:4873/levelup
npm http 200 http://192.168.1.100:4873/scope-eval
npm http request GET http://192.168.1.100:4873/d64
npm http request GET http://192.168.1.100:4873/abstract-leveldown
npm http 200 http://192.168.1.100:4873/d64
npm http 200 http://192.168.1.100:4873/abstract-leveldown
npm http request GET http://192.168.1.100:4873/xtend
npm http 304 http://192.168.1.100:4873/xtend
npm http request GET http://192.168.1.100:4873/end-stream
npm http 200 http://192.168.1.100:4873/end-stream
npm http request GET http://192.168.1.100:4873/write-stream
npm http 200 http://192.168.1.100:4873/write-stream
npm http request GET http://192.168.1.100:4873/deferred-leveldown
npm http request GET http://192.168.1.100:4873/level-codec
npm http request GET http://192.168.1.100:4873/level-errors
npm http request GET http://192.168.1.100:4873/level-iterator-stream
npm http request GET http://192.168.1.100:4873/prr
npm http request GET http://192.168.1.100:4873/semver
npm http 200 http://192.168.1.100:4873/level-iterator-stream
npm http 200 http://192.168.1.100:4873/level-errors
npm http 200 http://192.168.1.100:4873/level-codec
npm http 200 http://192.168.1.100:4873/prr
npm http 200 http://192.168.1.100:4873/deferred-leveldown
npm http 200 http://192.168.1.100:4873/semver
npm http request GET http://192.168.1.100:4873/errno
npm http 200 http://192.168.1.100:4873/errno
npm http request GET http://192.168.1.100:4873/humble-localstorage
npm http 200 http://192.168.1.100:4873/humble-localstorage
npm http request GET http://192.168.1.100:4873/localstorage-memory
npm http request GET http://192.168.1.100:4873/has-localstorage
npm http 200 http://192.168.1.100:4873/localstorage-memory
npm http 200 http://192.168.1.100:4873/has-localstorage
npm http request GET http://192.168.1.100:4873/ltgt
npm http request GET http://192.168.1.100:4873/functional-red-black-tree
npm http 200 http://192.168.1.100:4873/functional-red-black-tree
npm http 200 http://192.168.1.100:4873/ltgt
npm http request GET http://192.168.1.100:4873/aws-sign2
npm http request GET http://192.168.1.100:4873/aws4
npm http request GET http://192.168.1.100:4873/bl
npm http request GET http://192.168.1.100:4873/caseless
npm http request GET http://192.168.1.100:4873/combined-stream
npm http request GET http://192.168.1.100:4873/form-data
npm http request GET http://192.168.1.100:4873/har-validator
npm http request GET http://192.168.1.100:4873/hawk
npm http request GET http://192.168.1.100:4873/http-signature
npm http request GET http://192.168.1.100:4873/is-typedarray
npm http request GET http://192.168.1.100:4873/isstream
npm http request GET http://192.168.1.100:4873/json-stringify-safe
npm http request GET http://192.168.1.100:4873/oauth-sign
npm http request GET http://192.168.1.100:4873/stringstream
npm http request GET http://192.168.1.100:4873/tough-cookie
npm http request GET http://192.168.1.100:4873/tunnel-agent
npm http 304 http://192.168.1.100:4873/aws-sign2
npm http 304 http://192.168.1.100:4873/aws4
npm http 304 http://192.168.1.100:4873/bl
npm http 304 http://192.168.1.100:4873/caseless
npm http 304 http://192.168.1.100:4873/combined-stream
npm http 304 http://192.168.1.100:4873/form-data
npm http 304 http://192.168.1.100:4873/har-validator
npm http 304 http://192.168.1.100:4873/hawk
npm http 304 http://192.168.1.100:4873/http-signature
npm http 304 http://192.168.1.100:4873/is-typedarray
npm http 304 http://192.168.1.100:4873/isstream
npm http 304 http://192.168.1.100:4873/json-stringify-safe
npm http 304 http://192.168.1.100:4873/oauth-sign
npm http 304 http://192.168.1.100:4873/stringstream
npm http 304 http://192.168.1.100:4873/tough-cookie
npm WARN deprecated tough-cookie@2.2.2: ReDoS vulnerability parsing Set-Cookie https://nodesecurity.io/advisories/130
npm http 304 http://192.168.1.100:4873/tunnel-agent
npm http request GET http://192.168.1.100:4873/isarray
npm http request GET http://192.168.1.100:4873/process-nextick-args
npm http request GET http://192.168.1.100:4873/util-deprecate
npm http 304 http://192.168.1.100:4873/process-nextick-args
npm http 304 http://192.168.1.100:4873/isarray
npm http 304 http://192.168.1.100:4873/util-deprecate
npm http request GET http://192.168.1.100:4873/delayed-stream
npm http 304 http://192.168.1.100:4873/delayed-stream
npm http request GET http://192.168.1.100:4873/async
npm http 304 http://192.168.1.100:4873/async
npm http request GET http://192.168.1.100:4873/lodash
npm http 304 http://192.168.1.100:4873/lodash
npm http request GET http://192.168.1.100:4873/chalk
npm http request GET http://192.168.1.100:4873/is-my-json-valid
npm http request GET http://192.168.1.100:4873/pinkie-promise
npm http 304 http://192.168.1.100:4873/chalk
npm http 304 http://192.168.1.100:4873/pinkie-promise
npm http 304 http://192.168.1.100:4873/is-my-json-valid
npm http request GET http://192.168.1.100:4873/ansi-styles
npm http request GET http://192.168.1.100:4873/escape-string-regexp
npm http request GET http://192.168.1.100:4873/has-ansi
npm http request GET http://192.168.1.100:4873/strip-ansi
npm http request GET http://192.168.1.100:4873/supports-color
npm http 304 http://192.168.1.100:4873/ansi-styles
npm http 304 http://192.168.1.100:4873/has-ansi
npm http 304 http://192.168.1.100:4873/escape-string-regexp
npm http 304 http://192.168.1.100:4873/strip-ansi
npm http 304 http://192.168.1.100:4873/supports-color
npm http request GET http://192.168.1.100:4873/ansi-regex
npm http 304 http://192.168.1.100:4873/ansi-regex
npm http request GET http://192.168.1.100:4873/generate-function
npm http request GET http://192.168.1.100:4873/generate-object-property
npm http request GET http://192.168.1.100:4873/jsonpointer
npm http 304 http://192.168.1.100:4873/generate-function
npm http 304 http://192.168.1.100:4873/jsonpointer
npm http 304 http://192.168.1.100:4873/generate-object-property
npm http request GET http://192.168.1.100:4873/pinkie
npm http 304 http://192.168.1.100:4873/pinkie
npm http request GET http://192.168.1.100:4873/hoek
npm http request GET http://192.168.1.100:4873/boom
npm http request GET http://192.168.1.100:4873/cryptiles
npm http request GET http://192.168.1.100:4873/sntp
npm http 304 http://192.168.1.100:4873/hoek
npm http 304 http://192.168.1.100:4873/boom
npm http 304 http://192.168.1.100:4873/cryptiles
npm http 304 http://192.168.1.100:4873/sntp
npm http request GET http://192.168.1.100:4873/assert-plus
npm http request GET http://192.168.1.100:4873/jsprim
npm http request GET http://192.168.1.100:4873/sshpk
npm http 304 http://192.168.1.100:4873/assert-plus
npm http 304 http://192.168.1.100:4873/jsprim
npm http 304 http://192.168.1.100:4873/sshpk
npm http request GET http://192.168.1.100:4873/extsprintf
npm http request GET http://192.168.1.100:4873/json-schema
npm http request GET http://192.168.1.100:4873/verror
npm http 304 http://192.168.1.100:4873/extsprintf
npm http 304 http://192.168.1.100:4873/json-schema
npm http 304 http://192.168.1.100:4873/verror
npm http request GET http://192.168.1.100:4873/asn1
npm http request GET http://192.168.1.100:4873/dashdash
npm http request GET http://192.168.1.100:4873/getpass
npm http 304 http://192.168.1.100:4873/asn1
npm http 304 http://192.168.1.100:4873/dashdash
npm http 304 http://192.168.1.100:4873/getpass
npm http request GET http://192.168.1.100:4873/pull-stream
npm http 200 http://192.168.1.100:4873/pull-stream
npm http request GET http://192.168.1.100:4873/pull-core
npm http 200 http://192.168.1.100:4873/pull-core
npm http request GET http://192.168.1.100:4873/lie
npm http request GET http://192.168.1.100:4873/bluebird
npm http 304 http://192.168.1.100:4873/lie
npm http 304 http://192.168.1.100:4873/bluebird
npm http request GET http://192.168.1.100:4873/xmlhttprequest-cookie
npm http 200 http://192.168.1.100:4873/xmlhttprequest-cookie
npm http request GET http://192.168.1.100:4873/xmlhttprequest
npm http 200 http://192.168.1.100:4873/xmlhttprequest
npm http request GET http://192.168.1.100:4873/pouchdb-changeslike-wrapper
npm http 200 http://192.168.1.100:4873/pouchdb-changeslike-wrapper
npm http request GET http://192.168.1.100:4873/couchdb-objects
npm http request GET http://192.168.1.100:4873/couchdb-eval
npm http request GET http://192.168.1.100:4873/random-uuid-v4
npm http 200 http://192.168.1.100:4873/random-uuid-v4
npm http 200 http://192.168.1.100:4873/couchdb-eval
npm http 200 http://192.168.1.100:4873/couchdb-objects
npm http request GET http://192.168.1.100:4873/is-empty
npm http 200 http://192.168.1.100:4873/is-empty
npm http request GET http://192.168.1.100:4873/is-array
npm http request GET http://192.168.1.100:4873/pouchdb-extend
npm http request GET http://192.168.1.100:4873/pouchdb-upsert
npm http 200 http://192.168.1.100:4873/is-array
npm http 200 http://192.168.1.100:4873/pouchdb-extend
npm http 200 http://192.168.1.100:4873/pouchdb-upsert
npm http request GET http://192.168.1.100:4873/unreachable-branch-transform
npm http 304 http://192.168.1.100:4873/unreachable-branch-transform
npm http request GET http://192.168.1.100:4873/recast
npm http 304 http://192.168.1.100:4873/recast
npm http request GET http://192.168.1.100:4873/ast-types
npm http 304 http://192.168.1.100:4873/ast-types
npm http request GET http://192.168.1.100:4873/couchdb-render
npm http request GET http://192.168.1.100:4873/extend
npm http 304 http://192.168.1.100:4873/extend
npm http 200 http://192.168.1.100:4873/couchdb-render
npm http request GET http://192.168.1.100:4873/couchdb-resp-completer
npm http 200 http://192.168.1.100:4873/couchdb-resp-completer
npm http request GET http://192.168.1.100:4873/pouchdb-promise
npm http request GET http://192.168.1.100:4873/equals
npm http 304 http://192.168.1.100:4873/pouchdb-promise
npm http 200 http://192.168.1.100:4873/equals
npm http request GET http://192.168.1.100:4873/jkroso-type
npm http 200 http://192.168.1.100:4873/jkroso-type
npm http request GET http://192.168.1.100:4873/pouchdb-route
npm http 200 http://192.168.1.100:4873/pouchdb-route
npm http request GET http://192.168.1.100:4873/get-folder-size
npm http 200 http://192.168.1.100:4873/get-folder-size
npm http request GET http://192.168.1.100:4873/minimist
npm http 304 http://192.168.1.100:4873/minimist
npm http request GET http://192.168.1.100:4873/bindings
npm http request GET http://192.168.1.100:4873/fast-future
npm http 200 http://192.168.1.100:4873/bindings
npm http 200 http://192.168.1.100:4873/fast-future
npm http fetch GET http://192.168.1.100:4873/fast-future/-/fast-future-1.0.2.tgz
npm http fetch 200 http://192.168.1.100:4873/fast-future/-/fast-future-1.0.2.tgz
npm http request GET http://192.168.1.100:4873/duplexify
npm http request GET http://192.168.1.100:4873/varint
npm http request GET http://192.168.1.100:4873/readable-stream
npm http 304 http://192.168.1.100:4873/duplexify
npm http 304 http://192.168.1.100:4873/readable-stream
npm http 304 http://192.168.1.100:4873/varint
npm http request GET http://192.168.1.100:4873/end-of-stream
npm http request GET http://192.168.1.100:4873/stream-shift
npm http 304 http://192.168.1.100:4873/end-of-stream
npm http 304 http://192.168.1.100:4873/stream-shift
npm http request GET http://192.168.1.100:4873/once
npm http 304 http://192.168.1.100:4873/once
npm http request GET http://192.168.1.100:4873/buffer-shims
npm http 304 http://192.168.1.100:4873/buffer-shims
npm http request GET http://192.168.1.100:4873/debug
npm http request GET http://192.168.1.100:4873/propagate
npm http request GET http://192.168.1.100:4873/chai
npm http request GET http://192.168.1.100:4873/deep-equal
npm WARN deprecated lodash@2.4.1: lodash@<3.0.0 is no longer maintained. Upgrade to lodash@^4.0.0.
npm http 304 http://192.168.1.100:4873/debug
npm http 200 http://192.168.1.100:4873/deep-equal
npm http 200 http://192.168.1.100:4873/propagate
npm http 200 http://192.168.1.100:4873/chai
npm http request GET http://192.168.1.100:4873/assertion-error
npm http request GET http://192.168.1.100:4873/deep-eql
npm http request GET http://192.168.1.100:4873/type-detect
npm http 200 http://192.168.1.100:4873/type-detect
npm http 200 http://192.168.1.100:4873/assertion-error
npm http 200 http://192.168.1.100:4873/deep-eql
npm http request GET http://192.168.1.100:4873/ms
npm http 304 http://192.168.1.100:4873/ms
npm http request GET http://192.168.1.100:4873/ip
npm http 304 http://192.168.1.100:4873/ip
npm http request GET http://192.168.1.100:4873/buffer-from
npm http request GET http://192.168.1.100:4873/clone-buffer
npm http request GET http://192.168.1.100:4873/double-ended-queue
npm http request GET http://192.168.1.100:4873/inherits
npm http request GET http://192.168.1.100:4873/level-codec
npm http request GET http://192.168.1.100:4873/levelup
npm http request GET http://192.168.1.100:4873/leveldown
npm http request GET http://192.168.1.100:4873/request
npm http request GET http://192.168.1.100:4873/spark-md5
npm http fetch GET http://192.168.1.100:4873/debug/-/debug-2.4.1.tgz
npm http 200 http://192.168.1.100:4873/clone-buffer
npm http 200 http://192.168.1.100:4873/buffer-from
npm http fetch GET http://192.168.1.100:4873/clone-buffer/-/clone-buffer-1.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/buffer-from/-/buffer-from-0.1.1.tgz
npm http 304 http://192.168.1.100:4873/double-ended-queue
npm http 304 http://192.168.1.100:4873/inherits
npm http fetch GET http://192.168.1.100:4873/double-ended-queue/-/double-ended-queue-2.1.0-0.tgz
npm http 304 http://192.168.1.100:4873/level-codec
npm http fetch 200 http://192.168.1.100:4873/debug/-/debug-2.4.1.tgz
npm http fetch GET http://192.168.1.100:4873/level-codec/-/level-codec-6.2.0.tgz
npm http fetch 200 http://192.168.1.100:4873/clone-buffer/-/clone-buffer-1.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/buffer-from/-/buffer-from-0.1.1.tgz
npm http fetch 200 http://192.168.1.100:4873/double-ended-queue/-/double-ended-queue-2.1.0-0.tgz
npm http fetch 200 http://192.168.1.100:4873/level-codec/-/level-codec-6.2.0.tgz
npm http 304 http://192.168.1.100:4873/levelup
npm http fetch GET http://192.168.1.100:4873/levelup/-/levelup-1.3.3.tgz
npm http fetch 200 http://192.168.1.100:4873/levelup/-/levelup-1.3.3.tgz
npm http 200 http://192.168.1.100:4873/leveldown
npm http 304 http://192.168.1.100:4873/spark-md5
npm http 304 http://192.168.1.100:4873/request
npm http fetch GET http://192.168.1.100:4873/spark-md5/-/spark-md5-3.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/leveldown/-/leveldown-1.5.0.tgz
npm http fetch 200 http://192.168.1.100:4873/spark-md5/-/spark-md5-3.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/leveldown/-/leveldown-1.5.0.tgz
npm http request GET http://192.168.1.100:4873/is-array-buffer-x
npm http 200 http://192.168.1.100:4873/is-array-buffer-x
npm http fetch GET http://192.168.1.100:4873/is-array-buffer-x/-/is-array-buffer-x-1.0.13.tgz
npm http fetch 200 http://192.168.1.100:4873/is-array-buffer-x/-/is-array-buffer-x-1.0.13.tgz
npm http request GET http://192.168.1.100:4873/is-object-like-x
npm http request GET http://192.168.1.100:4873/to-string-tag-x
npm http request GET http://192.168.1.100:4873/has-to-string-tag-x
npm http 200 http://192.168.1.100:4873/to-string-tag-x
npm http 200 http://192.168.1.100:4873/is-object-like-x
npm http 200 http://192.168.1.100:4873/has-to-string-tag-x
npm http fetch GET http://192.168.1.100:4873/to-string-tag-x/-/to-string-tag-x-1.0.11.tgz
npm http fetch GET http://192.168.1.100:4873/is-object-like-x/-/is-object-like-x-1.0.11.tgz
npm http fetch GET http://192.168.1.100:4873/has-to-string-tag-x/-/has-to-string-tag-x-1.0.10.tgz
npm http fetch 200 http://192.168.1.100:4873/to-string-tag-x/-/to-string-tag-x-1.0.11.tgz
npm http fetch 200 http://192.168.1.100:4873/is-object-like-x/-/is-object-like-x-1.0.11.tgz
npm http fetch 200 http://192.168.1.100:4873/has-to-string-tag-x/-/has-to-string-tag-x-1.0.10.tgz
npm http request GET http://192.168.1.100:4873/has-symbol-support-x
npm http 200 http://192.168.1.100:4873/has-symbol-support-x
npm http fetch GET http://192.168.1.100:4873/has-symbol-support-x/-/has-symbol-support-x-1.0.11.tgz
npm http fetch 200 http://192.168.1.100:4873/has-symbol-support-x/-/has-symbol-support-x-1.0.11.tgz
npm http request GET http://192.168.1.100:4873/is-function-x
npm http request GET http://192.168.1.100:4873/is-primitive
npm http 200 http://192.168.1.100:4873/is-primitive
npm http 200 http://192.168.1.100:4873/is-function-x
npm http fetch GET http://192.168.1.100:4873/is-primitive/-/is-primitive-2.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/is-function-x/-/is-function-x-1.0.6.tgz
npm http fetch 200 http://192.168.1.100:4873/is-primitive/-/is-primitive-2.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/is-function-x/-/is-function-x-1.0.6.tgz
npm http request GET http://192.168.1.100:4873/lodash.isnull
npm http request GET http://192.168.1.100:4873/validate.io-undefined
npm http 200 http://192.168.1.100:4873/validate.io-undefined
npm http 200 http://192.168.1.100:4873/lodash.isnull
npm http fetch GET http://192.168.1.100:4873/validate.io-undefined/-/validate.io-undefined-1.0.3.tgz
npm http fetch GET http://192.168.1.100:4873/lodash.isnull/-/lodash.isnull-3.0.0.tgz
npm http fetch 200 http://192.168.1.100:4873/validate.io-undefined/-/validate.io-undefined-1.0.3.tgz
npm http fetch 200 http://192.168.1.100:4873/lodash.isnull/-/lodash.isnull-3.0.0.tgz
npm http fetch GET http://192.168.1.100:4873/ms/-/ms-0.7.2.tgz
npm http fetch 200 http://192.168.1.100:4873/ms/-/ms-0.7.2.tgz
npm http request GET http://192.168.1.100:4873/abstract-leveldown
npm http request GET http://192.168.1.100:4873/prebuild
npm http request GET http://192.168.1.100:4873/nan
npm http 304 http://192.168.1.100:4873/abstract-leveldown
npm http 200 http://192.168.1.100:4873/nan
npm http 200 http://192.168.1.100:4873/prebuild
npm http fetch GET http://192.168.1.100:4873/prebuild/-/prebuild-4.5.0.tgz
npm http fetch 200 http://192.168.1.100:4873/prebuild/-/prebuild-4.5.0.tgz
npm http request GET http://192.168.1.100:4873/execspawn
npm http request GET http://192.168.1.100:4873/github-from-package
npm http request GET http://192.168.1.100:4873/ghreleases
npm http request GET http://192.168.1.100:4873/node-ninja
npm http request GET http://192.168.1.100:4873/npmlog
npm http request GET http://192.168.1.100:4873/os-homedir
npm http request GET http://192.168.1.100:4873/node-gyp
npm http request GET http://192.168.1.100:4873/expand-template
npm http request GET http://192.168.1.100:4873/noop-logger
npm http request GET http://192.168.1.100:4873/pump
npm http request GET http://192.168.1.100:4873/rc
npm http request GET http://192.168.1.100:4873/async
npm http request GET http://192.168.1.100:4873/simple-get
npm http request GET http://192.168.1.100:4873/tar-stream
npm http request GET http://192.168.1.100:4873/tar-fs
npm http 200 http://192.168.1.100:4873/execspawn
npm http fetch GET http://192.168.1.100:4873/execspawn/-/execspawn-1.0.1.tgz
npm http 200 http://192.168.1.100:4873/github-from-package
npm http 200 http://192.168.1.100:4873/ghreleases
npm http 200 http://192.168.1.100:4873/node-ninja
npm http 200 http://192.168.1.100:4873/npmlog
npm http 304 http://192.168.1.100:4873/os-homedir
npm http 200 http://192.168.1.100:4873/expand-template
npm http 200 http://192.168.1.100:4873/noop-logger
npm http 200 http://192.168.1.100:4873/pump
npm http 200 http://192.168.1.100:4873/node-gyp
npm http fetch 200 http://192.168.1.100:4873/execspawn/-/execspawn-1.0.1.tgz
npm http 200 http://192.168.1.100:4873/rc
npm http 304 http://192.168.1.100:4873/async
npm http fetch GET http://192.168.1.100:4873/pump/-/pump-1.0.2.tgz
npm http fetch GET http://192.168.1.100:4873/expand-template/-/expand-template-1.0.3.tgz
npm http 200 http://192.168.1.100:4873/simple-get
npm http 200 http://192.168.1.100:4873/tar-fs
npm http 200 http://192.168.1.100:4873/tar-stream
npm http fetch 200 http://192.168.1.100:4873/pump/-/pump-1.0.2.tgz
npm http fetch 200 http://192.168.1.100:4873/expand-template/-/expand-template-1.0.3.tgz
npm http fetch GET http://192.168.1.100:4873/tar-fs/-/tar-fs-1.15.0.tgz
npm http fetch 200 http://192.168.1.100:4873/tar-fs/-/tar-fs-1.15.0.tgz
npm http request GET http://192.168.1.100:4873/util-extend
npm http 200 http://192.168.1.100:4873/util-extend
npm http fetch GET http://192.168.1.100:4873/util-extend/-/util-extend-1.0.3.tgz
npm http fetch 200 http://192.168.1.100:4873/util-extend/-/util-extend-1.0.3.tgz
npm http request GET http://192.168.1.100:4873/after
npm http request GET http://192.168.1.100:4873/ghutils
npm http request GET http://192.168.1.100:4873/simple-mime
npm http request GET http://192.168.1.100:4873/url-template
npm http request GET http://192.168.1.100:4873/ghrepos
npm http 304 http://192.168.1.100:4873/after
npm http 200 http://192.168.1.100:4873/ghutils
npm http 200 http://192.168.1.100:4873/simple-mime
npm http fetch GET http://192.168.1.100:4873/after/-/after-0.8.2.tgz
npm http 200 http://192.168.1.100:4873/url-template
npm http 200 http://192.168.1.100:4873/ghrepos
npm http fetch 200 http://192.168.1.100:4873/after/-/after-0.8.2.tgz
npm http fetch GET http://192.168.1.100:4873/ghutils/-/ghutils-3.2.1.tgz
npm http fetch 200 http://192.168.1.100:4873/ghutils/-/ghutils-3.2.1.tgz
npm http request GET http://192.168.1.100:4873/jsonist
npm http 200 http://192.168.1.100:4873/jsonist
npm http fetch GET http://192.168.1.100:4873/jsonist/-/jsonist-1.3.0.tgz
npm http fetch 200 http://192.168.1.100:4873/jsonist/-/jsonist-1.3.0.tgz
npm http request GET http://192.168.1.100:4873/bl
npm http request GET http://192.168.1.100:4873/hyperquest
npm http 304 http://192.168.1.100:4873/bl
npm http 200 http://192.168.1.100:4873/hyperquest
npm http request GET http://192.168.1.100:4873/duplexer2
npm http 304 http://192.168.1.100:4873/duplexer2
npm http request GET http://192.168.1.100:4873/fstream
npm http request GET http://192.168.1.100:4873/osenv
npm http request GET http://192.168.1.100:4873/nopt
npm http request GET http://192.168.1.100:4873/path-array
npm http request GET http://192.168.1.100:4873/tar
npm http request GET http://192.168.1.100:4873/which
npm http 304 http://192.168.1.100:4873/fstream
npm http 304 http://192.168.1.100:4873/tar
npm http 200 http://192.168.1.100:4873/nopt
npm http 200 http://192.168.1.100:4873/osenv
npm http 200 http://192.168.1.100:4873/path-array
npm http fetch GET http://192.168.1.100:4873/osenv/-/osenv-0.1.4.tgz
npm http 200 http://192.168.1.100:4873/which
npm http fetch 200 http://192.168.1.100:4873/osenv/-/osenv-0.1.4.tgz
npm http fetch GET http://192.168.1.100:4873/which/-/which-1.2.12.tgz
npm http fetch 200 http://192.168.1.100:4873/which/-/which-1.2.12.tgz
npm http request GET http://192.168.1.100:4873/abbrev
npm http 304 http://192.168.1.100:4873/abbrev
npm http request GET http://192.168.1.100:4873/are-we-there-yet
npm http request GET http://192.168.1.100:4873/ansi
npm http request GET http://192.168.1.100:4873/gauge
npm http 200 http://192.168.1.100:4873/are-we-there-yet
npm http 304 http://192.168.1.100:4873/ansi
npm http 200 http://192.168.1.100:4873/gauge
npm http request GET http://192.168.1.100:4873/delegates
npm http 200 http://192.168.1.100:4873/delegates
npm http request GET http://192.168.1.100:4873/has-unicode
npm http request GET http://192.168.1.100:4873/lodash.padend
npm http request GET http://192.168.1.100:4873/lodash.pad
npm http request GET http://192.168.1.100:4873/lodash.padstart
npm http 200 http://192.168.1.100:4873/has-unicode
npm http 200 http://192.168.1.100:4873/lodash.padend
npm http 200 http://192.168.1.100:4873/lodash.pad
npm http 200 http://192.168.1.100:4873/lodash.padstart
npm http fetch GET http://192.168.1.100:4873/lodash.pad/-/lodash.pad-4.5.1.tgz
npm http fetch GET http://192.168.1.100:4873/lodash.padend/-/lodash.padend-4.6.1.tgz
npm http fetch GET http://192.168.1.100:4873/lodash.padstart/-/lodash.padstart-4.6.1.tgz
npm http fetch 200 http://192.168.1.100:4873/lodash.pad/-/lodash.pad-4.5.1.tgz
npm http fetch 200 http://192.168.1.100:4873/lodash.padend/-/lodash.padend-4.6.1.tgz
npm http fetch 200 http://192.168.1.100:4873/lodash.padstart/-/lodash.padstart-4.6.1.tgz
npm http request GET http://192.168.1.100:4873/os-tmpdir
npm http 304 http://192.168.1.100:4873/os-tmpdir
npm http request GET http://192.168.1.100:4873/array-index
npm http 200 http://192.168.1.100:4873/array-index
npm http request GET http://192.168.1.100:4873/es6-symbol
npm http 304 http://192.168.1.100:4873/es6-symbol
npm http request GET http://192.168.1.100:4873/d
npm http request GET http://192.168.1.100:4873/es5-ext
npm http 304 http://192.168.1.100:4873/d
npm http 304 http://192.168.1.100:4873/es5-ext
npm http request GET http://192.168.1.100:4873/es6-iterator
npm http 304 http://192.168.1.100:4873/es6-iterator
npm http request GET http://192.168.1.100:4873/qs
npm http request GET http://192.168.1.100:4873/http-signature
npm http request GET http://192.168.1.100:4873/aws-sign2
npm http request GET http://192.168.1.100:4873/har-validator
npm http 304 http://192.168.1.100:4873/qs
npm http 304 http://192.168.1.100:4873/aws-sign2
npm http 304 http://192.168.1.100:4873/http-signature
npm http 304 http://192.168.1.100:4873/har-validator
npm http request GET http://192.168.1.100:4873/bluebird
npm http 304 http://192.168.1.100:4873/bluebird
npm http request GET http://192.168.1.100:4873/ctype
npm http request GET http://192.168.1.100:4873/asn1
npm http request GET http://192.168.1.100:4873/assert-plus
npm http 304 http://192.168.1.100:4873/ctype
npm http 304 http://192.168.1.100:4873/asn1
npm http 304 http://192.168.1.100:4873/assert-plus
npm http request GET http://192.168.1.100:4873/block-stream
npm http 304 http://192.168.1.100:4873/block-stream
npm http request GET http://192.168.1.100:4873/isexe
npm http 200 http://192.168.1.100:4873/isexe
npm http request GET http://192.168.1.100:4873/strip-json-comments
npm http request GET http://192.168.1.100:4873/deep-extend
npm http request GET http://192.168.1.100:4873/ini
npm http 304 http://192.168.1.100:4873/ini
npm http 304 http://192.168.1.100:4873/strip-json-comments
npm http 200 http://192.168.1.100:4873/deep-extend
npm http request GET http://192.168.1.100:4873/unzip-response
npm http 200 http://192.168.1.100:4873/unzip-response
npm http fetch GET http://192.168.1.100:4873/unzip-response/-/unzip-response-1.0.2.tgz
npm http fetch 200 http://192.168.1.100:4873/unzip-response/-/unzip-response-1.0.2.tgz
npm http request GET http://192.168.1.100:4873/extend
npm http request GET http://192.168.1.100:4873/form-data
npm http request GET http://192.168.1.100:4873/uuid
npm http request GET http://192.168.1.100:4873/tough-cookie
npm http 304 http://192.168.1.100:4873/form-data
npm http 304 http://192.168.1.100:4873/uuid
npm http 304 http://192.168.1.100:4873/tough-cookie
npm http 304 http://192.168.1.100:4873/extend
npm http fetch GET http://192.168.1.100:4873/uuid/-/uuid-3.0.1.tgz
npm http fetch 200 http://192.168.1.100:4873/uuid/-/uuid-3.0.1.tgz
npm http request GET http://192.168.1.100:4873/asynckit
npm http 304 http://192.168.1.100:4873/asynckit
npm http request GET http://192.168.1.100:4873/punycode
npm http 304 http://192.168.1.100:4873/punycode
npm http request GET http://192.168.1.100:4873/module-not-found-error
npm http request GET http://192.168.1.100:4873/fill-keys
npm http 200 http://192.168.1.100:4873/fill-keys
npm http 200 http://192.168.1.100:4873/module-not-found-error
npm http request GET http://192.168.1.100:4873/is-object
npm http 200 http://192.168.1.100:4873/is-object
npm http request GET http://192.168.1.100:4873/array-uniq
npm http 304 http://192.168.1.100:4873/array-uniq
npm http request GET http://192.168.1.100:4873/lodash
npm http 304 http://192.168.1.100:4873/lodash
npm http request GET http://192.168.1.100:4873/jsonschema
npm http 304 http://192.168.1.100:4873/jsonschema
npm http request GET http://192.168.1.100:4873/lolex
npm http request GET http://192.168.1.100:4873/formatio
npm http request GET http://192.168.1.100:4873/util
npm http request GET http://192.168.1.100:4873/samsam
npm http 200 http://192.168.1.100:4873/lolex
npm http 304 http://192.168.1.100:4873/util
npm http 200 http://192.168.1.100:4873/formatio
npm http 200 http://192.168.1.100:4873/samsam
npm http request GET http://192.168.1.100:4873/engine.io-client
npm http request GET http://192.168.1.100:4873/component-bind
npm http request GET http://192.168.1.100:4873/object-component
npm http request GET http://192.168.1.100:4873/component-emitter
npm http request GET http://192.168.1.100:4873/socket.io-parser
npm http request GET http://192.168.1.100:4873/has-binary
npm http request GET http://192.168.1.100:4873/indexof
npm http request GET http://192.168.1.100:4873/parseuri
npm http request GET http://192.168.1.100:4873/to-array
npm http request GET http://192.168.1.100:4873/backo2
npm http 304 http://192.168.1.100:4873/socket.io-parser
npm http 304 http://192.168.1.100:4873/component-bind
npm http 304 http://192.168.1.100:4873/engine.io-client
npm http 304 http://192.168.1.100:4873/component-emitter
npm http 304 http://192.168.1.100:4873/object-component
npm http 304 http://192.168.1.100:4873/has-binary
npm http 304 http://192.168.1.100:4873/indexof
npm http 304 http://192.168.1.100:4873/parseuri
npm http 304 http://192.168.1.100:4873/to-array
npm http 304 http://192.168.1.100:4873/backo2
npm http request GET http://192.168.1.100:4873/has-cors
npm http request GET http://192.168.1.100:4873/ws
npm http request GET http://192.168.1.100:4873/xmlhttprequest-ssl
npm http request GET http://192.168.1.100:4873/engine.io-parser
npm http request GET http://192.168.1.100:4873/parsejson
npm http request GET http://192.168.1.100:4873/parseqs
npm http request GET http://192.168.1.100:4873/component-inherit
npm http request GET http://192.168.1.100:4873/yeast
npm http 304 http://192.168.1.100:4873/has-cors
npm http 304 http://192.168.1.100:4873/ws
npm http 304 http://192.168.1.100:4873/xmlhttprequest-ssl
npm http 304 http://192.168.1.100:4873/parsejson
npm http 304 http://192.168.1.100:4873/engine.io-parser
npm http 304 http://192.168.1.100:4873/component-inherit
npm http 304 http://192.168.1.100:4873/parseqs
npm http 304 http://192.168.1.100:4873/yeast
npm http request GET http://192.168.1.100:4873/arraybuffer.slice
npm http request GET http://192.168.1.100:4873/base64-arraybuffer
npm http request GET http://192.168.1.100:4873/blob
npm http request GET http://192.168.1.100:4873/utf8
npm http 304 http://192.168.1.100:4873/arraybuffer.slice
npm http 304 http://192.168.1.100:4873/base64-arraybuffer
npm http 304 http://192.168.1.100:4873/blob
npm http 304 http://192.168.1.100:4873/utf8
npm http request GET http://192.168.1.100:4873/better-assert
npm http 304 http://192.168.1.100:4873/better-assert
npm http request GET http://192.168.1.100:4873/callsite
npm http 304 http://192.168.1.100:4873/callsite
npm http request GET http://192.168.1.100:4873/options
npm http request GET http://192.168.1.100:4873/ultron
npm http 304 http://192.168.1.100:4873/ultron
npm http 304 http://192.168.1.100:4873/options
npm http request GET http://192.168.1.100:4873/json3
npm http request GET http://192.168.1.100:4873/benchmark
npm http 304 http://192.168.1.100:4873/json3
npm http 304 http://192.168.1.100:4873/benchmark
npm http request GET http://192.168.1.100:4873/superagent
npm http 200 http://192.168.1.100:4873/superagent
npm http request GET http://192.168.1.100:4873/methods
npm http request GET http://192.168.1.100:4873/cookiejar
npm http request GET http://192.168.1.100:4873/formidable
npm http request GET http://192.168.1.100:4873/reduce-component
npm http request GET http://192.168.1.100:4873/readable-stream
npm http 304 http://192.168.1.100:4873/methods
npm http 200 http://192.168.1.100:4873/formidable
npm http 200 http://192.168.1.100:4873/reduce-component
npm http 304 http://192.168.1.100:4873/readable-stream
npm http 200 http://192.168.1.100:4873/cookiejar
npm http request GET http://192.168.1.100:4873/combined-stream
npm http request GET http://192.168.1.100:4873/mime-types
npm http 304 http://192.168.1.100:4873/combined-stream
npm http 304 http://192.168.1.100:4873/mime-types
npm http request GET http://192.168.1.100:4873/delayed-stream
npm http 304 http://192.168.1.100:4873/delayed-stream
npm http request GET http://192.168.1.100:4873/mime-db
npm http 304 http://192.168.1.100:4873/mime-db
npm http request GET http://192.168.1.100:4873/defined
npm http request GET http://192.168.1.100:4873/glob
npm http request GET http://192.168.1.100:4873/resumer
npm http request GET http://192.168.1.100:4873/object-inspect
npm http 304 http://192.168.1.100:4873/defined
npm http 304 http://192.168.1.100:4873/glob
npm http 200 http://192.168.1.100:4873/resumer
npm http 200 http://192.168.1.100:4873/object-inspect
npm WARN prefer global node-ninja@1.0.2 should be installed with -g
npm WARN prefer global node-gyp@3.4.0 should be installed with -g
gyp JXcore NODE-GYP Using node-gyp bundled in npm coming from JXcore
gyp http GET https://jxcore.azureedge.net/jxb311.tar.gz
gyp http 200 https://jxcore.azureedge.net/jxb311.tar.gz
In file included from ../src/batch.cc:2:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
In file included from ../src/batch_async.cc:8:
In file included from ../src/batch.h:9:
In file included from ../src/database.h:16:
In file included from ../../nan/nan.h:48:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
In file included from ../src/database.cc:7:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
In file included from ../src/database_async.cc:7:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
In file included from ../src/iterator.cc:7:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
In file included from ../src/iterator_async.cc:7:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
In file included from ../src/leveldown.cc:8:
In file included from ../src/leveldown.h:9:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
In file included from ../src/leveldown_async.cc:8:
In file included from ../src/leveldown.h:9:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
1 warning generated.
gyp JXcore NODE-GYP Using node-gyp bundled in npm coming from JXcore
In file included from ../src/batch.cc:4:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:5:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:7:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:17:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:7:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:7:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch.cc:8:
In file included from ../src/batch_async.h:15:
../src/batch.h:20:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Batch, Batch) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
../src/batch.cc:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  JS_DEFINE_STATE_MARKER(com);
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
../src/batch.cc:118:1: warning: unused variable '__contextORisolate' [-Wunused-variable]
JS_METHOD(Batch, Clear) {
^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:54:3: note: expanded from macro 'JS_METHOD'
  __JS_METHOD_BEGIN_COM()
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:47:3: note: expanded from macro '__JS_METHOD_BEGIN_COM'
  JS_DEFINE_STATE_MARKER_(p___args.GetIsolate()); \
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:94:53: note: expanded from macro 'JS_DEFINE_STATE_MARKER_'
#define JS_DEFINE_STATE_MARKER_(x) JS_ENGINE_MARKER __contextORisolate = x
                                                    ^
15 warnings generated.
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:19:
In file included from ../src/leveldown.h:11:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:17:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
../src/batch.h:20:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Batch, Batch) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/batch_async.cc:9:
In file included from ../src/batch.h:11:
In file included from ../src/database.h:19:
../src/leveldown.h:51:13: warning: unused function 'DisposeStringOrBufferFromSlice' [-Wunused-function]
static void DisposeStringOrBufferFromSlice(JS_LOCAL_VALUE handle,
            ^
14 warnings generated.
In file included from ../src/database.cc:9:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:17:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:15:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database.cc:18:
../src/batch.h:20:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Batch, Batch) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
../src/database.cc:118:1: warning: unused variable '__contextORisolate' [-Wunused-variable]
JS_METHOD(Database, New) {
^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:54:3: note: expanded from macro 'JS_METHOD'
  __JS_METHOD_BEGIN_COM()
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:47:3: note: expanded from macro '__JS_METHOD_BEGIN_COM'
  JS_DEFINE_STATE_MARKER_(p___args.GetIsolate()); \
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:94:53: note: expanded from macro 'JS_DEFINE_STATE_MARKER_'
#define JS_DEFINE_STATE_MARKER_(x) JS_ENGINE_MARKER __contextORisolate = x
                                                    ^
../src/database.cc:130:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  JS_DEFINE_STATE_MARKER(com);
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
15 warnings generated.
In file included from ../src/database_async.cc:9:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:10:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:15:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:17:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:15:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/database_async.cc:15:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
12 warnings generated.
In file included from ../src/iterator.cc:9:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:17:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
../src/iterator.cc:178:1: warning: unused variable '__contextORisolate' [-Wunused-variable]
JS_METHOD(Iterator, Next) {
^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:54:3: note: expanded from macro 'JS_METHOD'
  __JS_METHOD_BEGIN_COM()
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:47:3: note: expanded from macro '__JS_METHOD_BEGIN_COM'
  JS_DEFINE_STATE_MARKER_(p___args.GetIsolate()); \
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:94:53: note: expanded from macro 'JS_DEFINE_STATE_MARKER_'
#define JS_DEFINE_STATE_MARKER_(x) JS_ENGINE_MARKER __contextORisolate = x
                                                    ^
../src/iterator.cc:195:1: warning: unused variable '__contextORisolate' [-Wunused-variable]
JS_METHOD(Iterator, End) {
^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:54:3: note: expanded from macro 'JS_METHOD'
  __JS_METHOD_BEGIN_COM()
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:47:3: note: expanded from macro '__JS_METHOD_BEGIN_COM'
  JS_DEFINE_STATE_MARKER_(p___args.GetIsolate()); \
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:94:53: note: expanded from macro 'JS_DEFINE_STATE_MARKER_'
#define JS_DEFINE_STATE_MARKER_(x) JS_ENGINE_MARKER __contextORisolate = x
                                                    ^
../src/iterator.cc:222:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  JS_DEFINE_STATE_MARKER(com);
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator.cc:11:
In file included from ../src/database.h:19:
../src/leveldown.h:51:13: warning: unused function 'DisposeStringOrBufferFromSlice' [-Wunused-function]
static void DisposeStringOrBufferFromSlice(JS_LOCAL_VALUE handle,
            ^
16 warnings generated.
In file included from ../src/iterator_async.cc:9:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:17:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/iterator_async.cc:11:
In file included from ../src/database.h:19:
../src/leveldown.h:51:13: warning: unused function 'DisposeStringOrBufferFromSlice' [-Wunused-function]
static void DisposeStringOrBufferFromSlice(JS_LOCAL_VALUE handle,
            ^
13 warnings generated.
In file included from ../src/leveldown.cc:10:
In file included from ../src/leveldown.h:11:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:13:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
In file included from ../src/iterator.h:17:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:11:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown.cc:13:
../src/batch.h:20:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Batch, Batch) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
../src/leveldown.cc:59:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(leveldown, LeveldownWrap) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
../src/leveldown.cc:70:1: warning: unused variable '__contextORisolate' [-Wunused-variable]
JS_METHOD(LeveldownWrap, New) {
^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:54:3: note: expanded from macro 'JS_METHOD'
  __JS_METHOD_BEGIN_COM()
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:47:3: note: expanded from macro '__JS_METHOD_BEGIN_COM'
  JS_DEFINE_STATE_MARKER_(p___args.GetIsolate()); \
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:94:53: note: expanded from macro 'JS_DEFINE_STATE_MARKER_'
#define JS_DEFINE_STATE_MARKER_(x) JS_ENGINE_MARKER __contextORisolate = x
                                                    ^
In file included from ../src/leveldown.cc:10:
../src/leveldown.h:51:13: warning: unused function 'DisposeStringOrBufferFromSlice' [-Wunused-function]
static void DisposeStringOrBufferFromSlice(JS_LOCAL_VALUE handle,
            ^
16 warnings generated.
In file included from ../src/leveldown_async.cc:10:
In file included from ../src/leveldown.h:11:
In file included from /Users/thali/.node-gyp/jxb311/src/node_buffer.h:8:
/Users/thali/.node-gyp/jxb311/src/jx/commons.h:328:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(this);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:215:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:224:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:239:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:270:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:278:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:290:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:302:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com_);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:12:
../src/nan.h:320:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:13:
In file included from ../src/database.h:20:
../src/iterator.h:29:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Iterator, Iterator) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
In file included from ../src/async.h:13:
../src/database.h:55:3: warning: unused variable '__contextORisolate' [-Wunused-variable]
  INIT_NAMED_CLASS_MEMBERS(Database, Database) {
  ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/PMacro.h:138:5: note: expanded from macro 'INIT_NAMED_CLASS_MEMBERS'
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:11:
In file included from ../src/leveldown_async.h:12:
../src/async.h:26:5: warning: unused variable '__contextORisolate' [-Wunused-variable]
    JS_DEFINE_STATE_MARKER(com);
    ^
/Users/thali/.node-gyp/jxb311/src/jx/Proxy/V8_3_14/V8Environment.h:92:20: note: expanded from macro 'JS_DEFINE_STATE_MARKER'
  JS_ENGINE_MARKER __contextORisolate = \
                   ^
In file included from ../src/leveldown_async.cc:10:
../src/leveldown.h:51:13: warning: unused function 'DisposeStringOrBufferFromSlice' [-Wunused-function]
static void DisposeStringOrBufferFromSlice(JS_LOCAL_VALUE handle,
            ^
13 warnings generated.
npm WARN EPACKAGEJSON thali-cordova-plugin-jxcore@1.0.0 No repository field.
(node) warning: possible EventEmitter memory leak detected. 11 listeners added. Use emitter.setMaxListeners() to increase limit.
Trace
    at EventEmitter.addListener (events.js:140:15)
    at module.exports (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/pouchdb-all-dbs/lib/index.js:82:9)
    at /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/lib/index.js:143:35
    at tryCatcher (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:504:31)
    at Promise._settlePromise (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:561:18)
    at Promise._settlePromise0 (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:606:10)
    at Promise._settlePromises (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:681:18)
    at Async._drainQueue (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:138:16)
    at Async._drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:148:10)
    at Async.drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:17:14)
    at process._tickCallback (node.js:924:13)
(node) warning: possible EventEmitter memory leak detected. 11 listeners added. Use emitter.setMaxListeners() to increase limit.
Trace
    at EventEmitter.addListener (events.js:140:15)
    at module.exports (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/pouchdb-all-dbs/lib/index.js:57:9)
    at /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/lib/index.js:143:35
    at tryCatcher (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:504:31)
    at Promise._settlePromise (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:561:18)
    at Promise._settlePromise0 (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:606:10)
    at Promise._settlePromises (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:681:18)
    at Async._drainQueue (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:138:16)
    at Async._drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:148:10)
    at Async.drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:17:14)
    at process._tickCallback (node.js:924:13)
(node) warning: possible EventEmitter memory leak detected. 11 listeners added. Use emitter.setMaxListeners() to increase limit.
Trace
    at EventEmitter.addListener (events.js:140:15)
    at module.exports (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/pouchdb-all-dbs/lib/index.js:82:9)
    at /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/lib/index.js:143:35
    at tryCatcher (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:504:31)
    at Promise._settlePromise (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:561:18)
    at Promise._settlePromise0 (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:606:10)
    at Promise._settlePromises (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:681:18)
    at Async._drainQueue (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:138:16)
    at Async._drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:148:10)
    at Async.drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:17:14)
    at process._tickCallback (node.js:924:13)
(node) warning: possible EventEmitter memory leak detected. 11 listeners added. Use emitter.setMaxListeners() to increase limit.
Trace
    at EventEmitter.addListener (events.js:140:15)
    at module.exports (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/pouchdb-all-dbs/lib/index.js:57:9)
    at /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/lib/index.js:143:35
    at tryCatcher (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:504:31)
    at Promise._settlePromise (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:561:18)
    at Promise._settlePromise0 (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:606:10)
    at Promise._settlePromises (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:681:18)
    at Async._drainQueue (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:138:16)
    at Async._drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:148:10)
    at Async.drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:17:14)
    at process._tickCallback (node.js:924:13)
(node) warning: possible EventEmitter memory leak detected. 11 listeners added. Use emitter.setMaxListeners() to increase limit.
Trace
    at EventEmitter.addListener (events.js:140:15)
    at module.exports (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/pouchdb-all-dbs/lib/index.js:82:9)
    at /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/lib/index.js:143:35
    at tryCatcher (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:504:31)
    at Promise._settlePromise (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:561:18)
    at Promise._settlePromise0 (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:606:10)
    at Promise._settlePromises (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:681:18)
    at Async._drainQueue (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:138:16)
    at Async._drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:148:10)
    at Async.drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:17:14)
    at process._tickCallback (node.js:924:13)
(node) warning: possible EventEmitter memory leak detected. 11 listeners added. Use emitter.setMaxListeners() to increase limit.
Trace
    at EventEmitter.addListener (events.js:140:15)
    at module.exports (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/pouchdb-all-dbs/lib/index.js:57:9)
    at /Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/lib/index.js:143:35
    at tryCatcher (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:504:31)
    at Promise._settlePromise (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:561:18)
    at Promise._settlePromise0 (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:606:10)
    at Promise._settlePromises (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/promise.js:681:18)
    at Async._drainQueue (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:138:16)
    at Async._drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:148:10)
    at Async.drainQueues (/Users/thali/Github/Thali_CordovaPlugin/test/www/jxcore/node_modules/express-pouchdb/node_modules/bluebird/js/release/async.js:17:14)
    at process._tickCallback (node.js:924:13)
